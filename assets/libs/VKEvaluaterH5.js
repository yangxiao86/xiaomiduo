!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VKEvaluaterH5",[],t):"object"==typeof exports?exports.VKEvaluaterH5=t():e.VKEvaluaterH5=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=185)}([function(e,t,r){"use strict";(function(e){var n=r(3),i=r.n(n),o=r(1),a=null,s={product:"VKEvaluater-SDK",business:"ISCP-H5-SDK",$url:document.location.href||"unknown"},c=null,u=null;function l(){}l.init=function(t){e.sa?(a=e.sa,t.reInit&&a.init({server_url:u?i.a.sensorConfig.sa_online_server_url:i.a.sensorConfig.sa_test_server_url,show_log:window._vkm_debug_mode})):(a=r(187)).init({server_url:u?i.a.sensorConfig.sa_online_server_url:i.a.sensorConfig.sa_test_server_url,show_log:window._vkm_debug_mode}),c=t.version,u="prod"===t.env,s.version=c,s.class_id=t.appId,s.channel_id=t.userId,s.sub_type=t.sdkMode},l.track=function(e){var t=s;t.message=(e.code?e.code+": ":"")+(e.message||"evaluater success"),t.type=e.code?e.code:"evaluater success",a.track(u?"learning_click":"ViewProduct",t),o.a._log(e.code?"code: "+e.code:"",e.message||"evaluater success")},l.log=function(e){var t=s,r=e.message||"null message",n=Date.now().toString(),i=n.slice(n.length-3,n.length),c=new Date(parseInt(n)).toLocaleString().replace(/年|月|日/g,"-");t.message=r+" - time: "+(c+" ").replace(/上午/g,"AM ").replace(/下午/g,"PM ")+"ms: "+i,t.type="evaluater log",a.track(u?"learning_click":"ViewProduct",t),o.a._log(r)},t.a=l}).call(this,r(35))},function(e,t,r){"use strict";var n=r(3),i=r.n(n),o=r(177),a=r.n(o);function s(){this.name="VKEvaluaterUtils"}s._ua=window.navigator.userAgent,s.browserCheck={trident:s._ua.includes("Trident"),presto:s._ua.includes("Presto"),iPad:s._ua.includes("iPad"),iPhone:s._ua.includes("iPhone"),webKit:s._ua.includes("AppleWebKit"),webApp:-1===s._ua.indexOf("Safari"),mobile:!!s._ua.match(/AppleWebKit.*Mobile.*/),ios:!!s._ua.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:s._ua.includes("Android")||s._ua.includes("Linux"),gecko:s._ua.includes("Gecko")&&-1===s._ua.indexOf("KHTML"),wechat:"micromessenger"==s._ua.toLowerCase().match(/MicroMessenger/i),is:function(e){return Device[e]}},s.getAppInfo=function(){var e=s._ua.split(" "),t=e[e.length-1].indexOf("apad")>-1?"android":"ios",r={app_type:void 0,app_version:void 0,app_os:void 0};if(s.browserCheck.mobile&&!s.browserCheck.iPad&&"android"!==t){r.app_type="parent";var n=a.a.get("appEnv");if(!n)return r;var i=JSON.parse(decodeURIComponent(n)),o=i.vn,c=i.os;r.app_version=o,r.app_os="i"===c?"ios":"android"}else{if(r.app_type="study",["android","ios"].indexOf(t)<0)return r;var u=s._ua.substr(s._ua.indexOf("study")).split(" ")[0].split("/")[1];r.app_version=u,r.app_os=t}return r},s.checkAppValid=function(e){return!(!e.app_version||!e.app_type)||"get app info invaild: type="+e.app_type+", version="+e.app_version+", os="+e.app_os},s.checkMinAppSupport=function(e){var t=e.app_version,r=e.app_type,n=e.app_os,o=i.a.appMinSupportList[r][n],a="version="+t+", type="+r+", os="+n;return o?function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("."),n=t.split("."),i=Math.max(r.length,n.length),o=0,a=0;a<i;a++){var s=r.length>a?r[a]:0,c=isNaN(Number(s))?s.charCodeAt():Number(s),u=n.length>a?n[a]:0,l=isNaN(Number(u))?u.charCodeAt():Number(u);if(c<l){o=-1;break}if(c>l){o=1;break}}return o}(t,o)>=0||"app min support invaild: minVersion="+o+", "+a:"app minVersion not found: "+a},s.isObj=function(e){var t=!1;return"[object Object]"===Object.prototype.toString.call(e)&&(t=!0),t},s.isEmptyObj=function(e){for(var t in e)return!1;return!0},s.mergeObj=function(e,t){for(var r in t)e[r]=t[r];return e},s.isArray=function(e){return!!Array.isArray(e)},s.find=function(e,t){for(var r=Object.keys(t),n=null,i=0;i<e.length;i++)for(var o=e[i],a=0;a<r.length;a++){var s=r[a];if(o[s]===t[s]){n=o;break}}return n},s._log=function(){if(window._vkm_debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift("[Evaluater log] "),console.log.apply(console,e)}},s._warn=function(){if(window._vkm_debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift("[Evaluater warn] "),console.warn.apply(console,e)}},s._error=function(){if(window._vkm_debug_mode){var e=Array.prototype.slice.call(arguments);e.unshift("[Evaluater error] "),console.error.apply(console,e)}},s._deepLog=function(e,t){var r=e||"deepLog: ";if(s.isObj(t)||s.isArray(t))for(var n in t)s._deepLog(" "+n+"-",t[n]);else s._log(r,t)},s._deepLogEvent=function(e,t){for(var r in t)s._deepLog(" "+r+":",t)},s._checkCoreCondition=function(e,t,r){if(t===i.a.state.CONNECTING)throw new Error("[VKEvaluaterCore] The server still in connecting. Please use it before init finished.(by check state)");if(t===i.a.state.CLOSED)throw new Error("[VKEvaluaterCore] The server already closed. Please re-init it before use it agiain.");if("sendAudioInfo"===e&&t!==i.a.state.PREPARE_START)throw new Error("[VKEvaluaterCore] The previous evaluter task sill in process. You must waiting for it finished.");if("sendAudioStream"===e&&t!==i.a.state.WAITING_AUDIO_STREAM&&t!==i.a.state.RESULT_RECEIVING&&t!==i.a.state.RESULT_RECEIVED)throw new Error("[VKEvaluaterCore] Please send audio info before send audio data.");return!0},s._checkCondition=function(e,t,r){if(s._log("stage: ",e,", state: ",t),t===i.a.state.NOT_READY)return new Error("[VKEvaluater] The server not ready.");if(t===i.a.state.CONNECTING)return new Error("[VKEvaluater] The server still in connecting.");if(t===i.a.state.CLOSED)return new Error("[VKEvaluater] The server already closed. Please re-init it before use it agiain.");if("start"===e&&t!==i.a.state.PREPARE_START)return s._error("[VKEvaluater] Start must be called after evaluater prepared."),new Error("[VKEvaluater] Start must be called after evaluater prepared.");if("stop"===e){if(r.isVad)return!0;if(r.isRealTime){if(t!==i.a.state.AUDIO_RECORDING&&t!==i.a.state.RESULT_RECEIVED&&t!==i.a.state.RESULT_RECEIVING)return s._error("[VKEvaluater] RealTime stop must be called at states (4, 5, 6), but now is: "+t),new Error("[VKEvaluater] RealTime stop must be called at states (4, 5, 6), but now is: "+t)}else if(t!==i.a.state.AUDIO_RECORDING)return s._error("[VKEvaluater] Stop must be called after evaluater.start()."),new Error("[VKEvaluater] Stop must be called after evaluater.start().")}return!0},s._generateUniqStr=function(e){var t="";for(e=e||32;e--;)t+=(16*Math.random()|0)%2?(16*Math.random()|0).toString(16):(16*Math.random()|0).toString(16).toUpperCase();return t.toLowerCase()},s._getUserAgent=function(){return navigator.userAgent},s._getDeviceInfo=function(){return{userAgent:navigator.userAgent,vendor:navigator.vendor,platform:navigator.platform,appName:navigator.appName}},s._checkUserMedia=function(e,t){navigator&&navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(){e()},function(e){t(e)}):t()},s._checkoutRecorderFailReason=function(e){var t=e,r=null;switch(t.name){case"AbortError":r="AbortError -> 用户与操作系统都提供了媒体访问权限，但发生了一些媒体被阻止使用的其他问题。";break;case"NotAllowedError":case"PermissionDeniedError":r="NotAllowedError -> 上下文不安全或用户拒绝全局访问用户媒体。";break;case"DevicesNotFoundError":case"NotFoundError":r="NotFoundError -> 未能找到满足约束条件下的媒体类型轨道。";break;case"NotSupportedError":r="NotSupportedError -> 该浏览器不支持使用麦克风。";break;case"NotReadableError":case"TrackStartError":r="NotReadableError -> 用户已经授予媒体权限，但操作系统，浏览器或者页面级别发生硬件错误导致媒体无法访问。";break;case"OverconstrainedError":case"ConstraintNotSatisfiedError":r="OverconstrainedError -> 指定的约束条件导致未能找到符合要求的候选媒体。";break;case"SecurityError":r="SecurityError -> Document在getUserMedia()被调用但对象上禁用用户媒体支持。";break;case"TypeError":r="TypeError -> 指定但约束列表为空或所有约束项均被设置为false。";break;default:r="UnknowError -> 无法打开麦克风。异常信息:"+(t.code||t.name)}return r},s._judgeDomain=function(){url||EvaluaterUtil._log("_judgeDomain function params is invalid");var e=!0;return url.match(/vipkid\./)||(e=!1),EvaluaterUtil._log("check domain contain 'vipkid': ",e),e},s._myAjax=function(e){e.success=e.success||function(){},e.error=e.error||function(){};var t=new XMLHttpRequest,r=!1;if(t.onerror=function(e){s._log(" xhr err:",e),r=!0},t.onloadend=function(){if(r)e.error("xhr cannot connect server");else{if(404===t.status)return void e.error(" xhr server error(404 not found)");var n;try{n=JSON.parse(t.responseText)}catch(t){return e.error(" xhr response format error")}200===t.status?e.success(n.data):400===t.status&&e.error(n.message)}},"get"===e.type){var n="";for(var i in n+="?",e.data)n+=i+"="+e.data[i]+"&";e.url+=n}t.open(e.type||"get",e.url,!0),"post"===e.type&&e.data?e.notJson?t.send(e.data):(t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.send(JSON.stringify(e.data))):t.send()},t.a=s},function(e,t,r){var n=r(4),i=r(11),o=r(19),a=r(15),s=r(23),c=function e(t,r,c){var u,l,f,p,d=t&e.F,h=t&e.G,m=t&e.P,v=t&e.B,_=h?n:t&e.S?n[r]||(n[r]={}):(n[r]||{}).prototype,g=h?i:i[r]||(i[r]={}),y=g.prototype||(g.prototype={});for(u in h&&(c=r),c)f=((l=!d&&_&&void 0!==_[u])?_:c)[u],p=v&&l?s(f,n):m&&"function"==typeof f?s(Function.call,f):f,_&&a(_,u,f,t&e.U),g[u]!=f&&o(g,u,p),m&&y[u]!=f&&(y[u]=f)};n.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){var r=function(){};r.appMinSupportList={parent:{ios:"2.6.0",android:"2.5.1"},study:{ios:"2.10.0",android:"1.0.0"}},r.appAbilitySupportList={parent:{ios:{eval:"",asr:"",vad:""},android:{eval:"",asr:"",vad:""}},study:{ios:{eval:"2.10.0",asr:"3.4.0",vad:"3.12.0"},android:{eval:"1.0.0",asr:"3.8.0",vad:""}}},r.apiUrlMap={test:"https://wss.vipkid-qa.com.cn/iscp/api/v1",pre:"https://wss.vipkid.com.cn/iscp/api/v1",prod:"https://wss.vipkid.com.cn/iscp/api/v1",chenlei:"http://172.23.16.35:8080/iscp/api/v1"},r.socketUrlMap={test:"wss://wss.vipkid-qa.com.cn/iscp/api/chivox/v2",pre:"wss://wss.vipkid.com.cn/iscp/api/chivox/v2",prod:"wss://wss.vipkid.com.cn/iscp/api/chivox/v2",chenlei:"ws://172.23.16.35:8080/iscp/api/chivox/v2"},r.state={NOT_READY:1,CONNECTING:2,PREPARE_START:3,AUDIO_RECORDING:4,RESULT_RECEIVING:5,RESULT_RECEIVED:6,CLOSED:7,INTERRUPTED:8,WAITING_AUDIO_STREAM:4},r.configCenterTestEnv={url:"http://test-config.vipkid.com.cn",appName:"evaluater-sdk-test",token:"d3f640ceeab8bd6babeb77c3b353efb1",confName:"sensorUrl.json"},r.configCenterProdEnv={url:"http://config.vipkid.com.cn",appName:"evaluater-sdk-prod",token:"",confName:"sensorUrl.json"},r.sensorConfig={sa_test_server_url:"http://sc.vipkid.com.cn:8006/sa?project=test",sa_online_server_url:"https://sensorsdata.vipkid.com.cn/sa?project=default"},r.coreErrorMap={notSupport:{code:1101,message:"webSocket not supported"},cannotConnect:{code:1104,message:"server cannot connect"},connectTimeout:{code:1105,message:"connect timeout"},authFail:{code:1107,message:"appId invalid"},userIdFail:{code:1108,message:"userId invalid"},audioInfoInvalid:{code:4001,message:"audio info invalid"},evaluateFail:{code:4002,message:"evaluate failed"},evaluateTimeout:{code:4003,message:"evaluate timeout"},unknowError:{code:1e3,message:"unexpected error"}},r.recorderErrMap={902001:"recordNotSupport"},r.errorCodeMap={1101:"evaluateNotSupport",1104:"cannotConnect",1105:"connectTimeout",1107:"authFail",1108:"userIdFail",4001:"audioInfoInvalid",4002:"evaluateFail",4003:"evaluateTimeout",1000:"unknown"},r.errorMap={evaluateNotSupport:{code:1101,message:"evaluate not supported"},recordNotSupport:{code:1102,message:"record not supported"},recordPermissionDeny:{code:1103,message:"record permission deny"},cannotConnect:{code:1104,message:"server cannot connect"},connectTimeout:{code:1105,message:"connect timeout"},networkAnomaly:{code:1106,message:"network anomaly"},authFail:{code:1107,message:"appId invalid"},userIdFail:{code:1108,message:"userId invalid"},evaluateNativeTimeout:{code:2013,message:"evaluate native timeout"},audioInfoInvalid:{code:4001,message:"audio info invalid"},evaluateFail:{code:4002,message:"evaluate failed"},evaluateTimeout:{code:4003,message:"evaluate timeout"},unknown:{code:1e3,message:"unknown error"}},r.errorCodeMappingForH5={10001:"1106",10002:"1103",10003:"4001",10004:"4002",10005:"4002",10006:"4003","-1000":"1000","-1001":"1102","-1002":"4002","-1003":"1106","-1004":"1106","-1005":"1102","-1006":"1103","-1007":"1102","-1008":"4001","-1009":"4002","-1010":"4002"},r.evalModeCodeMappingForNative={Default:1,ChivoxHiTalk:4,SelfStudyNormal:8,SelfStudyHiTalk:16,ASR_Normal:100,ASR_RealTime:101,ASR_Normal_CN:110,ASR_RealTime_CN:111},e.exports=r},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){var n=r(7);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))?null!==e:"function"==typeof e}},function(e,t,r){var n=r(66)("wks"),i=r(38),o=r(4).Symbol,a="function"==typeof o;(e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},function(e,t,r){var n=r(25),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,s){"object"===a(t)?e.exports=t=s():(i=[],void 0===(o="function"==typeof(n=s)?n.apply(t,i):n)||(e.exports=o))}(0,function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(n,l);var f=n.splice(0,c);r.sigBytes-=u}return new a.init(f,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),p=(i.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e})},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t,r){e.exports=!r(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(6),i=r(143),o=r(33),a=Object.defineProperty;t.f=r(12)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(30);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(4),i=r(19),o=r(18),a=r(38)("src"),s=r(274),c=(""+s).split("toString");r(11).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,r,s){var u="function"==typeof r;u&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(u&&(o(r,a)||i(r,a,e[t]?""+e[t]:c.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(e,t,r){var n=r(2),i=r(5),o=r(30),a=/"/g,s=function(e,t,r,n){var i=String(o(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(s),n(n.P+n.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",r)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(131),o=r(245),a=Object.prototype.toString;function s(e){return"[object Array]"===a.call(e)}function c(e){return null!==e&&"object"===(void 0===e?"undefined":n(e))}function u(e){return"[object Function]"===a.call(e)}function l(e,t){if(null!==e&&void 0!==e)if("object"===(void 0===e?"undefined":n(e))||s(e)||(e=[e]),s(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,i){"object"===n(t[i])&&"object"===(void 0===r?"undefined":n(r))?t[i]=e(t[i],r):t[i]=r}for(var i=0,o=arguments.length;i<o;i++)l(arguments[i],r);return t},extend:function(e,t,r){return l(t,function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(13),i=r(37);e.exports=r(12)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(58),i=r(30);e.exports=function(e){return n(i(e))}},function(e,t,r){"use strict";var n=r(182),i=r.n(n),o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.instance=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a),o(t,null,[{key:"getInstance",value:function(e){return this.instance||(this.instance=new t(e)),this.instance}}]),t}();t.a=a},function(e,t,r){"use strict";var n=r(5);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,r){var n=r(24);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(59),i=r(37),o=r(20),a=r(33),s=r(18),c=r(143),u=Object.getOwnPropertyDescriptor;t.f=r(12)?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},function(e,t,r){var n=r(2),i=r(11),o=r(5);e.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},function(e,t,r){var n=r(23),i=r(58),o=r(14),a=r(9),s=r(159);e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,l=4==e,f=6==e,p=5==e||f,d=t||s;return function(t,s,h){for(var m,v,_=o(t),g=i(_),y=n(s,h,3),b=a(g.length),w=0,S=r?d(t,b):c?d(t,0):void 0;b>w;w++)if((p||w in g)&&(v=y(m=g[w],w,_),e))if(r)S[w]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(l)return!1;return f?-1:u||l?l:S}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(r(12)){var i=r(39),o=r(4),a=r(5),s=r(2),c=r(77),u=r(115),l=r(23),f=r(53),p=r(37),d=r(19),h=r(54),m=r(25),v=r(9),_=r(170),g=r(41),y=r(33),b=r(18),w=r(60),S=r(7),x=r(14),E=r(107),k=r(42),T=r(44),R=r(43).f,C=r(109),A=r(38),P=r(8),O=r(28),M=r(67),I=r(61),N=r(111),j=r(51),D=r(70),B=r(52),L=r(110),F=r(161),U=r(13),H=r(26),q=U.f,V=H.f,z=o.RangeError,G=o.TypeError,X=o.Uint8Array,K=Array.prototype,W=u.ArrayBuffer,Y=u.DataView,$=O(0),J=O(2),Q=O(3),Z=O(4),ee=O(5),te=O(6),re=M(!0),ne=M(!1),ie=N.values,oe=N.keys,ae=N.entries,se=K.lastIndexOf,ce=K.reduce,ue=K.reduceRight,le=K.join,fe=K.sort,pe=K.slice,de=K.toString,he=K.toLocaleString,me=P("iterator"),ve=P("toStringTag"),_e=A("typed_constructor"),ge=A("def_constructor"),ye=c.CONSTR,be=c.TYPED,we=c.VIEW,Se=O(1,function(e,t){return Re(I(e,e[ge]),t)}),xe=a(function(){return 1===new X(new Uint16Array([1]).buffer)[0]}),Ee=!!X&&!!X.prototype.set&&a(function(){new X(1).set({})}),ke=function(e,t){var r=m(e);if(r<0||r%t)throw z("Wrong offset!");return r},Te=function(e){if(S(e)&&be in e)return e;throw G(e+" is not a typed array!")},Re=function(e,t){if(!(S(e)&&_e in e))throw G("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Ae(I(e,e[ge]),t)},Ae=function(e,t){for(var r=0,n=t.length,i=Re(e,n);n>r;)i[r]=t[r++];return i},Pe=function(e,t,r){q(e,t,{get:function(){return this._d[r]}})},Oe=function(e){var t,r,n,i,o,a,s=x(e),c=arguments.length,u=c>1?arguments[1]:void 0,f=void 0!==u,p=C(s);if(void 0!=p&&!E(p)){for(a=p.call(s),n=[],t=0;!(o=a.next()).done;t++)n.push(o.value);s=n}for(f&&c>2&&(u=l(u,arguments[2],2)),t=0,r=v(s.length),i=Re(this,r);r>t;t++)i[t]=f?u(s[t],t):s[t];return i},Me=function(){for(var e=0,t=arguments.length,r=Re(this,t);t>e;)r[e]=arguments[e++];return r},Ie=!!X&&a(function(){he.call(new X(1))}),Ne=function(){return he.apply(Ie?pe.call(Te(this)):Te(this),arguments)},je={copyWithin:function(e,t){return F.call(Te(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Te(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Te(this),arguments)},filter:function(e){return Ce(this,J(Te(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return ee(Te(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return te(Te(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Te(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Te(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return re(Te(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Te(this),arguments)},lastIndexOf:function(e){return se.apply(Te(this),arguments)},map:function(e){return Se(Te(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return ce.apply(Te(this),arguments)},reduceRight:function(e){return ue.apply(Te(this),arguments)},reverse:function(){for(var e,t=Te(this).length,r=Math.floor(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e){return Q(Te(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return fe.call(Te(this),e)},subarray:function(e,t){var r=Te(this),n=r.length,i=g(e,n);return new(I(r,r[ge]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,v((void 0===t?n:g(t,n))-i))}},De=function(e,t){return Ce(this,pe.call(Te(this),e,t))},Be=function(e){Te(this);var t=ke(arguments[1],1),r=this.length,n=x(e),i=v(n.length),o=0;if(i+t>r)throw z("Wrong length!");for(;o<i;)this[t+o]=n[o++]},Le={entries:function(){return ae.call(Te(this))},keys:function(){return oe.call(Te(this))},values:function(){return ie.call(Te(this))}},Fe=function(e,t){return S(e)&&e[be]&&"symbol"!=(void 0===t?"undefined":n(t))&&t in e&&String(+t)==String(t)},Ue=function(e,t){return Fe(e,t=y(t,!0))?p(2,e[t]):V(e,t)},He=function(e,t,r){return!(Fe(e,t=y(t,!0))&&S(r)&&b(r,"value"))||b(r,"get")||b(r,"set")||r.configurable||b(r,"writable")&&!r.writable||b(r,"enumerable")&&!r.enumerable?q(e,t,r):(e[t]=r.value,e)};ye||(H.f=Ue,U.f=He),s(s.S+s.F*!ye,"Object",{getOwnPropertyDescriptor:Ue,defineProperty:He}),a(function(){de.call({})})&&(de=he=function(){return le.call(this)});var qe=h({},je);h(qe,Le),d(qe,me,Le.values),h(qe,{slice:De,set:Be,constructor:function(){},toString:de,toLocaleString:Ne}),Pe(qe,"buffer","b"),Pe(qe,"byteOffset","o"),Pe(qe,"byteLength","l"),Pe(qe,"length","e"),q(qe,ve,{get:function(){return this[be]}}),e.exports=function(e,t,r,n){var u=e+((n=!!n)?"Clamped":"")+"Array",l="get"+e,p="set"+e,h=o[u],m=h||{},g=h&&T(h),y=!h||!c.ABV,b={},x=h&&h.prototype,E=function(e,r){q(e,r,{get:function(){return function(e,r){var n=e._d;return n.v[l](r*t+n.o,xe)}(this,r)},set:function(e){return function(e,r,i){var o=e._d;n&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[p](r*t+o.o,i,xe)}(this,r,e)},enumerable:!0})};y?(h=r(function(e,r,n,i){f(e,h,u,"_d");var o,a,s,c,l=0,p=0;if(S(r)){if(!(r instanceof W||"ArrayBuffer"==(c=w(r))||"SharedArrayBuffer"==c))return be in r?Ae(h,r):Oe.call(h,r);o=r,p=ke(n,t);var m=r.byteLength;if(void 0===i){if(m%t)throw z("Wrong length!");if((a=m-p)<0)throw z("Wrong length!")}else if((a=v(i)*t)+p>m)throw z("Wrong length!");s=a/t}else s=_(r),o=new W(a=s*t);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new Y(o)});l<s;)E(e,l++)}),x=h.prototype=k(qe),d(x,"constructor",h)):a(function(){h(1)})&&a(function(){new h(-1)})&&D(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=r(function(e,r,n,i){var o;return f(e,h,u),S(r)?r instanceof W||"ArrayBuffer"==(o=w(r))||"SharedArrayBuffer"==o?void 0!==i?new m(r,ke(n,t),i):void 0!==n?new m(r,ke(n,t)):new m(r):be in r?Ae(h,r):Oe.call(h,r):new m(_(r))}),$(g!==Function.prototype?R(m).concat(R(g)):R(m),function(e){e in h||d(h,e,m[e])}),h.prototype=x,i||(x.constructor=h));var C=x[me],A=!!C&&("values"==C.name||void 0==C.name),P=Le.values;d(h,_e,!0),d(x,be,u),d(x,we,!0),d(x,ge,h),(n?new h(1)[ve]==u:ve in x)||q(x,ve,{get:function(){return u}}),b[u]=h,s(s.G+s.W+s.F*(h!=m),b),s(s.S,u,{BYTES_PER_ELEMENT:t}),s(s.S+s.F*a(function(){m.of.call(h,1)}),u,{from:Oe,of:Me}),"BYTES_PER_ELEMENT"in x||d(x,"BYTES_PER_ELEMENT",t),s(s.P,u,je),B(u),s(s.P+s.F*Ee,u,{set:Be}),s(s.P+s.F*!A,u,Le),i||x.toString==de||(x.toString=de),s(s.P+s.F*a(function(){new h(1).slice()}),u,{slice:De}),s(s.P+s.F*(a(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!a(function(){x.toLocaleString.call([1,2])})),u,{toLocaleString:Ne}),j[u]=A?C:P,i||A||d(x,me,P)}}else e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(196));var i="function"==typeof Symbol;function o(e){return i&&"AsyncFunction"===e[Symbol.toStringTag]}t.default=function(e){return o(e)?(0,n.default)(e):e},t.isAsync=o},function(e,t,r){var n=r(7);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(38)("meta"),o=r(7),a=r(18),s=r(13).f,c=0,u=Object.isExtensible||function(){return!0},l=!r(5)(function(){return u(Object.preventExtensions({}))}),f=function(e){s(e,i,{value:{i:"O"+ ++c,w:{}}})},p=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==(void 0===e?"undefined":n(e))?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[i].i},getWeak:function(e,t){if(!a(e,i)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[i].w},onFreeze:function(e){return l&&p.NEED&&u(e)&&!a(e,i)&&f(e),e}}},function(e,t){var r,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},function(e,t){e.exports=!1},function(e,t,r){var n=r(145),i=r(94);e.exports=Object.keys||function(e){return n(e,i)}},function(e,t,r){var n=r(25),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},function(e,t,r){var n=r(6),i=r(146),o=r(94),a=r(93)("IE_PROTO"),s=function(){},c=function(){var e,t=r(91)("iframe"),n=o.length;for(t.style.display="none",r(95).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;n--;)delete c.prototype[o[n]];return c()};e.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=c(),void 0===t?r:i(r,t)}},function(e,t,r){var n=r(145),i=r(94).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(18),i=r(14),o=r(93)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,r){var n=r(8)("unscopables"),i=Array.prototype;void 0==i[n]&&r(19)(i,n,{}),e.exports=function(e){i[n][e]=!0}},function(e,t,r){var n=r(7);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c){"object"===a(t)?e.exports=t=c(r(10)):(i=[r(10)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return function(){var t=e,r=t.lib.WordArray;t.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|c)<<24-o%4*8,o++}return r.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64})},function(e,t,r){var n=r(13).f,i=r(18),o=r(8)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(2),i=r(30),o=r(5),a=r(97),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,r){var i={},s=o(function(){return!!a[e]()||"​"!="​"[e]()}),c=i[e]=s?t(f):a[e];r&&(i[r]=c),n(n.P+n.F*s,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t){e.exports={}},function(e,t,r){"use strict";var n=r(4),i=r(13),o=r(12),a=r(8)("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,r){var n=r(15);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){"use strict";var n=r(180),i=r.n(n);t.a=function(){this.createWorker=function(){return new i.a(function(){var e,t,r,n,i,o=16,a=300,s=6,c=[],u=[],l=0,f=[];self.onmessage=function(s){switch(s.data.command){case"init":!function(a){t=a.localSampleRate||44100,r=16e3,n=1024,a.compressPath,e=a.exportAudio,i=new b.Mp3Encoder(1,r,o)}(s.data.config);break;case"record":!function(o){if("wav"===e){for(var s=new y(t,r,1,n,!0),f=[],p=0;p<o.length;p++)f.push(o[p]);for(var v=s.resampler(f),_=new Float32Array(v),p=0;p<v;p++)_[p]=s.outputBuffer[p];var g=function(e){for(var t=new Int16Array(e.length),r=0;r<e.length;r++){var n=Math.max(-1,Math.min(1,e[r]));t[r]=n<0?32768*n:32767*n}return t}(_);u.push(_),l+=_.length;for(var p=0;p<g.length;p++)c.push(g[p]);for(;c.length>320;){for(var b=c.splice(0,320),w=new Int16Array(320),p=0;p<320;p++)w[p]=b[p];var S=m(w.buffer);self.postMessage({volume:S,buffer:w,command:"stream"})}}else if("mp3"===e){for(var s=new y(t,r,1,n,!0),f=[],p=0;p<o.length;p++)f.push(o[p]);for(var v=s.resampler(o),_=new Float32Array(v),p=0;p<v;p++)_[p]=s.outputBuffer[p];for(var x=h(_),E=x.length,p=0;E>=0;p+=a){var k=x.subarray(p,p+a),T=i.encodeBuffer(k);E-=a,0!==T.length&&(d(T),self.postMessage({buffer:T,command:"stream"}))}}}(s.data.buffer);break;case"translate":!function(t){if("wav"===e){var r=t;u.push(r),l+=r.length;for(var n=0;n<t.length;n++)c.push(t[n]);for(;c.length>320;){for(var o=c.splice(0,320),s=new Int16Array(320),n=0;n<320;n++)s[n]=o[n];var f=m(s.buffer);self.postMessage({volume:f,buffer:s,command:"stream"})}}else if("mp3"===e)for(var p=t.length,n=0;p>=0;n+=a){var h=t.subarray(n,n+a),v=i.encodeBuffer(h);p-=a,0!==v.length&&(d(v),self.postMessage({buffer:v,command:"stream"}))}}(s.data.buffer);break;case"reset":c=[],u=[],l=0;break;case"exportAudio":!function(e){for(var t=new Float32Array(l),r=0,n=0;n<u.length;++n)t.set(u[n],r),r+=u[n].length;var i=null;if("wav"===e){var o=_(t);i=new Blob([o],{type:"audio/wav"}),self.postMessage({command:"blob",blob:i})}else if("mp3"===e){var a=g();i=new Blob(a,{type:"audio/mp3"}),self.postMessage({command:"blob",blob:i}),p()}}(e);break;case"exportTranslate":!function(e){if("wav"===e){for(var t=new Int16Array(l),r=0,n=0;n<u.length;++n)t.set(u[n],r),r+=u[n].length;var i=null,o=_(t,!1);i=new Blob([o],{type:"audio/wav"}),self.postMessage({command:"blob",blob:i})}else if("mp3"===e){var a=g();i=new Blob(a,{type:"audio/mp3"}),self.postMessage({command:"blob",blob:i}),p()}}(e)}};var p=function(){f=[]},d=function(e){f.push(e)},h=function(e){for(var t=new Float32Array(e),r=new Int16Array(e.length),n=0;n<t.length;n++){var i=Math.max(-1,Math.min(1,t[n]));r[n]=i<0?32768*i:32767*i}return r};function m(e){if(null==e||e.byteLength<=0)return 0;var t=e.byteLength/2,r=function(e){for(var t=0,r=e.byteLength/128,n=new Int16Array(e),i=0;i<n.length;i++)t+=n[i];t/=r;for(var o=0,i=0;i<n.length;i++)o+=(n[i]-t)*(n[i]-t);return o+=4e5}(e);return(r=10*Math.log(r/t))<100?0:r>200?s:parseInt((r-100)*s/100)}function v(e,t,r){for(var n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))}function _(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=new ArrayBuffer(44+2*e.length),n=new DataView(r);if(v(n,0,"RIFF"),n.setUint32(4,36+2*e.length,!0),v(n,8,"WAVE"),v(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,1,!0),n.setUint32(24,16e3,!0),n.setUint32(28,32e3,!0),n.setUint16(32,2,!0),n.setUint16(34,16,!0),v(n,36,"data"),n.setUint32(40,2*e.length,!0),t)!function(e,t,r){for(var n=0;n<r.length;n++,t+=2){var i=Math.max(-1,Math.min(1,r[n]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}(n,44,e);else for(var i=44,o=0;o<e.length;o++,i+=2)n.setInt16(i,e[o],!0);return n}function g(){var e=i.flush();return d(e),f}function y(e,t,r,n,i){this.fromSampleRate=e,this.toSampleRate=t,this.channels=0|r,this.outputBufferSize=n,this.noReturn=!!i,this.initialize()}function b(){function e(e){return new Int8Array(e)}function t(e){return new Int16Array(e)}function r(e){return new Int32Array(e)}function n(e){return new Float32Array(e)}function i(e){return new Float64Array(e)}function o(e){if(1==e.length)return n(e[0]);var t=e[0];e=e.slice(1);for(var r=[],i=0;i<t;i++)r.push(o(e));return r}function a(e){if(1==e.length)return r(e[0]);var t=e[0];e=e.slice(1);for(var n=[],i=0;i<t;i++)n.push(a(e));return n}function s(e){if(1==e.length)return t(e[0]);var r=e[0];e=e.slice(1);for(var n=[],i=0;i<r;i++)n.push(s(e));return n}function c(e){if(1==e.length)return new Array(e[0]);var t=e[0];e=e.slice(1);for(var r=[],n=0;n<t;n++)r.push(c(e));return r}var u={fill:function(e,t,r,n){if(2==arguments.length)for(var i=0;i<e.length;i++)e[i]=arguments[1];else for(i=t;i<r;i++)e[i]=n}},l={arraycopy:function(e,t,r,n,i){for(var o=t+i;t<o;)r[n++]=e[t++]}},f={};function p(e){this.ordinal=e}f.SQRT2=1.4142135623730951,f.FAST_LOG10=function(e){return Math.log10(e)},f.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},p.short_block_allowed=new p(0),p.short_block_coupled=new p(1),p.short_block_dispensed=new p(2),p.short_block_forced=new p(3);var d={};function h(e){this.ordinal=e}function m(e){var t=e;this.ordinal=function(){return t}}function v(){var e=64.82,t=(v.YULE_ORDER,.95),r=(v.MAX_SAMP_FREQ,v.RMS_WINDOW_TIME_NUMERATOR),n=v.RMS_WINDOW_TIME_DENOMINATOR,i=(v.MAX_SAMPLES_PER_WINDOW,[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]]),o=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function a(e,t,r,n,i,o){for(;0!=i--;)r[n]=1e-10+e[t+0]*o[0]-r[n-1]*o[1]+e[t-1]*o[2]-r[n-2]*o[3]+e[t-2]*o[4]-r[n-3]*o[5]+e[t-3]*o[6]-r[n-4]*o[7]+e[t-4]*o[8]-r[n-5]*o[9]+e[t-5]*o[10]-r[n-6]*o[11]+e[t-6]*o[12]-r[n-7]*o[13]+e[t-7]*o[14]-r[n-8]*o[15]+e[t-8]*o[16]-r[n-9]*o[17]+e[t-9]*o[18]-r[n-10]*o[19]+e[t-10]*o[20],++n,++t}function s(e,t,r,n,i,o){for(;0!=i--;)r[n]=e[t+0]*o[0]-r[n-1]*o[1]+e[t-1]*o[2]-r[n-2]*o[3]+e[t-2]*o[4],++n,++t}function c(e){return e*e}this.InitGainAnalysis=function(e,t){return function(e,t){for(var i=0;i<MAX_ORDER;i++)e.linprebuf[i]=e.lstepbuf[i]=e.loutbuf[i]=e.rinprebuf[i]=e.rstepbuf[i]=e.routbuf[i]=0;switch(0|t){case 48e3:e.reqindex=0;break;case 44100:e.reqindex=1;break;case 32e3:e.reqindex=2;break;case 24e3:e.reqindex=3;break;case 22050:e.reqindex=4;break;case 16e3:e.reqindex=5;break;case 12e3:e.reqindex=6;break;case 11025:e.reqindex=7;break;case 8e3:e.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return e.sampleWindow=0|(t*r+n-1)/n,e.lsum=0,e.rsum=0,e.totsamp=0,u.ill(e.A,0),INIT_GAIN_ANALYSIS_OK}(e,t)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(e.linpre=MAX_ORDER,e.rinpre=MAX_ORDER,e.lstep=MAX_ORDER,e.rstep=MAX_ORDER,e.lout=MAX_ORDER,e.rout=MAX_ORDER,u.fill(e.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,r,n,u,f,p){var d,h,m,_,g,y,b;if(0==f)return GAIN_ANALYSIS_OK;switch(b=0,g=f,p){case 1:n=t,u=r;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(f<MAX_ORDER?(l.arraycopy(t,r,e.linprebuf,MAX_ORDER,f),l.arraycopy(n,u,e.rinprebuf,MAX_ORDER,f)):(l.arraycopy(t,r,e.linprebuf,MAX_ORDER,MAX_ORDER),l.arraycopy(n,u,e.rinprebuf,MAX_ORDER,MAX_ORDER));g>0;){y=g>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:g,b<MAX_ORDER?(d=e.linpre+b,h=e.linprebuf,m=e.rinpre+b,_=e.rinprebuf,y>MAX_ORDER-b&&(y=MAX_ORDER-b)):(d=r+b,h=t,m=u+b,_=n),a(h,d,e.lstepbuf,e.lstep+e.totsamp,y,i[e.reqindex]),a(_,m,e.rstepbuf,e.rstep+e.totsamp,y,i[e.reqindex]),s(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,y,o[e.reqindex]),s(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,y,o[e.reqindex]),d=e.lout+e.totsamp,h=e.loutbuf,m=e.rout+e.totsamp,_=e.routbuf;for(var w=y%8;0!=w--;)e.lsum+=c(h[d++]),e.rsum+=c(_[m++]);for(w=y/8;0!=w--;)e.lsum+=c(h[d+0])+c(h[d+1])+c(h[d+2])+c(h[d+3])+c(h[d+4])+c(h[d+5])+c(h[d+6])+c(h[d+7]),d+=8,e.rsum+=c(_[m+0])+c(_[m+1])+c(_[m+2])+c(_[m+3])+c(_[m+4])+c(_[m+5])+c(_[m+6])+c(_[m+7]),m+=8;if(g-=y,b+=y,e.totsamp+=y,e.totsamp==e.sampleWindow){var S=10*v.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),x=S<=0?0:0|S;x>=e.A.length&&(x=e.A.length-1),e.A[x]++,e.lsum=e.rsum=0,l.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),l.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),l.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),l.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return f<MAX_ORDER?(l.arraycopy(e.linprebuf,f,e.linprebuf,0,MAX_ORDER-f),l.arraycopy(e.rinprebuf,f,e.rinprebuf,0,MAX_ORDER-f),l.arraycopy(t,r,e.linprebuf,MAX_ORDER-f,f),l.arraycopy(n,u,e.rinprebuf,MAX_ORDER-f,f)):(l.arraycopy(t,r+f-MAX_ORDER,e.linprebuf,0,MAX_ORDER),l.arraycopy(n,u+f-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(r){for(var n=function(r,n){var i,o=0;for(i=0;i<n;i++)o+=r[i];if(0==o)return GAIN_NOT_ENOUGH_SAMPLES;var a=0|Math.ceil(o*(1-t));for(i=n;i-- >0&&!((a-=r[i])<=0););return e-i/v.STEPS_per_dB}(r.A,r.A.length),i=0;i<r.A.length;i++)r.B[i]+=r.A[i],r.A[i]=0;for(i=0;i<MAX_ORDER;i++)r.linprebuf[i]=r.lstepbuf[i]=r.loutbuf[i]=r.rinprebuf[i]=r.rstepbuf[i]=r.routbuf[i]=0;return r.totsamp=0,r.lsum=r.rsum=0,n}}function _(){var e=null;function t(e){this.bits=0|e}this.qupvt=null,this.setModules=function(t){this.qupvt=t,e=t};var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function i(e,t,r,n,i,o){var a=.5946/t;for(e>>=1;0!=e--;)i[o++]=a>r[n++]?0:1,i[o++]=a>r[n++]?0:1}function o(t,r,n,i,o,a){var s=(t>>=1)%2;for(t>>=1;0!=t--;){var c,u,l,f,p,d,h,m;c=n[i++]*r,u=n[i++]*r,p=0|c,l=n[i++]*r,d=0|u,f=n[i++]*r,h=0|l,c+=e.adj43[p],m=0|f,u+=e.adj43[d],o[a++]=0|c,l+=e.adj43[h],o[a++]=0|u,f+=e.adj43[m],o[a++]=0|l,o[a++]=0|f}0!=s&&(p=0|(c=n[i++]*r),d=0|(u=n[i++]*r),c+=e.adj43[p],u+=e.adj43[d],o[a++]=0|c,o[a++]=0|u)}var a=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function s(e,t,r,n){var i=function(e,t,r){var n=0,i=0;do{var o=e[t++],a=e[t++];n<o&&(n=o),i<a&&(i=a)}while(t<r);return n<i&&(n=i),n}(e,t,r);switch(i){case 0:return i;case 1:return function(e,t,r,n){var i=0,o=S.ht[1].hlen;do{var a=2*e[t+0]+e[t+1];t+=2,i+=o[a]}while(t<r);return n.bits+=i,1}(e,t,r,n);case 2:case 3:return function(e,t,r,n,i){var o,a,s=0,c=S.ht[n].xlen;a=2==n?S.table23:S.table56;do{var u=e[t+0]*c+e[t+1];t+=2,s+=a[u]}while(t<r);return o=65535&s,(s>>=16)>o&&(s=o,n++),i.bits+=s,n}(e,t,r,a[i-1],n);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(e,t,r,n,i){var o=0,a=0,s=0,c=S.ht[n].xlen,u=S.ht[n].hlen,l=S.ht[n+1].hlen,f=S.ht[n+2].hlen;do{var p=e[t+0]*c+e[t+1];t+=2,o+=u[p],a+=l[p],s+=f[p]}while(t<r);var d=n;return o>a&&(o=a,d++),o>s&&(o=s,d=n+2),i.bits+=o,d}(e,t,r,a[i-1],n);default:if(i>T.IXMAX_VAL)return n.bits=T.LARGE_BITS,-1;var o,s;for(i-=15,o=24;o<32&&!(S.ht[o].linmax>=i);o++);for(s=o-8;s<24&&!(S.ht[s].linmax>=i);s++);return function(e,t,r,n,i,o){var a,s=65536*S.ht[n].xlen+S.ht[i].xlen,c=0;do{var u=e[t++],l=e[t++];0!=u&&(u>14&&(u=15,c+=s),u*=16),0!=l&&(l>14&&(l=15,c+=s),u+=l),c+=S.largetbl[u]}while(t<r);return a=65535&c,(c>>=16)>a&&(c=a,n=i),o.bits+=c,n}(e,t,r,s,o,n)}}function c(e,r,n,i,o,a,c,u){for(var l=r.big_values,f=2;f<O.SBMAX_l+1;f++){var p=e.scalefac_band.l[f];if(p>=l)break;var d=o[f-2]+r.count1bits;if(n.part2_3_length<=d)break;var h=new t(d),m=s(i,p,l,h);d=h.bits,n.part2_3_length<=d||(n.assign(r),n.part2_3_length=d,n.region0_count=a[f-2],n.region1_count=f-2-a[f-2],n.table_select[0]=c[f-2],n.table_select[1]=u[f-2],n.table_select[2]=m)}}this.noquant_count_bits=function(e,r,n){var i=r.l3_enc,o=Math.min(576,r.max_nonzero_coeff+2>>1<<1);for(null!=n&&(n.sfb_count1=0);o>1&&0==(i[o-1]|i[o-2]);o-=2);r.count1=o;for(var a=0,c=0;o>3;o-=4){var u;if((2147483647&(i[o-1]|i[o-2]|i[o-3]|i[o-4]))>1)break;u=2*(2*(2*i[o-4]+i[o-3])+i[o-2])+i[o-1],a+=S.t32l[u],c+=S.t33l[u]}var l=a;if(r.count1table_select=0,a>c&&(l=c,r.count1table_select=1),r.count1bits=l,r.big_values=o,0==o)return l;if(r.block_type==O.SHORT_TYPE)(a=3*e.scalefac_band.s[3])>r.big_values&&(a=r.big_values),c=r.big_values;else if(r.block_type==O.NORM_TYPE){if(a=r.region0_count=e.bv_scf[o-2],c=r.region1_count=e.bv_scf[o-1],c=e.scalefac_band.l[a+c+2],a=e.scalefac_band.l[a+1],c<o){var f=new t(l);r.table_select[2]=s(i,c,o,f),l=f.bits}}else r.region0_count=7,r.region1_count=O.SBMAX_l-1-7-1,(a=e.scalefac_band.l[8])>(c=o)&&(a=c);if(a=Math.min(a,o),c=Math.min(c,o),0<a&&(f=new t(l),r.table_select[0]=s(i,0,a,f),l=f.bits),a<c&&(f=new t(l),r.table_select[1]=s(i,a,c,f),l=f.bits),2==e.use_best_huffman&&(r.part2_3_length=l,best_huffman_divide(e,r),l=r.part2_3_length),null!=n&&r.block_type==O.NORM_TYPE){for(var p=0;e.scalefac_band.l[p]<r.big_values;)p++;n.sfb_count1=p}return l},this.count_bits=function(t,r,n,a){var s=n.l3_enc,c=T.IXMAX_VAL/e.IPOW20(n.global_gain);if(n.xrpow_max>c)return T.LARGE_BITS;if(function(t,r,n,a,s){var c,l,f,p=0,d=0,h=0,m=0,v=r,_=0,g=v,y=0,b=t,w=0;for(f=null!=s&&a.global_gain==s.global_gain,l=a.block_type==O.SHORT_TYPE?38:21,c=0;c<=l;c++){var S=-1;if((f||a.block_type==O.NORM_TYPE)&&(S=a.global_gain-(a.scalefac[c]+(0!=a.preflag?e.pretab[c]:0)<<a.scalefac_scale+1)-8*a.subblock_gain[a.window[c]]),f&&s.step[c]==S)0!=d&&(o(d,n,b,w,g,y),d=0),0!=h&&(i(h,n,b,w,g,y),h=0);else{var x,E=a.width[c];if(p+a.width[c]>a.max_nonzero_coeff&&(x=a.max_nonzero_coeff-p+1,u.fill(r,a.max_nonzero_coeff,576,0),(E=x)<0&&(E=0),c=l+1),0==d&&0==h&&(g=v,y=_,b=t,w=m),null!=s&&s.sfb_count1>0&&c>=s.sfb_count1&&s.step[c]>0&&S>=s.step[c]?(0!=d&&(o(d,n,b,w,g,y),d=0,g=v,y=_,b=t,w=m),h+=E):(0!=h&&(i(h,n,b,w,g,y),h=0,g=v,y=_,b=t,w=m),d+=E),E<=0){0!=h&&(i(h,n,b,w,g,y),h=0),0!=d&&(o(d,n,b,w,g,y),d=0);break}}c<=l&&(_+=a.width[c],m+=a.width[c],p+=a.width[c])}0!=d&&(o(d,n,b,w,g,y),d=0),0!=h&&(i(h,n,b,w,g,y),h=0)}(r,s,e.IPOW20(n.global_gain),n,a),0!=(2&t.substep_shaping))for(var l=0,f=n.global_gain+n.scalefac_scale,p=.634521682242439/e.IPOW20(f),d=0;d<n.sfbmax;d++){var h,m=n.width[d];if(0==t.pseudohalf[d])l+=m;else for(h=l,l+=m;h<l;++h)s[h]=r[h]>=p?s[h]:0}return this.noquant_count_bits(t,n,a)},this.best_huffman_divide=function(e,n){var i=new R,o=n.l3_enc,a=r(23),u=r(23),l=r(23),f=r(23);if(n.block_type!=O.SHORT_TYPE||1!=e.mode_gr){i.assign(n),n.block_type==O.NORM_TYPE&&(function(e,r,n,i,o,a,c){for(var u=r.big_values,l=0;l<=22;l++)i[l]=T.LARGE_BITS;for(l=0;l<16;l++){var f=e.scalefac_band.l[l+1];if(f>=u)break;var p=0,d=new t(p),h=s(n,0,f,d);p=d.bits;for(var m=0;m<8;m++){var v=e.scalefac_band.l[l+m+2];if(v>=u)break;var _=p,g=s(n,f,v,d=new t(_));_=d.bits,i[l+m]>_&&(i[l+m]=_,o[l+m]=l,a[l+m]=h,c[l+m]=g)}}}(e,n,o,a,u,l,f),c(e,i,n,o,a,u,l,f));var p=i.big_values;if(!(0==p||(o[p-2]|o[p-1])>1||(p=n.count1+2)>576)){i.assign(n),i.count1=p;for(var d=0,h=0;p>i.big_values;p-=4){var m=2*(2*(2*o[p-4]+o[p-3])+o[p-2])+o[p-1];d+=S.t32l[m],h+=S.t33l[m]}if(i.big_values=p,i.count1table_select=0,d>h&&(d=h,i.count1table_select=1),i.count1bits=d,i.block_type==O.NORM_TYPE)c(e,i,n,o,a,u,l,f);else{if(i.part2_3_length=d,(d=e.scalefac_band.l[8])>p&&(d=p),d>0){var v=new t(i.part2_3_length);i.table_select[0]=s(o,0,d,v),i.part2_3_length=v.bits}p>d&&(v=new t(i.part2_3_length),i.table_select[1]=s(o,d,p,v),i.part2_3_length=v.bits),n.part2_3_length>i.part2_3_length&&n.assign(i)}}}};var f=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],p=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],d=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],h=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];_.slen1_tab=d,_.slen2_tab=h,this.best_scalefac_store=function(t,r,n,i){var o,a,s,c,u=i.tt[r][n],l=0;for(s=0,o=0;o<u.sfbmax;o++){var m=u.width[o];for(s+=m,c=-m;c<0&&0==u.l3_enc[c+s];c++);0==c&&(u.scalefac[o]=l=-2)}if(0==u.scalefac_scale&&0==u.preflag){var v=0;for(o=0;o<u.sfbmax;o++)u.scalefac[o]>0&&(v|=u.scalefac[o]);if(0==(1&v)&&0!=v){for(o=0;o<u.sfbmax;o++)u.scalefac[o]>0&&(u.scalefac[o]>>=1);u.scalefac_scale=l=1}}if(0==u.preflag&&u.block_type!=O.SHORT_TYPE&&2==t.mode_gr){for(o=11;o<O.SBPSY_l&&!(u.scalefac[o]<e.pretab[o]&&-2!=u.scalefac[o]);o++);if(o==O.SBPSY_l){for(o=11;o<O.SBPSY_l;o++)u.scalefac[o]>0&&(u.scalefac[o]-=e.pretab[o]);u.preflag=l=1}}for(a=0;a<4;a++)i.scfsi[n][a]=0;for(2==t.mode_gr&&1==r&&i.tt[0][n].block_type!=O.SHORT_TYPE&&i.tt[1][n].block_type!=O.SHORT_TYPE&&(function(e,t){for(var r,n=t.tt[1][e],i=t.tt[0][e],o=0;o<S.scfsi_band.length-1;o++){for(r=S.scfsi_band[o];r<S.scfsi_band[o+1]&&!(i.scalefac[r]!=n.scalefac[r]&&n.scalefac[r]>=0);r++);if(r==S.scfsi_band[o+1]){for(r=S.scfsi_band[o];r<S.scfsi_band[o+1];r++)n.scalefac[r]=-1;t.scfsi[e][o]=1}}var a=0,s=0;for(r=0;r<11;r++)-1!=n.scalefac[r]&&(s++,a<n.scalefac[r]&&(a=n.scalefac[r]));for(var c=0,u=0;r<O.SBPSY_l;r++)-1!=n.scalefac[r]&&(u++,c<n.scalefac[r]&&(c=n.scalefac[r]));for(o=0;o<16;o++)if(a<f[o]&&c<p[o]){var l=d[o]*s+h[o]*u;n.part2_length>l&&(n.part2_length=l,n.scalefac_compress=o)}}(n,i),l=0),o=0;o<u.sfbmax;o++)-2==u.scalefac[o]&&(u.scalefac[o]=0);0!=l&&(2==t.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(t,u))};var m=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],v=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],g=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(t){var r,n,i,o=0,a=0,s=t.scalefac;if(t.block_type==O.SHORT_TYPE)i=m,0!=t.mixed_block_flag&&(i=v);else if(i=g,0==t.preflag){for(n=11;n<O.SBPSY_l&&!(s[n]<e.pretab[n]);n++);if(n==O.SBPSY_l)for(t.preflag=1,n=11;n<O.SBPSY_l;n++)s[n]-=e.pretab[n]}for(n=0;n<t.sfbdivide;n++)o<s[n]&&(o=s[n]);for(;n<t.sfbmax;n++)a<s[n]&&(a=s[n]);for(t.part2_length=T.LARGE_BITS,r=0;r<16;r++)o<f[r]&&a<p[r]&&t.part2_length>i[r]&&(t.part2_length=i[r],t.scalefac_compress=r);return t.part2_length==T.LARGE_BITS};var y=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(t,n){var i,o,a,s,c,u,f,p,d=r(4),h=n.scalefac;for(i=0!=n.preflag?2:0,f=0;f<4;f++)d[f]=0;if(n.block_type==O.SHORT_TYPE){o=1;var m=e.nr_of_sfb_block[i][o];for(p=0,a=0;a<4;a++)for(s=m[a]/3,f=0;f<s;f++,p++)for(c=0;c<3;c++)h[3*p+c]>d[a]&&(d[a]=h[3*p+c])}else for(o=0,m=e.nr_of_sfb_block[i][o],p=0,a=0;a<4;a++)for(s=m[a],f=0;f<s;f++,p++)h[p]>d[a]&&(d[a]=h[p]);for(u=!1,a=0;a<4;a++)d[a]>y[i][a]&&(u=!0);if(!u){var v,_,g,w;for(n.sfb_partition_table=e.nr_of_sfb_block[i][o],a=0;a<4;a++)n.slen[a]=b[d[a]];switch(v=n.slen[0],_=n.slen[1],g=n.slen[2],w=n.slen[3],i){case 0:n.scalefac_compress=(5*v+_<<4)+(g<<2)+w;break;case 1:n.scalefac_compress=400+(5*v+_<<2)+g;break;case 2:n.scalefac_compress=500+3*v+_;break;default:l.err.printf("intensity stereo not implemented yet\n")}}if(!u)for(n.part2_length=0,a=0;a<4;a++)n.part2_length+=n.slen[a]*n.sfb_partition_table[a];return u};var b=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var r,i=0;e.scalefac_band.l[++i]<t;);for(r=n[i][0];e.scalefac_band.l[r+1]>t;)r--;for(r<0&&(r=n[i][0]),e.bv_scf[t-2]=r,r=n[i][1];e.scalefac_band.l[r+e.bv_scf[t-2]+2]>t;)r--;r<0&&(r=n[i][1]),e.bv_scf[t-1]=r}}}function g(){var t=this,n=32773,i=null,a=null,s=null,c=null;this.setModules=function(e,t,r,n){i=e,a=t,s=r,c=n};var f=null,p=0,d=0,h=0;function m(e){l.arraycopy(e.header[e.w_ptr].buf,0,f,d,e.sideinfo_len),d+=e.sideinfo_len,p+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&I.MAX_HEADER_BUF-1}function g(e,t,r){for(;r>0;){var n;0==h&&(h=8,d++,e.header[e.w_ptr].write_timing==p&&m(e),f[d]=0),r-=n=Math.min(r,h),h-=n,f[d]|=t>>r<<h,p+=n}}function y(e,t,r){for(;r>0;){var n;0==h&&(h=8,f[++d]=0),r-=n=Math.min(r,h),h-=n,f[d]|=t>>r<<h,p+=n}}function b(e,t){var r,n=e.internal_flags;if(t>=8&&(g(n,76,8),t-=8),t>=8&&(g(n,65,8),t-=8),t>=8&&(g(n,77,8),t-=8),t>=8&&(g(n,69,8),t-=8),t>=32){var i=s.getLameShortVersion();if(t>=32)for(r=0;r<i.length&&t>=8;++r)t-=8,g(n,i.charAt(r),8)}for(;t>=1;t-=1)g(n,n.ancillary_flag,1),n.ancillary_flag^=e.disable_reservoir?0:1}function w(e,t,r){for(var n=e.header[e.h_ptr].ptr;r>0;){var i=Math.min(r,8-(7&n));r-=i,e.header[e.h_ptr].buf[n>>3]|=t>>r<<8-(7&n)-i,n+=i}e.header[e.h_ptr].ptr=n}function x(e,t){e<<=8;for(var r=0;r<8;r++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=n);return t}function E(e,t){var r,n=S.ht[t.count1table_select+32],i=0,o=t.big_values,a=t.big_values;for(r=(t.count1-t.big_values)/4;r>0;--r){var s=0,c=0;0!=t.l3_enc[o+0]&&(c+=8,t.xr[a+0]<0&&s++),0!=t.l3_enc[o+1]&&(c+=4,s*=2,t.xr[a+1]<0&&s++),0!=t.l3_enc[o+2]&&(c+=2,s*=2,t.xr[a+2]<0&&s++),0!=t.l3_enc[o+3]&&(c++,s*=2,t.xr[a+3]<0&&s++),o+=4,a+=4,g(e,s+n.table[c],n.hlen[c]),i+=n.hlen[c]}return i}function k(e,t,r,n,i){var o=S.ht[t],a=0;if(0==t)return a;for(var s=r;s<n;s+=2){var c=0,u=0,l=o.xlen,f=o.xlen,p=0,d=i.l3_enc[s],h=i.l3_enc[s+1];0!=d&&(i.xr[s]<0&&p++,c--),t>15&&(d>14&&(p|=d-15<<1,u=l,d=15),h>14&&(p<<=l,p|=h-15,u+=l,h=15),f=16),0!=h&&(p<<=1,i.xr[s+1]<0&&p++,c--),d=d*f+h,u-=c,c+=o.hlen[d],g(e,o.table[d],c),g(e,p,u),a+=c+u}return a}function T(e,t){var r=3*e.scalefac_band.s[3];r>t.big_values&&(r=t.big_values);var n=k(e,t.table_select[0],0,r,t);return n+=k(e,t.table_select[1],r,t.big_values,t)}function R(e,t){var r,n,i,o;r=t.big_values;var a=t.region0_count+1;return i=e.scalefac_band.l[a],a+=t.region1_count+1,o=e.scalefac_band.l[a],i>r&&(i=r),o>r&&(o=r),n=k(e,t.table_select[0],0,i,t),n+=k(e,t.table_select[1],i,o,t),n+=k(e,t.table_select[2],o,r,t)}function C(){this.total=0}function A(e,r){var n,i,o,a,s,c=e.internal_flags;return s=c.w_ptr,-1==(a=c.h_ptr-1)&&(a=I.MAX_HEADER_BUF-1),n=c.header[a].write_timing-p,r.total=n,n>=0&&(i=1+a-s,a<s&&(i=1+a-s+I.MAX_HEADER_BUF),n-=8*i*c.sideinfo_len),n+=o=t.getframebits(e),r.total+=o,r.total%8!=0?r.total=1+r.total/8:r.total=r.total/8,r.total+=d+1,n<0&&l.err.println("strange error flushing buffer ... \n"),n}this.getframebits=function(e){var t,r=e.internal_flags;return t=0!=r.bitrate_index?S.bitrate_table[e.version][r.bitrate_index]:e.brate,8*(0|72e3*(e.version+1)*t/e.out_samplerate+r.padding)},this.CRC_writeheader=function(e,t){var r=65535;r=x(255&t[2],r),r=x(255&t[3],r);for(var n=6;n<e.sideinfo_len;n++)r=x(255&t[n],r);t[4]=byte(r>>8),t[5]=byte(255&r)},this.flush_bitstream=function(e){var t,r,n=e.internal_flags,o=n.h_ptr-1;if(-1==o&&(o=I.MAX_HEADER_BUF-1),t=n.l3_side,!((r=A(e,new C))<0)){if(b(e,r),n.ResvSize=0,t.main_data_begin=0,n.findReplayGain){var a=i.GetTitleGain(n.rgdata);n.RadioGain=0|Math.floor(10*a+.5)}n.findPeakSample&&(n.noclipGainChange=0|Math.ceil(20*Math.log10(n.PeakSample/32767)*10),n.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?n.noclipScale=Math.floor(32767/n.PeakSample*100)/100:n.noclipScale=-1)}},this.add_dummy_byte=function(e,t,r){for(var n,i=e.internal_flags;r-- >0;)for(y(0,t,8),n=0;n<I.MAX_HEADER_BUF;++n)i.header[n].write_timing+=8},this.format_bitstream=function(e){var t,r=e.internal_flags;t=r.l3_side;var n=this.getframebits(e);b(e,t.resvDrain_pre),function(e,t){var r,n,i,o=e.internal_flags;if(r=o.l3_side,o.header[o.h_ptr].ptr=0,u.fill(o.header[o.h_ptr].buf,0,o.sideinfo_len,0),e.out_samplerate<16e3?w(o,4094,12):w(o,4095,12),w(o,e.version,1),w(o,1,2),w(o,e.error_protection?0:1,1),w(o,o.bitrate_index,4),w(o,o.samplerate_index,2),w(o,o.padding,1),w(o,e.extension,1),w(o,e.mode.ordinal(),2),w(o,o.mode_ext,2),w(o,e.copyright,1),w(o,e.original,1),w(o,e.emphasis,2),e.error_protection&&w(o,0,16),1==e.version){for(w(o,r.main_data_begin,9),2==o.channels_out?w(o,r.private_bits,3):w(o,r.private_bits,5),i=0;i<o.channels_out;i++){var a;for(a=0;a<4;a++)w(o,r.scfsi[i][a],1)}for(n=0;n<2;n++)for(i=0;i<o.channels_out;i++)w(o,(s=r.tt[n][i]).part2_3_length+s.part2_length,12),w(o,s.big_values/2,9),w(o,s.global_gain,8),w(o,s.scalefac_compress,4),s.block_type!=O.NORM_TYPE?(w(o,1,1),w(o,s.block_type,2),w(o,s.mixed_block_flag,1),14==s.table_select[0]&&(s.table_select[0]=16),w(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),w(o,s.table_select[1],5),w(o,s.subblock_gain[0],3),w(o,s.subblock_gain[1],3),w(o,s.subblock_gain[2],3)):(w(o,0,1),14==s.table_select[0]&&(s.table_select[0]=16),w(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),w(o,s.table_select[1],5),14==s.table_select[2]&&(s.table_select[2]=16),w(o,s.table_select[2],5),w(o,s.region0_count,4),w(o,s.region1_count,3)),w(o,s.preflag,1),w(o,s.scalefac_scale,1),w(o,s.count1table_select,1)}else for(w(o,r.main_data_begin,8),w(o,r.private_bits,o.channels_out),n=0,i=0;i<o.channels_out;i++){var s;w(o,(s=r.tt[n][i]).part2_3_length+s.part2_length,12),w(o,s.big_values/2,9),w(o,s.global_gain,8),w(o,s.scalefac_compress,9),s.block_type!=O.NORM_TYPE?(w(o,1,1),w(o,s.block_type,2),w(o,s.mixed_block_flag,1),14==s.table_select[0]&&(s.table_select[0]=16),w(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),w(o,s.table_select[1],5),w(o,s.subblock_gain[0],3),w(o,s.subblock_gain[1],3),w(o,s.subblock_gain[2],3)):(w(o,0,1),14==s.table_select[0]&&(s.table_select[0]=16),w(o,s.table_select[0],5),14==s.table_select[1]&&(s.table_select[1]=16),w(o,s.table_select[1],5),14==s.table_select[2]&&(s.table_select[2]=16),w(o,s.table_select[2],5),w(o,s.region0_count,4),w(o,s.region1_count,3)),w(o,s.scalefac_scale,1),w(o,s.count1table_select,1)}e.error_protection&&CRC_writeheader(o,o.header[o.h_ptr].buf);var c=o.h_ptr;o.h_ptr=c+1&I.MAX_HEADER_BUF-1,o.header[o.h_ptr].write_timing=o.header[c].write_timing+t,o.h_ptr==o.w_ptr&&l.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(e,n);var i=8*r.sideinfo_len;if(i+=function(e){var t,r,n,i,o=0,a=e.internal_flags,s=a.l3_side;if(1==e.version)for(t=0;t<2;t++)for(r=0;r<a.channels_out;r++){var c=s.tt[t][r],u=_.slen1_tab[c.scalefac_compress],l=_.slen2_tab[c.scalefac_compress];for(i=0,n=0;n<c.sfbdivide;n++)-1!=c.scalefac[n]&&(g(a,c.scalefac[n],u),i+=u);for(;n<c.sfbmax;n++)-1!=c.scalefac[n]&&(g(a,c.scalefac[n],l),i+=l);c.block_type==O.SHORT_TYPE?i+=T(a,c):i+=R(a,c),o+=i+=E(a,c)}else for(t=0,r=0;r<a.channels_out;r++){var f,p,d=0;if(i=0,n=0,p=0,(c=s.tt[t][r]).block_type==O.SHORT_TYPE){for(;p<4;p++){var h=c.sfb_partition_table[p]/3,m=c.slen[p];for(f=0;f<h;f++,n++)g(a,Math.max(c.scalefac[3*n+0],0),m),g(a,Math.max(c.scalefac[3*n+1],0),m),g(a,Math.max(c.scalefac[3*n+2],0),m),d+=3*m}i+=T(a,c)}else{for(;p<4;p++)for(h=c.sfb_partition_table[p],m=c.slen[p],f=0;f<h;f++,n++)g(a,Math.max(c.scalefac[n],0),m),d+=m;i+=R(a,c)}o+=d+(i+=E(a,c))}return o}(e),b(e,t.resvDrain_post),i+=t.resvDrain_post,t.main_data_begin+=(n-i)/8,A(e,new C)!=r.ResvSize&&l.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=r.ResvSize&&(l.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,r.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*r.sideinfo_len,i-t.resvDrain_post-8*r.sideinfo_len,i,i%8,n),l.err.println("This is a fatal error.  It has several possible causes:"),l.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),l.err.println(" 9%%  Your system is overclocked"),l.err.println(" 1%%  bug in LAME encoding library"),r.ResvSize=8*t.main_data_begin),p>1e9){var o;for(o=0;o<I.MAX_HEADER_BUF;++o)r.header[o].write_timing-=p;p=0}return 0},this.copy_buffer=function(e,t,n,s,u){var p=d+1;if(p<=0)return 0;if(0!=s&&p>s)return-1;if(l.arraycopy(f,0,t,n,p),d=-1,h=0,0!=u){var m=r(1);if(m[0]=e.nMusicCRC,c.updateMusicCRC(m,t,n,p),e.nMusicCRC=m[0],p>0&&(e.VBR_seek_table.nBytesWritten+=p),e.decode_on_the_fly)for(var _,g=o([2,1152]),y=p,b=-1;0!=b;)if(b=a.hip_decode1_unclipped(e.hip,t,n,y,g[0],g[1]),y=0,-1==b&&(b=0),b>0){if(e.findPeakSample){for(_=0;_<b;_++)g[0][_]>e.PeakSample?e.PeakSample=g[0][_]:-g[0][_]>e.PeakSample&&(e.PeakSample=-g[0][_]);if(e.channels_out>1)for(_=0;_<b;_++)g[1][_]>e.PeakSample?e.PeakSample=g[1][_]:-g[1][_]>e.PeakSample&&(e.PeakSample=-g[1][_])}if(e.findReplayGain&&i.AnalyzeSamples(e.rgdata,g[0],0,g[1],0,b,e.channels_out)==v.GAIN_ANALYSIS_ERROR)return-6}}return p},this.init_bit_stream_w=function(t){f=e(j.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,d=-1,h=0,p=0}}function y(){var t,r,n;this.setModules=function(e,i,o){t=e,r=i,n=o};var i=y.NUMTOCENTRIES,o=y.MAXFRAMESIZE,a=i+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,s=128,c=64,f=32,d=null,m="Xing",v="Info",_=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function g(e,t){var r=255&e[t+0];return r<<=8,r|=255&e[t+1],r<<=8,r|=255&e[t+2],r<<=8,r|=255&e[t+3]}function b(e,t,r){e[t+0]=255&r>>24,e[t+1]=255&r>>16,e[t+2]=255&r>>8,e[t+3]=255&r}function w(e,t,r){e[t+0]=255&r>>8,e[t+1]=255&r}function x(e,t,r){return 255&(e<<t|r&~(-1<<t))}function E(e,r){var n=e.internal_flags;r[0]=x(r[0],8,255),r[1]=x(r[1],3,7),r[1]=x(r[1],1,e.out_samplerate<16e3?0:1),r[1]=x(r[1],1,e.version),r[1]=x(r[1],2,1),r[1]=x(r[1],1,e.error_protection?0:1),r[2]=x(r[2],4,n.bitrate_index),r[2]=x(r[2],2,n.samplerate_index),r[2]=x(r[2],1,0),r[2]=x(r[2],1,e.extension),r[3]=x(r[3],2,e.mode.ordinal()),r[3]=x(r[3],2,n.mode_ext),r[3]=x(r[3],1,e.copyright),r[3]=x(r[3],1,e.original),r[3]=x(r[3],2,e.emphasis),r[0]=255;var i,o,a=241&r[1];i=1==e.version?s:e.out_samplerate<16e3?f:c,e.VBR==h.vbr_off&&(i=e.brate),o=e.free_format?0:255&16*t.BitrateIndex(i,e.version,e.out_samplerate),1==e.version?(r[1]=255&(10|a),a=13&r[2],r[2]=255&(o|a)):(r[1]=255&(2|a),a=13&r[2],r[2]=255&(o|a))}function k(e,t){return t=t>>8^_[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,r=S.bitrate_table[e.version][t.bitrate_index];!function(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var r=1;r<e.size;r+=2)e.bag[r/2]=e.bag[r];e.want*=2,e.pos/=2}}(t.VBR_seek_table,r)},this.getVbrTag=function(e){var t=new VBRTagData,r=0;t.flags=0;var n=e[r+1]>>3&1,o=e[r+2]>>2&3,a=e[r+3]>>6&3,s=e[r+2]>>4&15;if(s=S.bitrate_table[n][s],e[r+1]>>4==14?t.samprate=S.samplerate_table[2][o]:t.samprate=S.samplerate_table[n][o],!function(e,t){return new String(e,t,m.length(),d).equals(m)||new String(e,t,v.length(),d).equals(v)}(e,r+=0!=n?3!=a?36:21:3!=a?21:13))return null;r+=4,t.hId=n;var c=t.flags=g(e,r);if(r+=4,0!=(1&c)&&(t.frames=g(e,r),r+=4),0!=(2&c)&&(t.bytes=g(e,r),r+=4),0!=(4&c)){if(null!=t.toc)for(var u=0;u<i;u++)t.toc[u]=e[r+u];r+=i}t.vbrScale=-1,0!=(8&c)&&(t.vbrScale=g(e,r),r+=4),t.headersize=72e3*(n+1)*s/t.samprate;var l=e[(r+=21)+0]<<4;l+=e[r+1]>>4;var f=(15&e[r+1])<<8;return f+=255&e[r+2],(l<0||l>3e3)&&(l=-1),(f<0||f>3e3)&&(f=-1),t.encDelay=l,t.encPadding=f,t},this.InitVbrTag=function(t){var n,i=t.internal_flags;n=1==t.version?s:t.out_samplerate<16e3?f:c,t.VBR==h.vbr_off&&(n=t.brate);var u=72e3*(t.version+1)*n/t.out_samplerate,l=i.sideinfo_len+a;if(i.VBR_seek_table.TotalFrameSize=u,u<l||u>o)t.bWriteVbrTag=!1;else{i.VBR_seek_table.nVbrNumFrames=0,i.VBR_seek_table.nBytesWritten=0,i.VBR_seek_table.sum=0,i.VBR_seek_table.seen=0,i.VBR_seek_table.want=1,i.VBR_seek_table.pos=0,null==i.VBR_seek_table.bag&&(i.VBR_seek_table.bag=new int[400],i.VBR_seek_table.size=400);var p=e(o);E(t,p);for(var d=i.VBR_seek_table.TotalFrameSize,m=0;m<d;++m)r.add_dummy_byte(t,255&p[m],1)}},this.updateMusicCRC=function(e,t,r,n){for(var i=0;i<n;++i)e[0]=k(t[r+i],e[0])},this.getLameTagFrame=function(t,o){var a=t.internal_flags;if(!t.bWriteVbrTag)return 0;if(a.Class_ID!=j.LAME_ID)return 0;if(a.VBR_seek_table.pos<=0)return 0;if(o.length<a.VBR_seek_table.TotalFrameSize)return a.VBR_seek_table.TotalFrameSize;u.fill(o,0,a.VBR_seek_table.TotalFrameSize,0),E(t,o);var s=e(i);if(t.free_format)for(var c=1;c<i;++c)s[c]=255&255*c/100;else!function(e,t){if(!(e.pos<=0))for(var r=1;r<i;++r){var n=r/i,o=0|Math.floor(n*e.pos);o>e.pos-1&&(o=e.pos-1);var a=0|256*e.bag[o]/e.sum;a>255&&(a=255),t[r]=255&a}}(a.VBR_seek_table,s);var f=a.sideinfo_len;t.error_protection&&(f-=2),t.VBR==h.vbr_off?(o[f++]=255&v.charAt(0),o[f++]=255&v.charAt(1),o[f++]=255&v.charAt(2),o[f++]=255&v.charAt(3)):(o[f++]=255&m.charAt(0),o[f++]=255&m.charAt(1),o[f++]=255&m.charAt(2),o[f++]=255&m.charAt(3)),b(o,f,15),b(o,f+=4,a.VBR_seek_table.nVbrNumFrames),f+=4;var d=a.VBR_seek_table.nBytesWritten+a.VBR_seek_table.TotalFrameSize;b(o,f,0|d),f+=4,l.arraycopy(s,0,o,f,s.length),f+=s.length,t.error_protection&&r.CRC_writeheader(a,o);var _=0;for(c=0;c<f;c++)_=k(o[c],_);return f+=function(e,t,r,i,o){var a,s,c,u,l,f=e.internal_flags,d=0,h=e.encoder_delay,m=e.encoder_padding,v=100-10*e.VBR_q-e.quality,_=n.getLameVeryShortVersion(),g=[1,5,3,2,4,0,3],y=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),S=0,x=0,E=e.internal_flags.noise_shaping,T=0,R=0,C=0,A=0!=(1&e.exp_nspsytune),P=0!=(2&e.exp_nspsytune),O=!1,M=!1,I=e.internal_flags.nogap_total,N=e.internal_flags.nogap_current,j=e.ATHtype;switch(e.VBR){case vbr_abr:l=e.VBR_mean_bitrate_kbps;break;case vbr_off:l=e.brate;break;default:l=e.VBR_min_bitrate_kbps}switch(a=0+(e.VBR.ordinal()<g.length?g[e.VBR.ordinal()]:0),f.findReplayGain&&(f.RadioGain>510&&(f.RadioGain=510),f.RadioGain<-510&&(f.RadioGain=-510),x=8192,x|=3072,f.RadioGain>=0?x|=f.RadioGain:(x|=512,x|=-f.RadioGain)),f.findPeakSample&&(S=Math.abs(0|f.PeakSample/32767*Math.pow(2,23)+.5)),-1!=I&&(N>0&&(M=!0),N<I-1&&(O=!0)),u=j+((A?1:0)<<4)+((P?1:0)<<5)+((O?1:0)<<6)+((M?1:0)<<7),v<0&&(v=0),e.mode){case MONO:T=0;break;case STEREO:T=1;break;case DUAL_CHANNEL:T=2;break;case JOINT_STEREO:T=e.force_ms?4:3;break;case NOT_SET:default:T=7}C=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==p.short_block_forced||e.short_blocks==p.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==j||e.in_samplerate<=32e3)&&(R=1),s=E+(T<<2)+(R<<5)+(C<<6),c=f.nMusicCRC,b(r,i+d,v),d+=4;for(var D=0;D<9;D++)r[i+d+D]=255&_.charAt(D);r[i+(d+=9)]=255&a,r[i+ ++d]=255&y,b(r,i+ ++d,S),w(r,i+(d+=4),x),w(r,i+(d+=2),0),r[i+(d+=2)]=255&u,r[i+ ++d]=l>=255?255:255&l,r[i+ ++d]=255&h>>4,r[i+d+1]=255&(h<<4)+(m>>8),r[i+d+2]=255&m,r[i+(d+=3)]=255&s,d++,r[i+d++]=0,w(r,i+d,e.preset),b(r,i+(d+=2),t),w(r,i+(d+=4),c),d+=2;for(var B=0;B<d;B++)o=k(r[i+B],o);return w(r,i+d,o),d+=2}(t,d,o,f,_),a.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(t,r){if(t.internal_flags.VBR_seek_table.pos<=0)return-1;if(r.seek(r.length()),0==r.length())return-1;var n=function(t){t.seek(0);var r=e(10);return t.readFully(r),new String(r,"ISO-8859-1").startsWith("ID3")?0:((127&r[6])<<21|(127&r[7])<<14|(127&r[8])<<7|127&r[9])+r.length}(r);r.seek(n);var i=e(o),a=getLameTagFrame(t,i);return a>i.length?-1:a<1?0:(r.write(i,0,a),0)}}function w(e,t,r,n){this.xlen=e,this.linmax=t,this.table=r,this.hlen=n}d.MAX_VALUE=3.4028235e38,h.vbr_off=new h(0),h.vbr_mt=new h(1),h.vbr_rh=new h(2),h.vbr_abr=new h(3),h.vbr_mtrh=new h(4),h.vbr_default=h.vbr_mtrh,m.STEREO=new m(0),m.JOINT_STEREO=new m(1),m.DUAL_CHANNEL=new m(2),m.MONO=new m(3),m.NOT_SET=new m(4),v.STEPS_per_dB=100,v.MAX_dB=120,v.GAIN_NOT_ENOUGH_SAMPLES=-24601,v.GAIN_ANALYSIS_ERROR=0,v.GAIN_ANALYSIS_OK=1,v.INIT_GAIN_ANALYSIS_ERROR=0,v.INIT_GAIN_ANALYSIS_OK=1,v.YULE_ORDER=10,v.MAX_ORDER=v.YULE_ORDER,v.MAX_SAMP_FREQ=48e3,v.RMS_WINDOW_TIME_NUMERATOR=1,v.RMS_WINDOW_TIME_DENOMINATOR=20,v.MAX_SAMPLES_PER_WINDOW=v.MAX_SAMP_FREQ*v.RMS_WINDOW_TIME_NUMERATOR/v.RMS_WINDOW_TIME_DENOMINATOR+1,g.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},g.NEQ=function(e,t){return!g.EQ(e,t)},y.NUMTOCENTRIES=100,y.MAXFRAMESIZE=2880;var S={};function x(e){this.bits=e}function E(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function k(e,t,n,i){this.l=r(1+O.SBMAX_l),this.s=r(1+O.SBMAX_s),this.psfb21=r(1+O.PSFB21),this.psfb12=r(1+O.PSFB12);var o=this.l,a=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],l.arraycopy(this.arrL,0,o,0,Math.min(this.arrL.length,this.l.length)),l.arraycopy(this.arrS,0,a,0,Math.min(this.arrS.length,this.s.length)),l.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),l.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}function T(){var e=null,t=null,i=null;function o(e){return p[e+T.Q_MAX2]}this.setModules=function(r,n,o){e=r,t=n,i=o},this.IPOW20=function(e){return m[e]};var a=T.IXMAX_VAL+2,s=T.Q_MAX,c=T.Q_MAX2,u=(T.LARGE_BITS,100);this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var l=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=l,this.sfBandIndex=[new k([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new k([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var p=n(s+c+1),m=n(s),v=n(a),_=n(a);function y(e,t){var r=i.ATHformula(t,e);return r-=u,r=Math.pow(10,r/10+e.ATHlower)}function b(e){this.s=e}this.adj43=_,this.iteration_init=function(t){var r,n=t.internal_flags,i=n.l3_side;if(0==n.iteration_init_init){for(n.iteration_init_init=1,i.main_data_begin=0,function(e){for(var t=e.internal_flags.ATH.l,r=e.internal_flags.ATH.psfb21,n=e.internal_flags.ATH.s,i=e.internal_flags.ATH.psfb12,o=e.internal_flags,a=e.out_samplerate,s=0;s<O.SBMAX_l;s++){var c=o.scalefac_band.l[s],u=o.scalefac_band.l[s+1];t[s]=d.MAX_VALUE;for(var l=c;l<u;l++){var f=y(e,l*a/1152);t[s]=Math.min(t[s],f)}}for(s=0;s<O.PSFB21;s++)for(c=o.scalefac_band.psfb21[s],u=o.scalefac_band.psfb21[s+1],r[s]=d.MAX_VALUE,l=c;l<u;l++)f=y(e,l*a/1152),r[s]=Math.min(r[s],f);for(s=0;s<O.SBMAX_s;s++){for(c=o.scalefac_band.s[s],u=o.scalefac_band.s[s+1],n[s]=d.MAX_VALUE,l=c;l<u;l++)f=y(e,l*a/384),n[s]=Math.min(n[s],f);n[s]*=o.scalefac_band.s[s+1]-o.scalefac_band.s[s]}for(s=0;s<O.PSFB12;s++){for(c=o.scalefac_band.psfb12[s],u=o.scalefac_band.psfb12[s+1],i[s]=d.MAX_VALUE,l=c;l<u;l++)f=y(e,l*a/384),i[s]=Math.min(i[s],f);i[s]*=o.scalefac_band.s[13]-o.scalefac_band.s[12]}if(e.noATH){for(s=0;s<O.SBMAX_l;s++)t[s]=1e-20;for(s=0;s<O.PSFB21;s++)r[s]=1e-20;for(s=0;s<O.SBMAX_s;s++)n[s]=1e-20;for(s=0;s<O.PSFB12;s++)i[s]=1e-20}o.ATH.floor=10*Math.log10(y(e,-1))}(t),v[0]=0,r=1;r<a;r++)v[r]=Math.pow(r,4/3);for(r=0;r<a-1;r++)_[r]=r+1-Math.pow(.5*(v[r]+v[r+1]),.75);for(_[r]=.5,r=0;r<s;r++)m[r]=Math.pow(2,-.1875*(r-210));for(r=0;r<=s+c;r++)p[r]=Math.pow(2,.25*(r-210-c));var o,u,l,f;for(e.huffman_init(n),(r=t.exp_nspsytune>>2&63)>=32&&(r-=64),o=Math.pow(10,r/4/10),(r=t.exp_nspsytune>>8&63)>=32&&(r-=64),u=Math.pow(10,r/4/10),(r=t.exp_nspsytune>>14&63)>=32&&(r-=64),l=Math.pow(10,r/4/10),(r=t.exp_nspsytune>>20&63)>=32&&(r-=64),f=l*Math.pow(10,r/4/10),r=0;r<O.SBMAX_l;r++)h=r<=6?o:r<=13?u:r<=20?l:f,n.nsPsy.longfact[r]=h;for(r=0;r<O.SBMAX_s;r++){var h;h=r<=5?o:r<=10?u:r<=11?l:f,n.nsPsy.shortfact[r]=h}}},this.on_pe=function(e,n,i,o,a,s){var c,u,l=e.internal_flags,f=0,p=r(2),d=new x(f),h=t.ResvMaxBits(e,o,d,s),m=(f=d.bits)+h;for(m>I.MAX_BITS_PER_GRANULE&&(m=I.MAX_BITS_PER_GRANULE),c=0,u=0;u<l.channels_out;++u)i[u]=Math.min(I.MAX_BITS_PER_CHANNEL,f/l.channels_out),p[u]=0|i[u]*n[a][u]/700-i[u],p[u]>3*o/4&&(p[u]=3*o/4),p[u]<0&&(p[u]=0),p[u]+i[u]>I.MAX_BITS_PER_CHANNEL&&(p[u]=Math.max(0,I.MAX_BITS_PER_CHANNEL-i[u])),c+=p[u];if(c>h)for(u=0;u<l.channels_out;++u)p[u]=h*p[u]/c;for(u=0;u<l.channels_out;++u)i[u]+=p[u],h-=p[u];for(c=0,u=0;u<l.channels_out;++u)c+=i[u];if(c>I.MAX_BITS_PER_GRANULE)for(u=0;u<l.channels_out;++u)i[u]*=I.MAX_BITS_PER_GRANULE,i[u]/=c,i[u];return m},this.reduce_side=function(e,t,r,n){var i=.33*(.5-t)/.5;i<0&&(i=0),i>.5&&(i=.5);var o=0|.5*i*(e[0]+e[1]);o>I.MAX_BITS_PER_CHANNEL-e[0]&&(o=I.MAX_BITS_PER_CHANNEL-e[0]),o<0&&(o=0),e[1]>=125&&(e[1]-o>125?(e[0]<r&&(e[0]+=o),e[1]-=o):(e[0]+=e[1]-125,e[1]=125)),(o=e[0]+e[1])>n&&(e[0]=n*e[0]/o,e[1]=n*e[1]/o)},this.athAdjust=function(e,t,r){var n=90.30873362,i=f.FAST_LOG10_X(t,10),o=e*e,a=0;return i-=r,o>1e-20&&(a=1+f.FAST_LOG10_X(o,10/n)),a<0&&(a=0),i*=a,i+=r+n-94.82444863,Math.pow(10,.1*i)},this.calc_xmin=function(e,t,r,n){var i,o=0,a=e.internal_flags,s=0,c=0,u=a.ATH,l=r.xr,f=e.VBR==h.vbr_mtrh?1:0,p=a.masking_lower;for(e.VBR!=h.vbr_mtrh&&e.VBR!=h.vbr_mt||(p=1),i=0;i<r.psy_lmax;i++){S=(w=e.VBR==h.vbr_rh||e.VBR==h.vbr_mtrh?athAdjust(u.adjust,u.l[i],u.floor):u.adjust*u.l[i])/(_=r.width[i]),x=2.220446049250313e-16,R=_>>1,T=0;do{T+=C=l[s]*l[s],x+=C<S?C:S,T+=A=l[++s]*l[s],x+=A<S?A:S,s++}while(--R>0);T>w&&c++,i==O.SBPSY_l&&x<(k=w*a.nsPsy.longfact[i])&&(x=k),0!=f&&(w=x),e.ATHonly||(E=t.en.l[i])>0&&(k=T*t.thm.l[i]*p/E,0!=f&&(k*=a.nsPsy.longfact[i]),w<k&&(w=k)),n[o++]=0!=f?w:w*a.nsPsy.longfact[i]}var d=575;if(r.block_type!=O.SHORT_TYPE)for(var m=576;0!=m--&&g.EQ(l[m],0);)d=m;r.max_nonzero_coeff=d;for(var v=r.sfb_smin;i<r.psymax;v++,i+=3){var _,y,b;for(b=e.VBR==h.vbr_rh||e.VBR==h.vbr_mtrh?athAdjust(u.adjust,u.s[v],u.floor):u.adjust*u.s[v],_=r.width[i],y=0;y<3;y++){var w,S,x,E,k,T=0,R=_>>1;S=b/_,x=2.220446049250313e-16;do{var C,A;T+=C=l[s]*l[s],x+=C<S?C:S,T+=A=l[++s]*l[s],x+=A<S?A:S,s++}while(--R>0);T>b&&c++,v==O.SBPSY_s&&x<(k=b*a.nsPsy.shortfact[v])&&(x=k),w=0!=f?x:b,e.ATHonly||e.ATHshort||(E=t.en.s[v][y])>0&&(k=T*t.thm.s[v][y]*p/E,0!=f&&(k*=a.nsPsy.shortfact[v]),w<k&&(w=k)),n[o++]=0!=f?w:w*a.nsPsy.shortfact[v]}e.useTemporal&&(n[o-3]>n[o-3+1]&&(n[o-3+1]+=(n[o-3]-n[o-3+1])*a.decay),n[o-3+1]>n[o-3+2]&&(n[o-3+2]+=(n[o-3+1]-n[o-3+2])*a.decay))}return c},this.calc_noise_core=function(e,t,r,i){var o=0,a=t.s,s=e.l3_enc;if(a>e.count1)for(;0!=r--;)u=e.xr[a],a++,o+=u*u,u=e.xr[a],a++,o+=u*u;else if(a>e.big_values){var c=n(2);for(c[0]=0,c[1]=i;0!=r--;)u=Math.abs(e.xr[a])-c[s[a]],a++,o+=u*u,u=Math.abs(e.xr[a])-c[s[a]],a++,o+=u*u}else for(;0!=r--;){var u;u=Math.abs(e.xr[a])-v[s[a]]*i,a++,o+=u*u,u=Math.abs(e.xr[a])-v[s[a]]*i,a++,o+=u*u}return t.s=a,o},this.calc_noise=function(e,t,r,n,i){var a,s,c=0,u=0,p=0,d=0,h=0,m=-20,v=0,_=e.scalefac,g=0;for(n.over_SSD=0,a=0;a<e.psymax;a++){var y,w=e.global_gain-(_[g++]+(0!=e.preflag?l[a]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[a]],S=0;if(null!=i&&i.step[a]==w)S=i.noise[a],v+=e.width[a],r[c++]=S/t[u++],S=i.noise_log[a];else{var x,E=o(w);s=e.width[a]>>1,v+e.width[a]>e.max_nonzero_coeff&&(s=(x=e.max_nonzero_coeff-v+1)>0?x>>1:0);var k=new b(v);S=this.calc_noise_core(e,k,s,E),v=k.s,null!=i&&(i.step[a]=w,i.noise[a]=S),S=r[c++]=S/t[u++],S=f.FAST_LOG10(Math.max(S,1e-20)),null!=i&&(i.noise_log[a]=S)}null!=i&&(i.global_gain=e.global_gain),h+=S,S>0&&(y=Math.max(0|10*S+.5,1),n.over_SSD+=y*y,p++,d+=S),m=Math.max(m,S)}return n.over_count=p,n.tot_noise=h,n.over_noise=d,n.max_noise=m,p},this.set_pinfo=function(e,t,r,i,o){var a,s,c,u,f,p=e.internal_flags,d=0==t.scalefac_scale?.5:1,h=t.scalefac,m=n(C.SFBMAX),v=n(C.SFBMAX),_=new E;calc_xmin(e,r,t,m),calc_noise(t,m,v,_,null);var g=0;for(s=t.sfb_lmax,t.block_type!=O.SHORT_TYPE&&0==t.mixed_block_flag&&(s=22),a=0;a<s;a++){var y=p.scalefac_band.l[a],b=(w=p.scalefac_band.l[a+1])-y;for(u=0;g<w;g++)u+=t.xr[g]*t.xr[g];u/=b,f=1e15,p.pinfo.en[i][o][a]=f*u,p.pinfo.xfsf[i][o][a]=f*m[a]*v[a]/b,r.en.l[a]>0&&!e.ATHonly?u/=r.en.l[a]:u=0,p.pinfo.thr[i][o][a]=f*Math.max(u*r.thm.l[a],p.ATH.l[a]),p.pinfo.LAMEsfb[i][o][a]=0,0!=t.preflag&&a>=11&&(p.pinfo.LAMEsfb[i][o][a]=-d*l[a]),a<O.SBPSY_l&&(p.pinfo.LAMEsfb[i][o][a]-=d*h[a])}if(t.block_type==O.SHORT_TYPE)for(s=a,a=t.sfb_smin;a<O.SBMAX_s;a++){y=p.scalefac_band.s[a],b=(w=p.scalefac_band.s[a+1])-y;for(var w,S=0;S<3;S++){for(u=0,c=y;c<w;c++)u+=t.xr[g]*t.xr[g],g++;u=Math.max(u/b,1e-20),f=1e15,p.pinfo.en_s[i][o][3*a+S]=f*u,p.pinfo.xfsf_s[i][o][3*a+S]=f*m[s]*v[s]/b,r.en.s[a][S]>0?u/=r.en.s[a][S]:u=0,(e.ATHonly||e.ATHshort)&&(u=0),p.pinfo.thr_s[i][o][3*a+S]=f*Math.max(u*r.thm.s[a][S],p.ATH.s[a]),p.pinfo.LAMEsfb_s[i][o][3*a+S]=-2*t.subblock_gain[S],a<O.SBPSY_s&&(p.pinfo.LAMEsfb_s[i][o][3*a+S]-=d*h[s]),s++}}p.pinfo.LAMEqss[i][o]=t.global_gain,p.pinfo.LAMEmainbits[i][o]=t.part2_3_length+t.part2_length,p.pinfo.LAMEsfbits[i][o]=t.part2_length,p.pinfo.over[i][o]=_.over_count,p.pinfo.max_noise[i][o]=10*_.max_noise,p.pinfo.over_noise[i][o]=10*_.over_noise,p.pinfo.tot_noise[i][o]=10*_.tot_noise,p.pinfo.over_SSD[i][o]=_.over_SSD}}function R(){this.xr=n(576),this.l3_enc=r(576),this.scalefac=r(C.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=r(3),this.subblock_gain=r(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=r(C.SFBMAX),this.window=r(C.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=r(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(r){e.xr=function(e){return new Float32Array(e)}(r.xr),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}S.t1HB=[1,1,1,0],S.t2HB=[1,2,1,3,1,1,3,2,0],S.t3HB=[3,2,1,1,1,1,3,2,0],S.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],S.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],S.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],S.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],S.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],S.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],S.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],S.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],S.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],S.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],S.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],S.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],S.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],S.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],S.t1l=[1,4,3,5],S.t2l=[1,4,7,4,5,7,6,7,8],S.t3l=[2,3,7,4,4,7,6,7,8],S.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],S.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],S.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],S.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],S.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],S.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],S.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],S.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],S.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],S.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],S.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],S.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],S.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],S.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],S.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],S.ht=[new w(0,0,null,null),new w(2,0,S.t1HB,S.t1l),new w(3,0,S.t2HB,S.t2l),new w(3,0,S.t3HB,S.t3l),new w(0,0,null,null),new w(4,0,S.t5HB,S.t5l),new w(4,0,S.t6HB,S.t6l),new w(6,0,S.t7HB,S.t7l),new w(6,0,S.t8HB,S.t8l),new w(6,0,S.t9HB,S.t9l),new w(8,0,S.t10HB,S.t10l),new w(8,0,S.t11HB,S.t11l),new w(8,0,S.t12HB,S.t12l),new w(16,0,S.t13HB,S.t13l),new w(0,0,null,S.t16_5l),new w(16,0,S.t15HB,S.t15l),new w(1,1,S.t16HB,S.t16l),new w(2,3,S.t16HB,S.t16l),new w(3,7,S.t16HB,S.t16l),new w(4,15,S.t16HB,S.t16l),new w(6,63,S.t16HB,S.t16l),new w(8,255,S.t16HB,S.t16l),new w(10,1023,S.t16HB,S.t16l),new w(13,8191,S.t16HB,S.t16l),new w(4,15,S.t24HB,S.t24l),new w(5,31,S.t24HB,S.t24l),new w(6,63,S.t24HB,S.t24l),new w(7,127,S.t24HB,S.t24l),new w(8,255,S.t24HB,S.t24l),new w(9,511,S.t24HB,S.t24l),new w(11,2047,S.t24HB,S.t24l),new w(13,8191,S.t24HB,S.t24l),new w(0,0,S.t32HB,S.t32l),new w(0,0,S.t33HB,S.t33l)],S.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],S.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],S.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],S.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],S.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],S.scfsi_band=[0,6,11,16,21],T.Q_MAX=257,T.Q_MAX2=116,T.LARGE_BITS=1e5,T.IXMAX_VAL=8206;var C={};function A(){var e,t,i;this.rv=null,this.qupvt=null;var o,a=new function(){this.setModules=function(e,t){}};function s(e){this.ordinal=e}function c(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function p(e){return f.FAST_LOG10(.368+.632*e*e*e)}function d(e,t,r,n,i){var o;switch(e){default:case 9:t.over_count>0?(o=r.over_SSD<=t.over_SSD,r.over_SSD==t.over_SSD&&(o=r.bits<t.bits)):o=r.max_noise<0&&10*r.max_noise+r.bits<=10*t.max_noise+t.bits;break;case 0:o=r.over_count<t.over_count||r.over_count==t.over_count&&r.over_noise<t.over_noise||r.over_count==t.over_count&&g.EQ(r.over_noise,t.over_noise)&&r.tot_noise<t.tot_noise;break;case 8:r.max_noise=function(e,t){for(var r=1e-37,n=0;n<t.psymax;n++)r+=p(e[n]);return Math.max(1e-20,r)}(i,n);case 1:o=r.max_noise<t.max_noise;break;case 2:o=r.tot_noise<t.tot_noise;break;case 3:o=r.tot_noise<t.tot_noise&&r.max_noise<t.max_noise;break;case 4:o=r.max_noise<=0&&t.max_noise>.2||r.max_noise<=0&&t.max_noise<0&&t.max_noise>r.max_noise-.2&&r.tot_noise<t.tot_noise||r.max_noise<=0&&t.max_noise>0&&t.max_noise>r.max_noise-.2&&r.tot_noise<t.tot_noise+t.over_noise||r.max_noise>0&&t.max_noise>-.05&&t.max_noise>r.max_noise-.1&&r.tot_noise+r.over_noise<t.tot_noise+t.over_noise||r.max_noise>0&&t.max_noise>-.1&&t.max_noise>r.max_noise-.15&&r.tot_noise+r.over_noise+r.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:o=r.over_noise<t.over_noise||g.EQ(r.over_noise,t.over_noise)&&r.tot_noise<t.tot_noise;break;case 6:o=r.over_noise<t.over_noise||g.EQ(r.over_noise,t.over_noise)&&(r.max_noise<t.max_noise||g.EQ(r.max_noise,t.max_noise)&&r.tot_noise<=t.tot_noise);break;case 7:o=r.over_count<t.over_count||r.over_noise<t.over_noise}return 0==t.over_count&&(o=o&&r.bits<t.bits),o}function m(e,t,r,n,a){var s=e.internal_flags;!function(e,t,r,n,i){var o,a=e.internal_flags;o=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var s=0,c=0;c<t.sfbmax;c++)s<r[c]&&(s=r[c]);var u=a.noise_shaping_amp;switch(3==u&&(u=i?2:1),u){case 2:break;case 1:s>1?s=Math.pow(s,.5):s*=.95;break;case 0:default:s>1?s=1:s*=.95}var l=0;for(c=0;c<t.sfbmax;c++){var f,p=t.width[c];if(l+=p,!(r[c]<s)){if(0!=(2&a.substep_shaping)&&(a.pseudohalf[c]=0==a.pseudohalf[c]?1:0,0==a.pseudohalf[c]&&2==a.noise_shaping_amp))return;for(t.scalefac[c]++,f=-p;f<0;f++)n[l+f]*=o,n[l+f]>t.xrpow_max&&(t.xrpow_max=n[l+f]);if(2==a.noise_shaping_amp)return}}}(e,t,r,n,a);var l=c(t);return!(l||(l=2==s.mode_gr?o.scale_bitcount(t):o.scale_bitcount_lsf(s,t))&&(s.noise_shaping>1&&(u.fill(s.pseudohalf,0),0==t.scalefac_scale?(function(e,t){for(var r=0,n=0;n<e.sfbmax;n++){var o=e.width[n],a=e.scalefac[n];if(0!=e.preflag&&(a+=i.pretab[n]),r+=o,0!=(1&a)){a++;for(var s=-o;s<0;s++)t[r+s]*=1.2968395546510096,t[r+s]>e.xrpow_max&&(e.xrpow_max=t[r+s])}e.scalefac[n]=a>>1}e.preflag=0,e.scalefac_scale=1}(t,n),l=!1):t.block_type==O.SHORT_TYPE&&s.subblock_gain>0&&(l=function(e,t,r){var n,o=t.scalefac;for(n=0;n<t.sfb_lmax;n++)if(o[n]>=16)return!0;for(var a=0;a<3;a++){var s=0,c=0;for(n=t.sfb_lmax+a;n<t.sfbdivide;n+=3)s<o[n]&&(s=o[n]);for(;n<t.sfbmax;n+=3)c<o[n]&&(c=o[n]);if(!(s<16&&c<8)){if(t.subblock_gain[a]>=7)return!0;t.subblock_gain[a]++;var u=e.scalefac_band.l[t.sfb_lmax];for(n=t.sfb_lmax+a;n<t.sfbmax;n+=3){var l=t.width[n],f=o[n];if((f-=4>>t.scalefac_scale)>=0)o[n]=f,u+=3*l;else{o[n]=0;var p=210+(f<<t.scalefac_scale+1);h=i.IPOW20(p),u+=l*(a+1);for(var d=-l;d<0;d++)r[u+d]*=h,r[u+d]>t.xrpow_max&&(t.xrpow_max=r[u+d]);u+=l*(3-a-1)}}var h=i.IPOW20(202);for(u+=t.width[n]*(a+1),d=-t.width[n];d<0;d++)r[u+d]*=h,r[u+d]>t.xrpow_max&&(t.xrpow_max=r[u+d])}}return!1}(s,t,n)||c(t))),l||(l=2==s.mode_gr?o.scale_bitcount(t):o.scale_bitcount_lsf(s,t)),l))}this.setModules=function(r,n,s,c){e=r,t=n,this.rv=n,i=s,this.qupvt=s,o=c,a.setModules(i,o)},this.ms_convert=function(e,t){for(var r=0;r<576;++r){var n=e.tt[t][0].xr[r],i=e.tt[t][1].xr[r];e.tt[t][0].xr[r]=(n+i)*(.5*f.SQRT2),e.tt[t][1].xr[r]=(n-i)*(.5*f.SQRT2)}},this.init_xrpow=function(e,t,r){var n=0,i=0|t.max_nonzero_coeff;if(t.xrpow_max=0,u.fill(r,i,576,0),(n=function(e,t,r,n){n=0;for(var i=0;i<=r;++i){var o=Math.abs(e.xr[i]);n+=o,t[i]=Math.sqrt(o*Math.sqrt(o)),t[i]>e.xrpow_max&&(e.xrpow_max=t[i])}return n}(t,r,i,n))>1e-20){var o=0;0!=(2&e.substep_shaping)&&(o=1);for(var a=0;a<t.psymax;a++)e.pseudohalf[a]=o;return!0}return u.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=O.SBPSY_l,t.sfb_smin=O.SBPSY_s,t.psy_lmax=e.sfb21_extra?O.SBMAX_l:O.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var r=0;r<O.SBMAX_l;r++)t.width[r]=e.scalefac_band.l[r+1]-e.scalefac_band.l[r],t.window[r]=3;if(t.block_type==O.SHORT_TYPE){var o=n(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?O.SBMAX_s:O.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(O.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var a=e.scalefac_band.l[t.sfb_lmax];for(l.arraycopy(t.xr,0,o,0,576),r=t.sfb_smin;r<O.SBMAX_s;r++)for(var s=e.scalefac_band.s[r],c=e.scalefac_band.s[r+1],f=0;f<3;f++)for(var p=s;p<c;p++)t.xr[a++]=o[3*p+f];var d=t.sfb_lmax;for(r=t.sfb_smin;r<O.SBMAX_s;r++)t.width[d]=t.width[d+1]=t.width[d+2]=e.scalefac_band.s[r+1]-e.scalefac_band.s[r],t.window[d]=0,t.window[d+1]=1,t.window[d+2]=2,d+=3}t.count1bits=0,t.sfb_partition_table=i.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,u.fill(t.scalefac,0),function(e,t){var r=e.ATH,n=t.xr;if(t.block_type!=O.SHORT_TYPE)for(var o=!1,a=O.PSFB21-1;a>=0&&!o;a--){var s=e.scalefac_band.psfb21[a],c=e.scalefac_band.psfb21[a+1],u=i.athAdjust(r.adjust,r.psfb21[a],r.floor);e.nsPsy.longfact[21]>1e-12&&(u*=e.nsPsy.longfact[21]);for(var l=c-1;l>=s;l--){if(!(Math.abs(n[l])<u)){o=!0;break}n[l]=0}}else for(var f=0;f<3;f++)for(o=!1,a=O.PSFB12-1;a>=0&&!o;a--){c=(s=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*f+(e.scalefac_band.psfb12[a]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[a+1]-e.scalefac_band.psfb12[a]);var p=i.athAdjust(r.adjust,r.psfb12[a],r.floor);for(e.nsPsy.shortfact[12]>1e-12&&(p*=e.nsPsy.shortfact[12]),l=c-1;l>=s;l--){if(!(Math.abs(n[l])<p)){o=!0;break}n[l]=0}}}(e,t)},s.BINSEARCH_NONE=new s(0),s.BINSEARCH_UP=new s(1),s.BINSEARCH_DOWN=new s(2),this.trancate_smallspectrums=function(e,t,r,a){var s=n(C.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=O.SHORT_TYPE)&&0==(128&e.substep_shaping)){i.calc_noise(t,r,s,new E,null);for(var c=0;c<576;c++){var l=0;0!=t.l3_enc[c]&&(l=Math.abs(t.xr[c])),a[c]=l}c=0;var f=8;t.block_type==O.SHORT_TYPE&&(f=6);do{var p,d,h,m,v=t.width[f];if(c+=v,!(s[f]>=1||(u.sort(a,c-v,v),g.EQ(a[c-1],0)))){p=(1-s[f])*r[f],d=0,m=0;do{var _;for(h=1;m+h<v&&!g.NEQ(a[m+c-v],a[m+c+h-v]);h++);if(p<(_=a[m+c-v]*a[m+c-v]*h)){0!=m&&(d=a[m+c-v-1]);break}p-=_,m+=h}while(m<v);if(!g.EQ(d,0))do{Math.abs(t.xr[c-v])<=d&&(t.l3_enc[c-v]=0)}while(--v>0)}}while(++f<t.psymax);t.part2_3_length=o.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,a,c,u,f){var p=e.internal_flags,v=new R,_=n(576),g=n(C.SFBMAX),y=new E,b=new function(){this.global_gain=0,this.sfb_count1=0,this.step=r(39),this.noise=n(39),this.noise_log=n(39)},w=9999999,S=!1,x=!1,k=0;if(function(e,t,r,n,i){var a,c=e.CurrentStep[n],u=!1,l=e.OldValue[n],f=s.BINSEARCH_NONE;for(t.global_gain=l,r-=t.part2_length;;){var p;if(a=o.count_bits(e,i,t,null),1==c||a==r)break;a>r?(f==s.BINSEARCH_DOWN&&(u=!0),u&&(c/=2),f=s.BINSEARCH_UP,p=c):(f==s.BINSEARCH_UP&&(u=!0),u&&(c/=2),f=s.BINSEARCH_DOWN,p=-c),t.global_gain+=p,t.global_gain<0&&(t.global_gain=0,u=!0),t.global_gain>255&&(t.global_gain=255,u=!0)}for(;a>r&&t.global_gain<255;)t.global_gain++,a=o.count_bits(e,i,t,null);e.CurrentStep[n]=l-t.global_gain>=4?4:2,e.OldValue[n]=t.global_gain,t.part2_3_length=a}(p,t,f,u,c),0==p.noise_shaping)return 100;i.calc_noise(t,a,g,y,b),y.bits=t.part2_3_length,v.assign(t);var T=0;for(l.arraycopy(c,0,_,0,576);!S;){do{var A,P=new E,M=255;if(A=0!=(2&p.substep_shaping)?20:3,p.sfb21_extra){if(g[v.sfbmax]>1)break;if(v.block_type==O.SHORT_TYPE&&(g[v.sfbmax+1]>1||g[v.sfbmax+2]>1))break}if(!m(e,v,g,c,x))break;0!=v.scalefac_scale&&(M=254);var I=f-v.part2_length;if(I<=0)break;for(;(v.part2_3_length=o.count_bits(p,c,v,b))>I&&v.global_gain<=M;)v.global_gain++;if(v.global_gain>M)break;if(0==y.over_count){for(;(v.part2_3_length=o.count_bits(p,c,v,b))>w&&v.global_gain<=M;)v.global_gain++;if(v.global_gain>M)break}if(i.calc_noise(v,a,g,P,b),P.bits=v.part2_3_length,0!=(d(t.block_type!=O.SHORT_TYPE?e.quant_comp:e.quant_comp_short,y,P,v,g)?1:0))w=t.part2_3_length,y=P,t.assign(v),T=0,l.arraycopy(c,0,_,0,576);else if(0==p.full_outer_loop){if(++T>A&&0==y.over_count)break;if(3==p.noise_shaping_amp&&x&&T>30)break;if(3==p.noise_shaping_amp&&x&&v.global_gain-k>15)break}}while(v.global_gain+v.scalefac_scale<255);3==p.noise_shaping_amp?x?S=!0:(v.assign(t),l.arraycopy(_,0,c,0,576),T=0,k=v.global_gain,x=!0):S=!0}return e.VBR==h.vbr_rh||e.VBR==h.vbr_mtrh?l.arraycopy(_,0,c,0,576):0!=(1&p.substep_shaping)&&trancate_smallspectrums(p,t,a,c),y.over_count},this.iteration_finish_one=function(e,r,n){var i=e.l3_side,a=i.tt[r][n];o.best_scalefac_store(e,r,n,i),1==e.use_best_huffman&&o.best_huffman_divide(e,a),t.ResvAdjust(e,a)},this.VBR_encode_granule=function(e,t,r,i,o,a,s){var c,f=e.internal_flags,p=new R,d=n(576),h=s,m=s+1,v=(s+a)/2,_=0,g=f.sfb21_extra;u.fill(p.l3_enc,0);do{f.sfb21_extra=!(v>h-42)&&g,outer_loop(e,t,r,i,o,v)<=0?(_=1,m=t.part2_3_length,p.assign(t),l.arraycopy(i,0,d,0,576),c=(s=m-32)-a,v=(s+a)/2):(c=s-(a=v+32),v=(s+a)/2,0!=_&&(_=2,t.assign(p),l.arraycopy(d,0,i,0,576)))}while(c>12);f.sfb21_extra=g,2==_&&l.arraycopy(p.l3_enc,0,t.l3_enc,0,576)},this.get_framebits=function(r,n){var i=r.internal_flags;i.bitrate_index=i.VBR_min_bitrate;var o=e.getframebits(r);i.bitrate_index=1,o=e.getframebits(r);for(var a=1;a<=i.VBR_max_bitrate;a++){i.bitrate_index=a;var s=new x(o);n[a]=t.ResvFrameBegin(r,s),o=s.bits}},this.VBR_old_prepare=function(e,r,n,o,a,s,c,u,l){var f,p=e.internal_flags,d=0,h=1,m=0;p.bitrate_index=p.VBR_max_bitrate;var v=t.ResvFrameBegin(e,new x(0))/p.mode_gr;get_framebits(e,s);for(var _=0;_<p.mode_gr;_++){var g=i.on_pe(e,r,u[_],v,_,0);p.mode_ext==O.MPG_MD_MS_LR&&(ms_convert(p.l3_side,_),i.reduce_side(u[_],n[_],v,g));for(var y=0;y<p.channels_out;++y){var b=p.l3_side.tt[_][y];b.block_type!=O.SHORT_TYPE?(d=1.28/(1+Math.exp(3.5-r[_][y]/300))-.05,f=p.PSY.mask_adjust-d):(d=2.56/(1+Math.exp(3.5-r[_][y]/300))-.14,f=p.PSY.mask_adjust_short-d),p.masking_lower=Math.pow(10,.1*f),init_outer_loop(p,b),l[_][y]=i.calc_xmin(e,o[_][y],b,a[_][y]),0!=l[_][y]&&(h=0),c[_][y]=126,m+=u[_][y]}}for(_=0;_<p.mode_gr;_++)for(y=0;y<p.channels_out;y++)m>s[p.VBR_max_bitrate]&&(u[_][y]*=s[p.VBR_max_bitrate],u[_][y]/=m),c[_][y]>u[_][y]&&(c[_][y]=u[_][y]);return h},this.bitpressure_strategy=function(e,t,r,n){for(var i=0;i<e.mode_gr;i++)for(var o=0;o<e.channels_out;o++){for(var a=e.l3_side.tt[i][o],s=t[i][o],c=0,u=0;u<a.psy_lmax;u++)s[c++]*=1+.029*u*u/O.SBMAX_l/O.SBMAX_l;if(a.block_type==O.SHORT_TYPE)for(u=a.sfb_smin;u<O.SBMAX_s;u++)s[c++]*=1+.029*u*u/O.SBMAX_s/O.SBMAX_s,s[c++]*=1+.029*u*u/O.SBMAX_s/O.SBMAX_s,s[c++]*=1+.029*u*u/O.SBMAX_s/O.SBMAX_s;n[i][o]=0|Math.max(r[i][o],.9*n[i][o])}},this.VBR_new_prepare=function(e,r,n,o,a,s){var c,u=e.internal_flags,l=1,f=0,p=0;if(e.free_format)u.bitrate_index=0,d=new x(f),c=t.ResvFrameBegin(e,d),f=d.bits,a[0]=c;else{u.bitrate_index=u.VBR_max_bitrate;var d=new x(f);t.ResvFrameBegin(e,d),f=d.bits,get_framebits(e,a),c=a[u.VBR_max_bitrate]}for(var h=0;h<u.mode_gr;h++){i.on_pe(e,r,s[h],f,h,0),u.mode_ext==O.MPG_MD_MS_LR&&ms_convert(u.l3_side,h);for(var m=0;m<u.channels_out;++m){var v=u.l3_side.tt[h][m];u.masking_lower=Math.pow(10,.1*u.PSY.mask_adjust),init_outer_loop(u,v),0!=i.calc_xmin(e,n[h][m],v,o[h][m])&&(l=0),p+=s[h][m]}}for(h=0;h<u.mode_gr;h++)for(m=0;m<u.channels_out;m++)p>c&&(s[h][m]*=c,s[h][m]/=p);return l},this.calc_target_bits=function(r,n,o,a,s,c){var u,l,f,p,d=r.internal_flags,h=d.l3_side,m=0;d.bitrate_index=d.VBR_max_bitrate;var v=new x(m);for(c[0]=t.ResvFrameBegin(r,v),m=v.bits,d.bitrate_index=1,m=e.getframebits(r)-8*d.sideinfo_len,s[0]=m/(d.mode_gr*d.channels_out),m=r.VBR_mean_bitrate_kbps*r.framesize*1e3,0!=(1&d.substep_shaping)&&(m*=1.09),m/=r.out_samplerate,m-=8*d.sideinfo_len,m/=d.mode_gr*d.channels_out,(u=.93+.07*(11-r.compression_ratio)/5.5)<.9&&(u=.9),u>1&&(u=1),l=0;l<d.mode_gr;l++){var _=0;for(f=0;f<d.channels_out;f++){if(a[l][f]=int(u*m),n[l][f]>700){var g=int((n[l][f]-700)/1.4),y=h.tt[l][f];a[l][f]=int(u*m),y.block_type==O.SHORT_TYPE&&g<m/2&&(g=m/2),g>3*m/2?g=3*m/2:g<0&&(g=0),a[l][f]+=g}a[l][f]>I.MAX_BITS_PER_CHANNEL&&(a[l][f]=I.MAX_BITS_PER_CHANNEL),_+=a[l][f]}if(_>I.MAX_BITS_PER_GRANULE)for(f=0;f<d.channels_out;++f)a[l][f]*=I.MAX_BITS_PER_GRANULE,a[l][f]/=_}if(d.mode_ext==O.MPG_MD_MS_LR)for(l=0;l<d.mode_gr;l++)i.reduce_side(a[l],o[l],m*d.channels_out,I.MAX_BITS_PER_GRANULE);for(p=0,l=0;l<d.mode_gr;l++)for(f=0;f<d.channels_out;f++)a[l][f]>I.MAX_BITS_PER_CHANNEL&&(a[l][f]=I.MAX_BITS_PER_CHANNEL),p+=a[l][f];if(p>c[0])for(l=0;l<d.mode_gr;l++)for(f=0;f<d.channels_out;f++)a[l][f]*=c[0],a[l][f]/=p}}function P(){this.thm=new M,this.en=new M}function O(){var e=O.FFTOFFSET,t=O.MPG_MD_MS_LR,i=null;this.psy=null;var a=null,s=null,p=null;this.setModules=function(e,t,r,n){i=e,this.psy=t,a=t,s=n,p=r};var d=new function(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*f.SQRT2*.5/2384e-9,.017876148*f.SQRT2*.5/2384e-9,.003134727*f.SQRT2*.5/2384e-9,.002457142*f.SQRT2*.5/2384e-9,971317e-9*f.SQRT2*.5/2384e-9,218868e-9*f.SQRT2*.5/2384e-9,101566e-9*f.SQRT2*.5/2384e-9,13828e-9*f.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,49591e-9/2384e-9,1995.1556208053692,21458e-9/2384e-9,-69618e-9/2384e-9],t=[[2.382191739347913e-13,6.423305872147834e-13,9.400849094049688e-13,1.122435026096556e-12,1.183840321267481e-12,1.122435026096556e-12,9.40084909404969e-13,6.423305872147839e-13,2.382191739347918e-13,5.456116108943412e-12,4.878985199565852e-12,4.240448995017367e-12,3.559909094758252e-12,2.858043359288075e-12,2.156177623817898e-12,1.475637723558783e-12,8.371015190102974e-13,2.599706096327376e-13,-5.456116108943412e-12,-4.878985199565852e-12,-4.240448995017367e-12,-3.559909094758252e-12,-2.858043359288076e-12,-2.156177623817898e-12,-1.475637723558783e-12,-8.371015190102975e-13,-2.599706096327376e-13,-2.382191739347923e-13,-6.423305872147843e-13,-9.400849094049696e-13,-1.122435026096556e-12,-1.183840321267481e-12,-1.122435026096556e-12,-9.400849094049694e-13,-6.42330587214784e-13,-2.382191739347918e-13],[2.382191739347913e-13,6.423305872147834e-13,9.400849094049688e-13,1.122435026096556e-12,1.183840321267481e-12,1.122435026096556e-12,9.400849094049688e-13,6.423305872147841e-13,2.382191739347918e-13,5.456116108943413e-12,4.878985199565852e-12,4.240448995017367e-12,3.559909094758253e-12,2.858043359288075e-12,2.156177623817898e-12,1.475637723558782e-12,8.371015190102975e-13,2.599706096327376e-13,-5.461314069809755e-12,-4.921085770524055e-12,-4.343405037091838e-12,-3.732668368707687e-12,-3.093523840190885e-12,-2.430835727329465e-12,-1.734679010007751e-12,-9.74825365660928e-13,-2.797435120168326e-13,0,0,0,0,0,0,-2.283748241799531e-13,-4.037858874020686e-13,-2.146547464825323e-13],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2.283748241799531e-13,4.037858874020686e-13,2.146547464825323e-13,5.461314069809755e-12,4.921085770524055e-12,4.343405037091838e-12,3.732668368707687e-12,3.093523840190885e-12,2.430835727329466e-12,1.734679010007751e-12,9.74825365660928e-13,2.797435120168326e-13,-5.456116108943413e-12,-4.878985199565852e-12,-4.240448995017367e-12,-3.559909094758253e-12,-2.858043359288075e-12,-2.156177623817898e-12,-1.475637723558782e-12,-8.371015190102975e-13,-2.599706096327376e-13,-2.382191739347913e-13,-6.423305872147834e-13,-9.400849094049688e-13,-1.122435026096556e-12,-1.183840321267481e-12,-1.122435026096556e-12,-9.400849094049688e-13,-6.423305872147841e-13,-2.382191739347918e-13]],r=t[O.SHORT_TYPE],i=t[O.SHORT_TYPE],o=t[O.SHORT_TYPE],a=t[O.SHORT_TYPE],s=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function c(t,r,n){for(var i,o,a,s=10,c=r+238-14-286,u=-15;u<0;u++){var l,p,d;l=e[s+-10],p=t[c+-224]*l,d=t[r+224]*l,l=e[s+-9],p+=t[c+-160]*l,d+=t[r+160]*l,l=e[s+-8],p+=t[c+-96]*l,d+=t[r+96]*l,l=e[s+-7],p+=t[c+-32]*l,d+=t[r+32]*l,l=e[s+-6],p+=t[c+32]*l,d+=t[r+-32]*l,l=e[s+-5],p+=t[c+96]*l,d+=t[r+-96]*l,l=e[s+-4],p+=t[c+160]*l,d+=t[r+-160]*l,l=e[s+-3],p+=t[c+224]*l,d+=t[r+-224]*l,l=e[s+-2],p+=t[r+-256]*l,d-=t[c+256]*l,l=e[s+-1],p+=t[r+-192]*l,d-=t[c+192]*l,l=e[s+0],p+=t[r+-128]*l,d-=t[c+128]*l,l=e[s+1],p+=t[r+-64]*l,d-=t[c+64]*l,l=e[s+2],p+=t[r+0]*l,d-=t[c+0]*l,l=e[s+3],p+=t[r+64]*l,d-=t[c+-64]*l,l=e[s+4],p+=t[r+128]*l,d-=t[c+-128]*l,l=e[s+5],p+=t[r+192]*l,l=(d-=t[c+-192]*l)-(p*=e[s+6]),n[30+2*u]=d+p,n[31+2*u]=e[s+7]*l,s+=18,r--,c++}d=t[r+-16]*e[s+-10],p=t[r+-32]*e[s+-2],d+=(t[r+-48]-t[r+16])*e[s+-9],p+=t[r+-96]*e[s+-1],d+=(t[r+-80]+t[r+48])*e[s+-8],p+=t[r+-160]*e[s+0],d+=(t[r+-112]-t[r+80])*e[s+-7],p+=t[r+-224]*e[s+1],d+=(t[r+-144]+t[r+112])*e[s+-6],p-=t[r+32]*e[s+2],d+=(t[r+-176]-t[r+144])*e[s+-5],p-=t[r+96]*e[s+3],d+=(t[r+-208]+t[r+176])*e[s+-4],p-=t[r+160]*e[s+4],d+=(t[r+-240]-t[r+208])*e[s+-3],i=(p-=t[r+224])-d,o=p+d,d=n[14],p=n[15]-d,n[31]=o+d,n[30]=i+p,n[15]=i-p,n[14]=o-d,a=n[28]-n[0],n[0]+=n[28],n[28]=a*e[s+-36+7],a=n[29]-n[1],n[1]+=n[29],n[29]=a*e[s+-36+7],a=n[26]-n[2],n[2]+=n[26],n[26]=a*e[s+-72+7],a=n[27]-n[3],n[3]+=n[27],n[27]=a*e[s+-72+7],a=n[24]-n[4],n[4]+=n[24],n[24]=a*e[s+-108+7],a=n[25]-n[5],n[5]+=n[25],n[25]=a*e[s+-108+7],a=n[22]-n[6],n[6]+=n[22],n[22]=a*f.SQRT2,a=n[23]-n[7],n[7]+=n[23],n[23]=a*f.SQRT2-n[7],n[7]-=n[6],n[22]-=n[7],n[23]-=n[22],a=n[6],n[6]=n[31]-a,n[31]=n[31]+a,a=n[7],n[7]=n[30]-a,n[30]=n[30]+a,a=n[22],n[22]=n[15]-a,n[15]=n[15]+a,a=n[23],n[23]=n[14]-a,n[14]=n[14]+a,a=n[20]-n[8],n[8]+=n[20],n[20]=a*e[s+-180+7],a=n[21]-n[9],n[9]+=n[21],n[21]=a*e[s+-180+7],a=n[18]-n[10],n[10]+=n[18],n[18]=a*e[s+-216+7],a=n[19]-n[11],n[11]+=n[19],n[19]=a*e[s+-216+7],a=n[16]-n[12],n[12]+=n[16],n[16]=a*e[s+-252+7],a=n[17]-n[13],n[13]+=n[17],n[17]=a*e[s+-252+7],a=-n[20]+n[24],n[20]+=n[24],n[24]=a*e[s+-216+7],a=-n[21]+n[25],n[21]+=n[25],n[25]=a*e[s+-216+7],a=n[4]-n[8],n[4]+=n[8],n[8]=a*e[s+-216+7],a=n[5]-n[9],n[5]+=n[9],n[9]=a*e[s+-216+7],a=n[0]-n[12],n[0]+=n[12],n[12]=a*e[s+-72+7],a=n[1]-n[13],n[1]+=n[13],n[13]=a*e[s+-72+7],a=n[16]-n[28],n[16]+=n[28],n[28]=a*e[s+-72+7],a=-n[17]+n[29],n[17]+=n[29],n[29]=a*e[s+-72+7],a=f.SQRT2*(n[2]-n[10]),n[2]+=n[10],n[10]=a,a=f.SQRT2*(n[3]-n[11]),n[3]+=n[11],n[11]=a,a=f.SQRT2*(-n[18]+n[26]),n[18]+=n[26],n[26]=a-n[18],a=f.SQRT2*(-n[19]+n[27]),n[19]+=n[27],n[27]=a-n[19],a=n[2],n[19]-=n[3],n[3]-=a,n[2]=n[31]-a,n[31]+=a,a=n[3],n[11]-=n[19],n[18]-=a,n[3]=n[30]-a,n[30]+=a,a=n[18],n[27]-=n[11],n[19]-=a,n[18]=n[15]-a,n[15]+=a,a=n[19],n[10]-=a,n[19]=n[14]-a,n[14]+=a,a=n[10],n[11]-=a,n[10]=n[23]-a,n[23]+=a,a=n[11],n[26]-=a,n[11]=n[22]-a,n[22]+=a,a=n[26],n[27]-=a,n[26]=n[7]-a,n[7]+=a,a=n[27],n[27]=n[6]-a,n[6]+=a,a=f.SQRT2*(n[0]-n[4]),n[0]+=n[4],n[4]=a,a=f.SQRT2*(n[1]-n[5]),n[1]+=n[5],n[5]=a,a=f.SQRT2*(n[16]-n[20]),n[16]+=n[20],n[20]=a,a=f.SQRT2*(n[17]-n[21]),n[17]+=n[21],n[21]=a,a=-f.SQRT2*(n[8]-n[12]),n[8]+=n[12],n[12]=a-n[8],a=-f.SQRT2*(n[9]-n[13]),n[9]+=n[13],n[13]=a-n[9],a=-f.SQRT2*(n[25]-n[29]),n[25]+=n[29],n[29]=a-n[25],a=-f.SQRT2*(n[24]+n[28]),n[24]-=n[28],n[28]=a-n[24],a=n[24]-n[16],n[24]=a,a=n[20]-a,n[20]=a,a=n[28]-a,n[28]=a,a=n[25]-n[17],n[25]=a,a=n[21]-a,n[21]=a,a=n[29]-a,n[29]=a,a=n[17]-n[1],n[17]=a,a=n[9]-a,n[9]=a,a=n[25]-a,n[25]=a,a=n[5]-a,n[5]=a,a=n[21]-a,n[21]=a,a=n[13]-a,n[13]=a,a=n[29]-a,n[29]=a,a=n[1]-n[0],n[1]=a,a=n[16]-a,n[16]=a,a=n[17]-a,n[17]=a,a=n[8]-a,n[8]=a,a=n[9]-a,n[9]=a,a=n[24]-a,n[24]=a,a=n[25]-a,n[25]=a,a=n[4]-a,n[4]=a,a=n[5]-a,n[5]=a,a=n[20]-a,n[20]=a,a=n[21]-a,n[21]=a,a=n[12]-a,n[12]=a,a=n[13]-a,n[13]=a,a=n[28]-a,n[28]=a,a=n[29]-a,n[29]=a,a=n[0],n[0]+=n[31],n[31]-=a,a=n[1],n[1]+=n[30],n[30]-=a,a=n[16],n[16]+=n[15],n[15]-=a,a=n[17],n[17]+=n[14],n[14]-=a,a=n[8],n[8]+=n[23],n[23]-=a,a=n[9],n[9]+=n[22],n[22]-=a,a=n[24],n[24]+=n[7],n[7]-=a,a=n[25],n[25]+=n[6],n[6]-=a,a=n[4],n[4]+=n[27],n[27]-=a,a=n[5],n[5]+=n[26],n[26]-=a,a=n[20],n[20]+=n[11],n[11]-=a,a=n[21],n[21]+=n[10],n[10]-=a,a=n[12],n[12]+=n[19],n[19]-=a,a=n[13],n[13]+=n[18],n[18]-=a,a=n[28],n[28]+=n[3],n[3]-=a,a=n[29],n[29]+=n[2],n[2]-=a}function p(e,r){for(var n=0;n<3;n++){var i,o,a,s,c,u;o=(s=e[r+6]*t[O.SHORT_TYPE][0]-e[r+15])+(i=e[r+0]*t[O.SHORT_TYPE][2]-e[r+9]),a=s-i,c=(s=e[r+15]*t[O.SHORT_TYPE][0]+e[r+6])+(i=e[r+9]*t[O.SHORT_TYPE][2]+e[r+0]),u=-s+i,i=2.069978111953089e-11*(e[r+3]*t[O.SHORT_TYPE][1]-e[r+12]),s=2.069978111953089e-11*(e[r+12]*t[O.SHORT_TYPE][1]+e[r+3]),e[r+0]=1.90752519173728e-11*o+i,e[r+15]=1.90752519173728e-11*-c+s,a=.8660254037844387*a*1.907525191737281e-11,c=.5*c*1.907525191737281e-11+s,e[r+3]=a-c,e[r+6]=a+c,o=.5*o*1.907525191737281e-11-i,u=.8660254037844387*u*1.907525191737281e-11,e[r+9]=o+u,e[r+12]=o-u,r++}}function d(e,t,r){var n,o,a,s,c,u,l,f,p,d,h,m,v,_,g,y,b,w;a=r[17]-r[9],c=r[15]-r[11],u=r[14]-r[12],l=r[0]+r[8],f=r[1]+r[7],p=r[2]+r[6],d=r[3]+r[5],e[t+17]=l+p-d-(f-r[4]),o=(l+p-d)*i[19]+(f-r[4]),n=(a-c-u)*i[18],e[t+5]=n+o,e[t+6]=n-o,s=(r[16]-r[10])*i[18],f=f*i[19]+r[4],n=a*i[12]+s+c*i[13]+u*i[14],o=-l*i[16]+f-p*i[17]+d*i[15],e[t+1]=n+o,e[t+2]=n-o,n=a*i[13]-s-c*i[14]+u*i[12],o=-l*i[17]+f-p*i[15]+d*i[16],e[t+9]=n+o,e[t+10]=n-o,n=a*i[14]-s+c*i[12]-u*i[13],o=l*i[15]-f+p*i[16]-d*i[17],e[t+13]=n+o,e[t+14]=n-o,h=r[8]-r[0],v=r[6]-r[2],_=r[5]-r[3],g=r[17]+r[9],y=r[16]+r[10],b=r[15]+r[11],w=r[14]+r[12],e[t+0]=g+b+w+(y+r[13]),n=(g+b+w)*i[19]-(y+r[13]),o=(h-v+_)*i[18],e[t+11]=n+o,e[t+12]=n-o,m=(r[7]-r[1])*i[18],y=r[13]-y*i[19],n=g*i[15]-y+b*i[16]+w*i[17],o=h*i[14]+m+v*i[12]+_*i[13],e[t+3]=n+o,e[t+4]=n-o,n=-g*i[17]+y-b*i[15]-w*i[16],o=h*i[13]+m-v*i[14]-_*i[12],e[t+7]=n+o,e[t+8]=n-o,n=-g*i[16]+y-b*i[17]-w*i[15],o=h*i[12]-m+v*i[13]-_*i[14],e[t+15]=n+o,e[t+16]=n-o}this.mdct_sub48=function(e,i,f){for(var h=i,m=286,v=0;v<e.channels_out;v++){for(var _=0;_<e.mode_gr;_++){for(var g,y=e.l3_side.tt[_][v],b=y.xr,w=0,S=e.sb_sample[v][1-_],x=0,E=0;E<9;E++)for(c(h,m,S[x]),c(h,m+32,S[x+1]),x+=2,m+=64,g=1;g<32;g+=2)S[x-1][g]*=-1;for(g=0;g<32;g++,w+=18){var k=y.block_type,T=e.sb_sample[v][_],R=e.sb_sample[v][1-_];if(0!=y.mixed_block_flag&&g<2&&(k=0),e.amp_filter[g]<1e-12)u.fill(b,w+0,w+18,0);else{if(e.amp_filter[g]<1)for(E=0;E<18;E++)R[E][s[g]]*=e.amp_filter[g];if(k==O.SHORT_TYPE){for(E=-3;E<0;E++){var C=t[O.SHORT_TYPE][E+3];b[w+3*E+9]=T[9+E][s[g]]*C-T[8-E][s[g]],b[w+3*E+18]=T[14-E][s[g]]*C+T[15+E][s[g]],b[w+3*E+10]=T[15+E][s[g]]*C-T[14-E][s[g]],b[w+3*E+19]=R[2-E][s[g]]*C+R[3+E][s[g]],b[w+3*E+11]=R[3+E][s[g]]*C-R[2-E][s[g]],b[w+3*E+20]=R[8-E][s[g]]*C+R[9+E][s[g]]}p(b,w)}else{var A=n(18);for(E=-9;E<0;E++){var P,M;P=t[k][E+27]*R[E+9][s[g]]+t[k][E+36]*R[8-E][s[g]],M=t[k][E+9]*T[E+9][s[g]]-t[k][E+18]*T[8-E][s[g]],A[E+9]=P-M*r[3+E+9],A[E+18]=P*r[3+E+9]+M}d(b,w,A)}}if(k!=O.SHORT_TYPE&&0!=g)for(E=7;E>=0;--E){var I,N;I=b[w+E]*o[20+E]+b[w+-1-E]*a[28+E],N=b[w+E]*a[28+E]-b[w+-1-E]*o[20+E],b[w+-1-E]=I,b[w+E]=N}}}if(h=f,m=286,1==e.mode_gr)for(var j=0;j<18;j++)l.arraycopy(e.sb_sample[v][1][j],0,e.sb_sample[v][0][j],0,32)}}};this.lame_encode_mp3_frame=function(u,f,v,_,g,y){var b,w=c([2,2]);w[0][0]=new P,w[0][1]=new P,w[1][0]=new P,w[1][1]=new P;var S,x=c([2,2]);x[0][0]=new P,x[0][1]=new P,x[1][0]=new P,x[1][1]=new P;var E,k,T,R=[null,null],C=u.internal_flags,A=o([2,4]),M=[.5,.5],I=[[0,0],[0,0]],N=[[0,0],[0,0]];if(R[0]=f,R[1]=v,0==C.lame_encode_frame_init&&function(e,t){var r,i,o=e.internal_flags;if(0==o.lame_encode_frame_init){var a,s,c=n(2014),u=n(2014);for(o.lame_encode_frame_init=1,a=0,s=0;a<286+576*(1+o.mode_gr);++a)a<576*o.mode_gr?(c[a]=0,2==o.channels_out&&(u[a]=0)):(c[a]=t[0][s],2==o.channels_out&&(u[a]=t[1][s]),++s);for(i=0;i<o.mode_gr;i++)for(r=0;r<o.channels_out;r++)o.l3_side.tt[i][r].block_type=O.SHORT_TYPE;d.mdct_sub48(o,c,u)}}(u,R),C.padding=0,(C.slot_lag-=C.frac_SpF)<0&&(C.slot_lag+=u.out_samplerate,C.padding=1),0!=C.psymodel){var j=[null,null],D=0,B=r(2);for(T=0;T<C.mode_gr;T++){for(k=0;k<C.channels_out;k++)j[k]=R[k],D=576+576*T-O.FFTOFFSET;if(0!=(u.VBR==h.vbr_mtrh||u.VBR==h.vbr_mt?a.L3psycho_anal_vbr(u,j,D,T,w,x,I[T],N[T],A[T],B):a.L3psycho_anal_ns(u,j,D,T,w,x,I[T],N[T],A[T],B)))return-4;for(u.mode==m.JOINT_STEREO&&(M[T]=A[T][2]+A[T][3],M[T]>0&&(M[T]=A[T][3]/M[T])),k=0;k<C.channels_out;k++){var L=C.l3_side.tt[T][k];L.block_type=B[k],L.mixed_block_flag=0}}}else for(T=0;T<C.mode_gr;T++)for(k=0;k<C.channels_out;k++)C.l3_side.tt[T][k].block_type=O.NORM_TYPE,C.l3_side.tt[T][k].mixed_block_flag=0,N[T][k]=I[T][k]=700;if(function(e){var t,r;if(0!=e.ATH.useAdjust)if(r=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(r+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(r+=r,t+=t),2==e.mode_gr&&(r=Math.max(r,t)),r*=.5,(r*=e.ATH.aaSensitivityP)>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var n=31.98*r+625e-6;e.ATH.adjust>=n?(e.ATH.adjust*=.075*n+.925,e.ATH.adjust<n&&(e.ATH.adjust=n)):e.ATH.adjustLimit>=n?e.ATH.adjust=n:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=n}else e.ATH.adjust=1}(C),d.mdct_sub48(C,R[0],R[1]),C.mode_ext=O.MPG_MD_LR_LR,u.force_ms)C.mode_ext=O.MPG_MD_MS_LR;else if(u.mode==m.JOINT_STEREO){var F=0,U=0;for(T=0;T<C.mode_gr;T++)for(k=0;k<C.channels_out;k++)F+=N[T][k],U+=I[T][k];if(F<=1*U){var H=C.l3_side.tt[0],q=C.l3_side.tt[C.mode_gr-1];H[0].block_type==H[1].block_type&&q[0].block_type==q[1].block_type&&(C.mode_ext=O.MPG_MD_MS_LR)}}if(C.mode_ext==t?(S=x,E=N):(S=w,E=I),u.analysis&&null!=C.pinfo)for(T=0;T<C.mode_gr;T++)for(k=0;k<C.channels_out;k++)C.pinfo.ms_ratio[T]=C.ms_ratio[T],C.pinfo.ms_ener_ratio[T]=M[T],C.pinfo.blocktype[T][k]=C.l3_side.tt[T][k].block_type,C.pinfo.pe[T][k]=E[T][k],l.arraycopy(C.l3_side.tt[T][k].xr,0,C.pinfo.xr[T][k],0,576),C.mode_ext==t&&(C.pinfo.ers[T][k]=C.pinfo.ers[T][k+2],l.arraycopy(C.pinfo.energy[T][k+2],0,C.pinfo.energy[T][k],0,C.pinfo.energy[T][k].length));if(u.VBR==h.vbr_off||u.VBR==h.vbr_abr){var V,z;for(V=0;V<18;V++)C.nsPsy.pefirbuf[V]=C.nsPsy.pefirbuf[V+1];for(z=0,T=0;T<C.mode_gr;T++)for(k=0;k<C.channels_out;k++)z+=E[T][k];for(C.nsPsy.pefirbuf[18]=z,z=C.nsPsy.pefirbuf[9],V=0;V<9;V++)z+=(C.nsPsy.pefirbuf[V]+C.nsPsy.pefirbuf[18-V])*O.fircoef[V];for(z=3350*C.mode_gr*C.channels_out/z,T=0;T<C.mode_gr;T++)for(k=0;k<C.channels_out;k++)E[T][k]*=z}if(C.iteration_loop.iteration_loop(u,E,M,S),i.format_bitstream(u),b=i.copy_buffer(C,_,g,y,1),u.bWriteVbrTag&&s.addVbrFrame(u),u.analysis&&null!=C.pinfo){for(k=0;k<C.channels_out;k++){var G;for(G=0;G<e;G++)C.pinfo.pcmdata[k][G]=C.pinfo.pcmdata[k][G+u.framesize];for(G=e;G<1600;G++)C.pinfo.pcmdata[k][G]=R[k][G-e]}p.set_frame_pinfo(u,S)}return function(e){var t,r;for(e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(r=0;r<e.channels_out;++r){var n=0|e.l3_side.tt[t][r].block_type;0!=e.l3_side.tt[t][r].mixed_block_flag&&(n=4),e.bitrate_blockType_Hist[e.bitrate_index][n]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][n]++,e.bitrate_blockType_Hist[15][5]++}}(C),b}}function M(){this.l=n(O.SBMAX_l),this.s=o([O.SBMAX_s,3]);var e=this;this.assign=function(t){l.arraycopy(t.l,0,e.l,0,O.SBMAX_l);for(var r=0;r<O.SBMAX_s;r++)for(var n=0;n<3;n++)e.s[r][n]=t.s[r][n]}}function I(){var t=40;function s(){this.write_timing=0,this.ptr=0,this.buf=e(t)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=o([2,I.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[r(4),r(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new R},this.ms_ratio=n(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=r(2),this.CurrentStep=r(2),this.masking_lower=0,this.bv_scf=r(576),this.pseudohalf=r(C.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*I.BPC+1),this.itime=i(2),this.sideinfo_len=0,this.sb_sample=o([2,2,18,O.SBLIMIT]),this.amp_filter=n(32),this.header=new Array(I.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new k,this.minval_l=n(O.CBANDS),this.minval_s=n(O.CBANDS),this.nb_1=o([4,O.CBANDS]),this.nb_2=o([4,O.CBANDS]),this.nb_s1=o([4,O.CBANDS]),this.nb_s2=o([4,O.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=n(4),this.loudness_sq=o([2,2]),this.loudness_sq_save=n(2),this.mld_l=n(O.SBMAX_l),this.mld_s=n(O.SBMAX_s),this.bm_l=r(O.SBMAX_l),this.bo_l=r(O.SBMAX_l),this.bm_s=r(O.SBMAX_s),this.bo_s=r(O.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=a([O.CBANDS,2]),this.s3ind_s=a([O.CBANDS,2]),this.numlines_s=r(O.CBANDS),this.numlines_l=r(O.CBANDS),this.rnumlines_l=n(O.CBANDS),this.mld_cb_l=n(O.CBANDS),this.mld_cb_s=n(O.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=n(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=r(2),this.nsPsy=new function(){this.last_en_subshort=o([4,9]),this.lastAttacks=r(4),this.pefirbuf=n(19),this.longfact=n(O.SBMAX_l),this.shortfact=n(O.SBMAX_s),this.attackthre=0,this.attackthre_s=0},this.VBR_seek_table=new function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0},this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=a([16,5]),this.bitrate_blockType_Hist=a([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var c=0;c<this.en.length;c++)this.en[c]=new M;for(c=0;c<this.thm.length;c++)this.thm[c]=new M;for(c=0;c<this.header.length;c++)this.header[c]=new s}function N(){var e=new function(){var e=n(O.BLKSIZE),t=n(O.BLKSIZE_s/2),r=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function i(e,t,n){var i,o,a,s=0,c=t+(n<<=1);i=4;do{var u,l,p,d,h,m,v;v=i>>1,m=(h=i<<1)+(d=i),i=h<<1,a=(o=t)+v;do{x=e[o+0]-e[o+d],S=e[o+0]+e[o+d],R=e[o+h]-e[o+m],k=e[o+h]+e[o+m],e[o+h]=S-k,e[o+0]=S+k,e[o+m]=x-R,e[o+d]=x+R,x=e[a+0]-e[a+d],S=e[a+0]+e[a+d],R=f.SQRT2*e[a+m],k=f.SQRT2*e[a+h],e[a+h]=S-k,e[a+0]=S+k,e[a+m]=x-R,e[a+d]=x+R,a+=i,o+=i}while(o<c);for(l=r[s+0],u=r[s+1],p=1;p<v;p++){var _,g;_=1-2*u*u,g=2*u*l,o=t+p,a=t+d-p;do{var y,b,w,S,x,E,k,T,R,C;b=g*e[o+d]-_*e[a+d],y=_*e[o+d]+g*e[a+d],x=e[o+0]-y,S=e[o+0]+y,E=e[a+0]-b,w=e[a+0]+b,b=g*e[o+m]-_*e[a+m],y=_*e[o+m]+g*e[a+m],R=e[o+h]-y,k=e[o+h]+y,C=e[a+h]-b,T=e[a+h]+b,b=u*k-l*C,y=l*k+u*C,e[o+h]=S-y,e[o+0]=S+y,e[a+m]=E-b,e[a+d]=E+b,b=l*T-u*R,y=u*T+l*R,e[a+h]=w-y,e[a+0]=w+y,e[o+m]=x-b,e[o+d]=x+b,a+=i,o+=i}while(o<c);l=(_=l)*r[s+0]-u*r[s+1],u=_*r[s+1]+u*r[s+0]}s+=2}while(i<n)}var o=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,r,n,a,s){for(var c=0;c<3;c++){var u=O.BLKSIZE_s/2,l=65535&192*(c+1),f=O.BLKSIZE_s/8-1;do{var p,d,h,m,v,_=255&o[f<<2];d=(p=t[_]*a[n][s+_+l])-(v=t[127-_]*a[n][s+_+l+128]),p+=v,m=(h=t[_+64]*a[n][s+_+l+64])-(v=t[63-_]*a[n][s+_+l+192]),h+=v,u-=4,r[c][u+0]=p+h,r[c][u+2]=p-h,r[c][u+1]=d+m,r[c][u+3]=d-m,d=(p=t[_+1]*a[n][s+_+l+1])-(v=t[126-_]*a[n][s+_+l+129]),p+=v,m=(h=t[_+65]*a[n][s+_+l+65])-(v=t[62-_]*a[n][s+_+l+193]),h+=v,r[c][u+O.BLKSIZE_s/2+0]=p+h,r[c][u+O.BLKSIZE_s/2+2]=p-h,r[c][u+O.BLKSIZE_s/2+1]=d+m,r[c][u+O.BLKSIZE_s/2+3]=d-m}while(--f>=0);i(r[c],u,O.BLKSIZE_s/2)}},this.fft_long=function(t,r,n,a,s){var c=O.BLKSIZE/8-1,u=O.BLKSIZE/2;do{var l,f,p,d,h,m=255&o[c];f=(l=e[m]*a[n][s+m])-(h=e[m+512]*a[n][s+m+512]),l+=h,d=(p=e[m+256]*a[n][s+m+256])-(h=e[m+768]*a[n][s+m+768]),p+=h,r[0+(u-=4)]=l+p,r[u+2]=l-p,r[u+1]=f+d,r[u+3]=f-d,f=(l=e[m+1]*a[n][s+m+1])-(h=e[m+513]*a[n][s+m+513]),l+=h,d=(p=e[m+257]*a[n][s+m+257])-(h=e[m+769]*a[n][s+m+769]),p+=h,r[u+O.BLKSIZE/2+0]=l+p,r[u+O.BLKSIZE/2+2]=l-p,r[u+O.BLKSIZE/2+1]=f+d,r[u+O.BLKSIZE/2+3]=f-d}while(--c>=0);i(r,u,O.BLKSIZE/2)},this.init_fft=function(r){for(var n=0;n<O.BLKSIZE;n++)e[n]=.42-.5*Math.cos(2*Math.PI*(n+.5)/O.BLKSIZE)+.08*Math.cos(4*Math.PI*(n+.5)/O.BLKSIZE);for(n=0;n<O.BLKSIZE_s/2;n++)t[n]=.5*(1-Math.cos(2*Math.PI*(n+.5)/O.BLKSIZE_s))}},t=2.302585092994046,i=2,a=16,s=2,c=16,l=.34,v=1/217621504/(O.BLKSIZE/2),_=.3,g=21,y=.2302585093;function b(e){return e}function w(e,t){for(var r=0,n=0;n<O.BLKSIZE/2;++n)r+=e[n]*t.ATH.eql_w[n];return r*=v}function S(t,r,n,i,o,a,s,c,u,l,p){var d=t.internal_flags;if(u<2)e.fft_long(d,i[o],u,l,p),e.fft_short(d,a[s],u,l,p);else if(2==u){for(var h=O.BLKSIZE-1;h>=0;--h){var m=i[o+0][h],v=i[o+1][h];i[o+0][h]=(m+v)*f.SQRT2*.5,i[o+1][h]=(m-v)*f.SQRT2*.5}for(var _=2;_>=0;--_)for(h=O.BLKSIZE_s-1;h>=0;--h)m=a[s+0][_][h],v=a[s+1][_][h],a[s+0][_][h]=(m+v)*f.SQRT2*.5,a[s+1][_][h]=(m-v)*f.SQRT2*.5}for(r[0]=b(i[o+0][0]),r[0]*=r[0],h=O.BLKSIZE/2-1;h>=0;--h){var g=i[o+0][O.BLKSIZE/2-h],y=i[o+0][O.BLKSIZE/2+h];r[O.BLKSIZE/2-h]=b(.5*(g*g+y*y))}for(_=2;_>=0;--_)for(n[_][0]=a[s+0][_][0],n[_][0]*=n[_][0],h=O.BLKSIZE_s/2-1;h>=0;--h)g=a[s+0][_][O.BLKSIZE_s/2-h],y=a[s+0][_][O.BLKSIZE_s/2+h],n[_][O.BLKSIZE_s/2-h]=b(.5*(g*g+y*y));var S=0;for(h=11;h<O.HBLKSIZE;h++)S+=r[h];if(d.tot_ener[u]=S,t.analysis){for(h=0;h<O.HBLKSIZE;h++)d.pinfo.energy[c][u][h]=d.pinfo.energy_save[u][h],d.pinfo.energy_save[u][h]=r[h];d.pinfo.pe[c][u]=d.pe[u]}2==t.athaa_loudapprox&&u<2&&(d.loudness_sq[c][u]=d.loudness_sq_save[u],d.loudness_sq_save[u]=w(r,d))}var x,E,k,T=8,R=23,C=15,A=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],P=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],M=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],I=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function N(e,t,r,n,i,o){var a,s,c;if(t>e){if(!(t<e*E))return e+t;a=t/e}else{if(e>=t*E)return e+t;a=e/t}if(e+=t,n+3<=6){if(a>=x)return e;var u=0|f.FAST_LOG10_X(a,16);return e*M[u]}return u=0|f.FAST_LOG10_X(a,16),t=0!=o?i.ATH.cb_s[r]*i.ATH.adjust:i.ATH.cb_l[r]*i.ATH.adjust,e<k*t?e>t?(s=1,u<=13&&(s=I[u]),c=f.FAST_LOG10_X(e/t,10/15),e*((P[u]-s)*c+s)):u>13?e:e*I[u]:e*P[u]}var j=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function D(e,t,r){var n;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(n=t>e?t/e:e/t,-2<=r&&r<=2){if(n>=x)return e+t;var i=0|f.FAST_LOG10_X(n,16);return(e+t)*j[i]}return n<E?e+t:(e<t&&(e=t),e)}function B(e,t,r,n,i){var o,a,s=0,c=0;for(o=a=0;o<O.SBMAX_s;++a,++o){for(var u=e.bo_s[o],l=e.npart_s,f=u<l?u:l;a<f;)s+=t[a],c+=r[a],a++;if(e.en[n].s[o][i]=s,e.thm[n].s[o][i]=c,a>=l){++o;break}var p=e.PSY.bo_s_weight[o],d=1-p;s=p*t[a],c=p*r[a],e.en[n].s[o][i]+=s,e.thm[n].s[o][i]+=c,s=d*t[a],c=d*r[a]}for(;o<O.SBMAX_s;++o)e.en[n].s[o][i]=0,e.thm[n].s[o][i]=0}function L(e,t,r,n){var i,o,a=0,s=0;for(i=o=0;i<O.SBMAX_l;++o,++i){for(var c=e.bo_l[i],u=e.npart_l,l=c<u?c:u;o<l;)a+=t[o],s+=r[o],o++;if(e.en[n].l[i]=a,e.thm[n].l[i]=s,o>=u){++i;break}var f=e.PSY.bo_l_weight[i],p=1-f;a=f*t[o],s=f*r[o],e.en[n].l[i]+=a,e.thm[n].l[i]+=s,a=p*t[o],s=p*r[o]}for(;i<O.SBMAX_l;++i)e.en[n].l[i]=0,e.thm[n].l[i]=0}function F(e,t,r,n,i,o){var a,u,l=e.internal_flags;for(u=a=0;u<l.npart_s;++u){for(var f=0,p=0,d=l.numlines_s[u],h=0;h<d;++h,++a){var m=t[o][a];f+=m,p<m&&(p=m)}r[u]=f}for(a=u=0;u<l.npart_s;u++){var v=l.s3ind_s[u][0],_=l.s3_ss[a++]*r[v];for(++v;v<=l.s3ind_s[u][1];)_+=l.s3_ss[a]*r[v],++a,++v;var g=s*l.nb_s1[i][u];if(n[u]=Math.min(_,g),l.blocktype_old[1&i]==O.SHORT_TYPE){g=c*l.nb_s2[i][u];var y=n[u];n[u]=Math.min(g,y)}l.nb_s2[i][u]=l.nb_s1[i][u],l.nb_s1[i][u]=_}for(;u<=O.CBANDS;++u)r[u]=0,n[u]=0}function U(e,t,r){return r>=1?e:r<=0?t:t>0?Math.pow(e/t,r)*t:0}var H=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function q(e,r){for(var n=309.07,i=0;i<O.SBMAX_s-1;i++)for(var o=0;o<3;o++){var a=e.thm.s[i][o];if(a>0){var s=a*r,c=e.en.s[i][o];c>s&&(n+=c>1e10*s?H[i]*(10*t):H[i]*f.FAST_LOG10(c/s))}}return n}var V=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function z(e,r){for(var n=281.0575,i=0;i<O.SBMAX_l-1;i++){var o=e.thm.l[i];if(o>0){var a=o*r,s=e.en.l[i];s>a&&(n+=s>1e10*a?V[i]*(10*t):V[i]*f.FAST_LOG10(s/a))}}return n}function G(e,t,r,n,i){var o,a;for(o=a=0;o<e.npart_l;++o){var s,c=0,u=0;for(s=0;s<e.numlines_l[o];++s,++a){var l=t[a];c+=l,u<l&&(u=l)}r[o]=c,n[o]=u,i[o]=c*e.rnumlines_l[o]}}function X(e,t,r,n){var i=A.length-1,o=0,a=r[o]+r[o+1];for(a>0?((s=t[o])<t[o+1]&&(s=t[o+1]),(c=0|(a=20*(2*s-a)/(a*(e.numlines_l[o]+e.numlines_l[o+1]-1))))>i&&(c=i),n[o]=c):n[o]=0,o=1;o<e.npart_l-1;o++){var s,c;(a=r[o-1]+r[o]+r[o+1])>0?((s=t[o-1])<t[o]&&(s=t[o]),s<t[o+1]&&(s=t[o+1]),(c=0|(a=20*(3*s-a)/(a*(e.numlines_l[o-1]+e.numlines_l[o]+e.numlines_l[o+1]-1))))>i&&(c=i),n[o]=c):n[o]=0}(a=r[o-1]+r[o])>0?((s=t[o-1])<t[o]&&(s=t[o]),(c=0|(a=20*(2*s-a)/(a*(e.numlines_l[o-1]+e.numlines_l[o]-1))))>i&&(c=i),n[o]=c):n[o]=0}var K=[-1.730326e-17,-.01703172,-1.349528e-17,.0418072,-6.73278e-17,-.0876324,-3.0835e-17,.1863476,-1.104424e-16,-.627638];function W(t,r,n,i,o,a,s,c){var u=t.internal_flags;if(i<2)e.fft_long(u,s[c],i,r,n);else if(2==i)for(var l=O.BLKSIZE-1;l>=0;--l){var p=s[c+0][l],d=s[c+1][l];s[c+0][l]=(p+d)*f.SQRT2*.5,s[c+1][l]=(p-d)*f.SQRT2*.5}for(a[0]=b(s[c+0][0]),a[0]*=a[0],l=O.BLKSIZE/2-1;l>=0;--l){var h=s[c+0][O.BLKSIZE/2-l],m=s[c+0][O.BLKSIZE/2+l];a[O.BLKSIZE/2-l]=b(.5*(h*h+m*m))}var v=0;for(l=11;l<O.HBLKSIZE;l++)v+=a[l];if(u.tot_ener[i]=v,t.analysis){for(l=0;l<O.HBLKSIZE;l++)u.pinfo.energy[o][i][l]=u.pinfo.energy_save[i][l],u.pinfo.energy_save[i][l]=a[l];u.pinfo.pe[o][i]=u.pe[i]}}function Y(t,r,n,i,o,a,s,c){var u=t.internal_flags;if(0==o&&i<2&&e.fft_short(u,s[c],i,r,n),2==i)for(var l=O.BLKSIZE_s-1;l>=0;--l){var p=s[c+0][o][l],d=s[c+1][o][l];s[c+0][o][l]=(p+d)*f.SQRT2*.5,s[c+1][o][l]=(p-d)*f.SQRT2*.5}for(a[o][0]=s[c+0][o][0],a[o][0]*=a[o][0],l=O.BLKSIZE_s/2-1;l>=0;--l){var h=s[c+0][o][O.BLKSIZE_s/2-l],m=s[c+0][o][O.BLKSIZE_s/2+l];a[o][O.BLKSIZE_s/2-l]=b(.5*(h*h+m*m))}}function $(e,t,r,n){var i=e.internal_flags;2==e.athaa_loudapprox&&r<2&&(i.loudness_sq[t][r]=i.loudness_sq_save[r],i.loudness_sq_save[r]=w(n,i))}this.L3psycho_anal_ns=function(e,t,s,c,l,f,d,v,y,b){var w,x,E,k,T,R,C,P,M,I,j=e.internal_flags,D=o([2,O.BLKSIZE]),H=o([2,3,O.BLKSIZE_s]),V=n(O.CBANDS+1),W=n(O.CBANDS+1),Y=n(O.CBANDS+2),$=r(2),J=r(2),Q=o([2,576]),Z=r(O.CBANDS+2),ee=r(O.CBANDS+2);for(u.fill(ee,0),w=j.channels_out,e.mode==m.JOINT_STEREO&&(w=4),M=e.VBR==h.vbr_off?0==j.ResvMax?0:j.ResvSize/j.ResvMax*.5:e.VBR==h.vbr_rh||e.VBR==h.vbr_mtrh||e.VBR==h.vbr_mt?.6:1,x=0;x<j.channels_out;x++){var te=t[x],re=s+576-350-g+192;for(k=0;k<576;k++){var ne,ie;for(ne=te[re+k+10],ie=0,T=0;T<(g-1)/2-1;T+=2)ne+=K[T]*(te[re+k+T]+te[re+k+g-T]),ie+=K[T+1]*(te[re+k+T+1]+te[re+k+g-T-1]);Q[x][k]=ne+ie}l[c][x].en.assign(j.en[x]),l[c][x].thm.assign(j.thm[x]),w>2&&(f[c][x].en.assign(j.en[x+2]),f[c][x].thm.assign(j.thm[x+2]))}for(x=0;x<w;x++){var oe,ae=n(12),se=[0,0,0,0],ce=n(12),ue=1,le=n(O.CBANDS),fe=n(O.CBANDS),pe=[0,0,0,0],de=n(O.HBLKSIZE),he=o([3,O.HBLKSIZE_s]);for(k=0;k<3;k++)ae[k]=j.nsPsy.last_en_subshort[x][k+6],ce[k]=ae[k]/j.nsPsy.last_en_subshort[x][k+4],se[0]+=ae[k];if(2==x)for(k=0;k<576;k++){var me,ve;me=Q[0][k],ve=Q[1][k],Q[0][k]=me+ve,Q[1][k]=me-ve}var _e=Q[1&x],ge=0;for(k=0;k<9;k++){for(var ye=ge+64,be=1;ge<ye;ge++)be<Math.abs(_e[ge])&&(be=Math.abs(_e[ge]));j.nsPsy.last_en_subshort[x][k]=ae[k+3]=be,se[1+k/3]+=be,be>ae[k+3-2]?be/=ae[k+3-2]:be=ae[k+3-2]>10*be?ae[k+3-2]/(10*be):0,ce[k+3]=be}if(e.analysis){var we=ce[0];for(k=1;k<12;k++)we<ce[k]&&(we=ce[k]);j.pinfo.ers[c][x]=j.pinfo.ers_save[x],j.pinfo.ers_save[x]=we}for(oe=3==x?j.nsPsy.attackthre_s:j.nsPsy.attackthre,k=0;k<12;k++)0==pe[k/3]&&ce[k]>oe&&(pe[k/3]=k%3+1);for(k=1;k<4;k++)(se[k-1]>se[k]?se[k-1]/se[k]:se[k]/se[k-1])<1.7&&(pe[k]=0,1==k&&(pe[0]=0));for(0!=pe[0]&&0!=j.nsPsy.lastAttacks[x]&&(pe[0]=0),3!=j.nsPsy.lastAttacks[x]&&pe[0]+pe[1]+pe[2]+pe[3]==0||(ue=0,0!=pe[1]&&0!=pe[0]&&(pe[1]=0),0!=pe[2]&&0!=pe[1]&&(pe[2]=0),0!=pe[3]&&0!=pe[2]&&(pe[3]=0)),x<2?J[x]=ue:0==ue&&(J[0]=J[1]=0),y[x]=j.tot_ener[x],S(e,de,he,D,1&x,H,1&x,c,x,t,s),G(j,de,V,le,fe),X(j,le,fe,Z),P=0;P<3;P++){var Se,xe;for(F(e,he,W,Y,x,P),B(j,W,Y,x,P),C=0;C<O.SBMAX_s;C++){if(xe=j.thm[x].s[C][P],xe*=.8,pe[P]>=2||1==pe[P+1]){var Ee=0!=P?P-1:2;be=U(j.thm[x].s[C][Ee],xe,.6*M),xe=Math.min(xe,be)}1==pe[P]?(Ee=0!=P?P-1:2,be=U(j.thm[x].s[C][Ee],xe,_*M),xe=Math.min(xe,be)):(0!=P&&3==pe[P-1]||0==P&&3==j.nsPsy.lastAttacks[x])&&(Ee=2!=P?P+1:0,be=U(j.thm[x].s[C][Ee],xe,_*M),xe=Math.min(xe,be)),Se=ae[3*P+3]+ae[3*P+4]+ae[3*P+5],6*ae[3*P+5]<Se&&(xe*=.5,6*ae[3*P+4]<Se&&(xe*=.5)),j.thm[x].s[C][P]=xe}}for(j.nsPsy.lastAttacks[x]=pe[2],R=0,E=0;E<j.npart_l;E++){for(var ke=j.s3ind[E][0],Te=V[ke]*A[Z[ke]],Re=j.s3_ll[R++]*Te;++ke<=j.s3ind[E][1];)Te=V[ke]*A[Z[ke]],Re=N(Re,j.s3_ll[R++]*Te,ke,ke-E,j,0);Re*=.158489319246111,j.blocktype_old[1&x]==O.SHORT_TYPE?Y[E]=Re:Y[E]=U(Math.min(Re,Math.min(i*j.nb_1[x][E],a*j.nb_2[x][E])),Re,M),j.nb_2[x][E]=j.nb_1[x][E],j.nb_1[x][E]=Re}for(;E<=O.CBANDS;++E)V[E]=0,Y[E]=0;L(j,V,Y,x)}for(e.mode!=m.STEREO&&e.mode!=m.JOINT_STEREO||e.interChRatio>0&&function(e,t){var r=e.internal_flags;if(r.channels_out>1){for(var n=0;n<O.SBMAX_l;n++){var i=r.thm[0].l[n],o=r.thm[1].l[n];r.thm[0].l[n]+=o*t,r.thm[1].l[n]+=i*t}for(n=0;n<O.SBMAX_s;n++)for(var a=0;a<3;a++)i=r.thm[0].s[n][a],o=r.thm[1].s[n][a],r.thm[0].s[n][a]+=o*t,r.thm[1].s[n][a]+=i*t}}(e,e.interChRatio),e.mode==m.JOINT_STEREO&&(function(e){for(var t=0;t<O.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var r=e.mld_l[t]*e.en[3].l[t],n=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],r));r=e.mld_l[t]*e.en[2].l[t];var i=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],r));e.thm[2].l[t]=n,e.thm[3].l[t]=i}for(t=0;t<O.SBMAX_s;t++)for(var o=0;o<3;o++)e.thm[0].s[t][o]>1.58*e.thm[1].s[t][o]||e.thm[1].s[t][o]>1.58*e.thm[0].s[t][o]||(r=e.mld_s[t]*e.en[3].s[t][o],n=Math.max(e.thm[2].s[t][o],Math.min(e.thm[3].s[t][o],r)),r=e.mld_s[t]*e.en[2].s[t][o],i=Math.max(e.thm[3].s[t][o],Math.min(e.thm[2].s[t][o],r)),e.thm[2].s[t][o]=n,e.thm[3].s[t][o]=i)}(j),I=e.msfix,Math.abs(I)>0&&function(e,t,r){var n=t,i=Math.pow(10,r);t*=2,n*=2;for(var o=0;o<O.SBMAX_l;o++)l=e.ATH.cb_l[e.bm_l[o]]*i,(s=Math.min(Math.max(e.thm[0].l[o],l),Math.max(e.thm[1].l[o],l)))*t<(c=Math.max(e.thm[2].l[o],l))+(u=Math.max(e.thm[3].l[o],l))&&(c*=f=s*n/(c+u),u*=f),e.thm[2].l[o]=Math.min(c,e.thm[2].l[o]),e.thm[3].l[o]=Math.min(u,e.thm[3].l[o]);for(i*=O.BLKSIZE_s/O.BLKSIZE,o=0;o<O.SBMAX_s;o++)for(var a=0;a<3;a++){var s,c,u,l,f;l=e.ATH.cb_s[e.bm_s[o]]*i,(s=Math.min(Math.max(e.thm[0].s[o][a],l),Math.max(e.thm[1].s[o][a],l)))*t<(c=Math.max(e.thm[2].s[o][a],l))+(u=Math.max(e.thm[3].s[o][a],l))&&(c*=f=s*t/(c+u),u*=f),e.thm[2].s[o][a]=Math.min(e.thm[2].s[o][a],c),e.thm[3].s[o][a]=Math.min(e.thm[3].s[o][a],u)}}(j,I,e.ATHlower*j.ATH.adjust)),function(e,t,r,n){var i=e.internal_flags;e.short_blocks!=p.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var o=0;o<i.channels_out;o++)n[o]=O.NORM_TYPE,e.short_blocks==p.short_block_dispensed&&(t[o]=1),e.short_blocks==p.short_block_forced&&(t[o]=0),0!=t[o]?i.blocktype_old[o]==O.SHORT_TYPE&&(n[o]=O.STOP_TYPE):(n[o]=O.SHORT_TYPE,i.blocktype_old[o]==O.NORM_TYPE&&(i.blocktype_old[o]=O.START_TYPE),i.blocktype_old[o]==O.STOP_TYPE&&(i.blocktype_old[o]=O.SHORT_TYPE)),r[o]=i.blocktype_old[o],i.blocktype_old[o]=n[o]}(e,J,b,$),x=0;x<w;x++){var Ce,Ae,Pe,Oe=0;x>1?(Ce=v,Oe=-2,Ae=O.NORM_TYPE,b[0]!=O.SHORT_TYPE&&b[1]!=O.SHORT_TYPE||(Ae=O.SHORT_TYPE),Pe=f[c][x-2]):(Ce=d,Oe=0,Ae=b[x],Pe=l[c][x]),Ae==O.SHORT_TYPE?Ce[Oe+x]=q(Pe,j.masking_lower):Ce[Oe+x]=z(Pe,j.masking_lower),e.analysis&&(j.pinfo.pe[c][x]=Ce[Oe+x])}return 0};var J=[-1.730326e-17,-.01703172,-1.349528e-17,.0418072,-6.73278e-17,-.0876324,-3.0835e-17,.1863476,-1.104424e-16,-.627638];function Q(e,t,r){if(0==r)for(var n=0;n<e.npart_s;n++)e.nb_s2[t][n]=e.nb_s1[t][n],e.nb_s1[t][n]=0}function Z(e,t){for(var r=0;r<e.npart_l;r++)e.nb_2[t][r]=e.nb_1[t][r],e.nb_1[t][r]=0}function ee(e,t,r,i,o,a){var s,c,u,l=e.internal_flags,f=new float[O.CBANDS],p=n(O.CBANDS),d=new int[O.CBANDS];for(u=c=0;u<l.npart_s;++u){var h=0,m=0,v=l.numlines_s[u];for(s=0;s<v;++s,++c){var _=t[a][c];h+=_,m<_&&(m=_)}r[u]=h,f[u]=m,p[u]=h/v}for(;u<O.CBANDS;++u)f[u]=0,p[u]=0;for(function(e,t,r,n){var i=A.length-1,o=0,a=r[o]+r[o+1];for(a>0?((s=t[o])<t[o+1]&&(s=t[o+1]),(c=0|(a=20*(2*s-a)/(a*(e.numlines_s[o]+e.numlines_s[o+1]-1))))>i&&(c=i),n[o]=c):n[o]=0,o=1;o<e.npart_s-1;o++){var s,c;(a=r[o-1]+r[o]+r[o+1])>0?((s=t[o-1])<t[o]&&(s=t[o]),s<t[o+1]&&(s=t[o+1]),(c=0|(a=20*(3*s-a)/(a*(e.numlines_s[o-1]+e.numlines_s[o]+e.numlines_s[o+1]-1))))>i&&(c=i),n[o]=c):n[o]=0}(a=r[o-1]+r[o])>0?((s=t[o-1])<t[o]&&(s=t[o]),(c=0|(a=20*(2*s-a)/(a*(e.numlines_s[o-1]+e.numlines_s[o]-1))))>i&&(c=i),n[o]=c):n[o]=0}(l,f,p,d),c=u=0;u<l.npart_s;u++){var g,y,b,w,S,x=l.s3ind_s[u][0],E=l.s3ind_s[u][1];for(g=d[x],y=1,w=l.s3_ss[c]*r[x]*A[d[x]],++c,++x;x<=E;)g+=d[x],y+=1,w=D(w,b=l.s3_ss[c]*r[x]*A[d[x]],x-u),++c,++x;w*=S=.5*A[g=(1+2*g)/(2*y)],i[u]=w,l.nb_s2[o][u]=l.nb_s1[o][u],l.nb_s1[o][u]=w,b=f[u],b*=l.minval_s[u],b*=S,i[u]>b&&(i[u]=b),l.masking_lower>1&&(i[u]*=l.masking_lower),i[u]>r[u]&&(i[u]=r[u]),l.masking_lower<1&&(i[u]*=l.masking_lower)}for(;u<O.CBANDS;++u)r[u]=0,i[u]=0}function te(e,t,o,s,c){var u,l=n(O.CBANDS),f=n(O.CBANDS),p=r(O.CBANDS+2);G(e,t,o,l,f),X(e,l,f,p);var d=0;for(u=0;u<e.npart_l;u++){var h,m,v,g=e.s3ind[u][0],y=e.s3ind[u][1],b=0,w=0;for(b=p[g],w+=1,m=e.s3_ll[d]*o[g]*A[p[g]],++d,++g;g<=y;)b+=p[g],w+=1,m=D(m,h=e.s3_ll[d]*o[g]*A[p[g]],g-u),++d,++g;if(m*=v=.5*A[b=(1+2*b)/(2*w)],e.blocktype_old[1&c]==O.SHORT_TYPE){var S=i*e.nb_1[c][u];s[u]=S>0?Math.min(m,S):Math.min(m,o[u]*_)}else{var x=a*e.nb_2[c][u],E=i*e.nb_1[c][u];x<=0&&(x=m),E<=0&&(E=m),S=e.blocktype_old[1&c]==O.NORM_TYPE?Math.min(E,x):E,s[u]=Math.min(m,S)}e.nb_2[c][u]=e.nb_1[c][u],e.nb_1[c][u]=m,h=l[u],h*=e.minval_l[u],h*=v,s[u]>h&&(s[u]=h),e.masking_lower>1&&(s[u]*=e.masking_lower),s[u]>o[u]&&(s[u]=o[u]),e.masking_lower<1&&(s[u]*=e.masking_lower)}for(;u<O.CBANDS;++u)o[u]=0,s[u]=0}function re(e,t,r,n,i,o,a){for(var s,c,u=2*o,l=o>0?Math.pow(10,i):1,f=0;f<a;++f){var p=e[2][f],d=e[3][f],h=t[0][f],m=t[1][f],v=t[2][f],_=t[3][f];if(h<=1.58*m&&m<=1.58*h){var g=r[f]*d,y=r[f]*p;c=Math.max(v,Math.min(_,g)),s=Math.max(_,Math.min(v,y))}else c=v,s=_;if(o>0){var b,w,S=n[f]*l;if(b=Math.min(Math.max(h,S),Math.max(m,S)),(w=(v=Math.max(c,S))+(_=Math.max(s,S)))>0&&b*u<w){var x=b*u/w;v*=x,_*=x}c=Math.min(v,c),s=Math.min(_,s)}c>p&&(c=p),s>d&&(s=d),t[2][f]=c,t[3][f]=s}}function ne(e,t){var r;return(r=e>=0?27*-e:e*t)<=-72?0:Math.exp(r*y)}function ie(e){var t,r,n,i,o=0;for(o=0;ne(o,e)>1e-20;o-=1);for(n=o,i=0;Math.abs(i-n)>1e-12;)ne(o=(i+n)/2,e)>0?i=o:n=o;for(t=n,o=0,o=0;ne(o,e)>1e-20;o+=1);for(n=0,i=o;Math.abs(i-n)>1e-12;)ne(o=(i+n)/2,e)>0?n=o:i=o;r=i;var a,s=0;for(a=0;a<=1e3;++a)s+=ne(o=t+a*(r-t)/1e3,e);return 1001/(s*(r-t))}function oe(e){var t,r,n,i;return t=e,r=(t*=t>=0?3:1.5)>=.5&&t<=2.5?8*((i=t-.5)*i-2*i):0,(n=15.811389+7.5*(t+=.474)-17.5*Math.sqrt(1+t*t))<=-60?0:(t=Math.exp((r+n)*y),t/=.6609193)}function ae(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function se(e,t,i,o,a,s,c,u,f,p,d,h){var m,v=n(O.CBANDS+1),_=u/(h>15?1152:384),g=r(O.HBLKSIZE);u/=f;var y=0,b=0;for(m=0;m<O.CBANDS;m++){var w;for(P=ae(u*y),v[m]=u*y,w=y;ae(u*w)-P<l&&w<=f/2;w++);for(e[m]=w-y,b=m+1;y<w;)g[y++]=m;if(y>f/2){y=f/2,++m;break}}v[m]=u*y;for(var S=0;S<h;S++){var x,E,k,T,R;k=p[S],T=p[S+1],(x=0|Math.floor(.5+d*(k-.5)))<0&&(x=0),(E=0|Math.floor(.5+d*(T-.5)))>f/2&&(E=f/2),i[S]=(g[x]+g[E])/2,t[S]=g[E];var C=_*T;c[S]=(C-v[t[S]])/(v[t[S]+1]-v[t[S]]),c[S]<0?c[S]=0:c[S]>1&&(c[S]=1),R=ae(u*p[S]*d),R=Math.min(R,15.5)/15.5,s[S]=Math.pow(10,1.25*(1-Math.cos(Math.PI*R))-2.5)}y=0;for(var A=0;A<b;A++){var P,M,I=e[A];P=ae(u*y),M=ae(u*(y+I-1)),o[A]=.5*(P+M),P=ae(u*(y-.5)),M=ae(u*(y+I-.5)),a[A]=M-P,y+=I}return b}function ce(e,t,r,i,a,s){var c,u=o([O.CBANDS,O.CBANDS]),l=0;if(s)for(var f=0;f<t;f++)for(c=0;c<t;c++){var p=oe(r[f]-r[c])*i[c];u[f][c]=p*a[f]}else for(c=0;c<t;c++){var d=15+Math.min(21/r[c],12),h=ie(d);for(f=0;f<t;f++)p=h*ne(r[f]-r[c],d)*i[c],u[f][c]=p*a[f]}for(f=0;f<t;f++){for(c=0;c<t&&!(u[f][c]>0);c++);for(e[f][0]=c,c=t-1;c>0&&!(u[f][c]>0);c--);e[f][1]=c,l+=e[f][1]-e[f][0]+1}var m=n(l),v=0;for(f=0;f<t;f++)for(c=e[f][0];c<=e[f][1];c++)m[v++]=u[f][c];return m}function ue(e){var t=ae(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function le(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(e,t,i,a,s,c,u,l,f,d){var h=e.internal_flags,v=n(O.HBLKSIZE),y=o([3,O.HBLKSIZE_s]),b=o([2,O.BLKSIZE]),w=o([2,3,O.BLKSIZE_s]),S=o([4,O.CBANDS]),x=o([4,O.CBANDS]),E=o([4,3]),k=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],T=r(2),R=e.mode==m.JOINT_STEREO?4:h.channels_out;!function(e,t,r,i,a,s,c,u,l,f){for(var p=o([2,576]),d=e.internal_flags,h=d.channels_out,v=e.mode==m.JOINT_STEREO?4:h,_=0;_<h;_++){firbuf=t[_];for(var y=r+576-350-g+192,b=0;b<576;b++){var w,S;w=firbuf[y+b+10],S=0;for(var x=0;x<(g-1)/2-1;x+=2)w+=J[x]*(firbuf[y+b+x]+firbuf[y+b+g-x]),S+=J[x+1]*(firbuf[y+b+x+1]+firbuf[y+b+g-x-1]);p[_][b]=w+S}a[i][_].en.assign(d.en[_]),a[i][_].thm.assign(d.thm[_]),v>2&&(s[i][_].en.assign(d.en[_+2]),s[i][_].thm.assign(d.thm[_+2]))}for(_=0;_<v;_++){var E=n(12),k=n(12),T=[0,0,0,0],R=p[1&_],C=0,A=3==_?d.nsPsy.attackthre_s:d.nsPsy.attackthre,P=1;if(2==_)for(b=0,x=576;x>0;++b,--x){var O=p[0][b],M=p[1][b];p[0][b]=O+M,p[1][b]=O-M}for(b=0;b<3;b++)k[b]=d.nsPsy.last_en_subshort[_][b+6],E[b]=k[b]/d.nsPsy.last_en_subshort[_][b+4],T[0]+=k[b];for(b=0;b<9;b++){for(var I=C+64,N=1;C<I;C++)N<Math.abs(R[C])&&(N=Math.abs(R[C]));d.nsPsy.last_en_subshort[_][b]=k[b+3]=N,T[1+b/3]+=N,N>k[b+3-2]?N/=k[b+3-2]:N=k[b+3-2]>10*N?k[b+3-2]/(10*N):0,E[b+3]=N}for(b=0;b<3;++b){var j=k[3*b+3]+k[3*b+4]+k[3*b+5],D=1;6*k[3*b+5]<j&&(D*=.5,6*k[3*b+4]<j&&(D*=.5)),u[_][b]=D}if(e.analysis){var B=E[0];for(b=1;b<12;b++)B<E[b]&&(B=E[b]);d.pinfo.ers[i][_]=d.pinfo.ers_save[_],d.pinfo.ers_save[_]=B}for(b=0;b<12;b++)0==l[_][b/3]&&E[b]>A&&(l[_][b/3]=b%3+1);for(b=1;b<4;b++){var L=T[b-1],F=T[b];Math.max(L,F)<4e4&&L<1.7*F&&F<1.7*L&&(1==b&&l[_][0]<=l[_][b]&&(l[_][0]=0),l[_][b]=0)}l[_][0]<=d.nsPsy.lastAttacks[_]&&(l[_][0]=0),3!=d.nsPsy.lastAttacks[_]&&l[_][0]+l[_][1]+l[_][2]+l[_][3]==0||(P=0,0!=l[_][1]&&0!=l[_][0]&&(l[_][1]=0),0!=l[_][2]&&0!=l[_][1]&&(l[_][2]=0),0!=l[_][3]&&0!=l[_][2]&&(l[_][3]=0)),_<2?f[_]=P:0==P&&(f[0]=f[1]=0),c[_]=d.tot_ener[_]}}(e,t,i,a,s,c,f,E,k,T),function(e,t){var r=e.internal_flags;e.short_blocks!=p.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var n=0;n<r.channels_out;n++)e.short_blocks==p.short_block_dispensed&&(t[n]=1),e.short_blocks==p.short_block_forced&&(t[n]=0)}(e,T);for(var C=0;C<R;C++)W(e,t,i,C,a,v,b,P=1&C),$(e,a,C,v),0!=T[P]?te(h,v,S[C],x[C],C):Z(h,C);for(T[0]+T[1]==2&&e.mode==m.JOINT_STEREO&&re(S,x,h.mld_cb_l,h.ATH.cb_l,e.ATHlower*h.ATH.adjust,e.msfix,h.npart_l),C=0;C<R;C++)0!=T[P=1&C]&&L(h,S[C],x[C],C);for(var A=0;A<3;A++){for(C=0;C<R;++C)0!=T[P=1&C]?Q(h,C,A):(Y(e,t,i,C,A,y,w,P),ee(e,y,S[C],x[C],C,A));for(T[0]+T[1]==0&&e.mode==m.JOINT_STEREO&&re(S,x,h.mld_cb_s,h.ATH.cb_s,e.ATHlower*h.ATH.adjust,e.msfix,h.npart_s),C=0;C<R;++C)0==T[P=1&C]&&B(h,S[C],x[C],C,A)}for(C=0;C<R;C++){var P;if(0==T[P=1&C])for(var M=0;M<O.SBMAX_s;M++){var I=n(3);for(A=0;A<3;A++){var N=h.thm[C].s[M][A];if(N*=.8,k[C][A]>=2||1==k[C][A+1]){var j=0!=A?A-1:2,D=U(h.thm[C].s[M][j],N,.36);N=Math.min(N,D)}else 1==k[C][A]?(j=0!=A?A-1:2,D=U(h.thm[C].s[M][j],N,.6*_),N=Math.min(N,D)):(0!=A&&3==k[C][A-1]||0==A&&3==h.nsPsy.lastAttacks[C])&&(j=2!=A?A+1:0,D=U(h.thm[C].s[M][j],N,.6*_),N=Math.min(N,D));N*=E[C][A],I[A]=N}for(A=0;A<3;A++)h.thm[C].s[M][A]=I[A]}}for(C=0;C<R;C++)h.nsPsy.lastAttacks[C]=k[C][2];for(function(e,t,r){for(var n=e.internal_flags,i=0;i<n.channels_out;i++){var o=O.NORM_TYPE;0!=t[i]?n.blocktype_old[i]==O.SHORT_TYPE&&(o=O.STOP_TYPE):(o=O.SHORT_TYPE,n.blocktype_old[i]==O.NORM_TYPE&&(n.blocktype_old[i]=O.START_TYPE),n.blocktype_old[i]==O.STOP_TYPE&&(n.blocktype_old[i]=O.SHORT_TYPE)),r[i]=n.blocktype_old[i],n.blocktype_old[i]=o}}(e,T,d),C=0;C<R;C++){var F,H,V,G;C>1?(F=l,H=-2,V=O.NORM_TYPE,d[0]!=O.SHORT_TYPE&&d[1]!=O.SHORT_TYPE||(V=O.SHORT_TYPE),G=c[a][C-2]):(F=u,H=0,V=d[C],G=s[a][C]),V==O.SHORT_TYPE?F[H+C]=q(G,h.masking_lower):F[H+C]=z(G,h.masking_lower),e.analysis&&(h.pinfo.pe[a][C]=F[H+C])}return 0},this.psymodel_init=function(r){var i,o,a=r.internal_flags,s=!0,c=13,u=0,l=0,f=-8.25,p=-4.5,m=n(O.CBANDS),v=n(O.CBANDS),_=n(O.CBANDS),g=r.out_samplerate;switch(r.experimentalZ){default:case 0:s=!0;break;case 1:s=r.VBR!=h.vbr_mtrh&&r.VBR!=h.vbr_mt;break;case 2:s=!1;break;case 3:c=8,u=-1.75,l=-.0125,f=-8.25,p=-2.25}for(a.ms_ener_ratio_old=.25,a.blocktype_old[0]=a.blocktype_old[1]=O.NORM_TYPE,i=0;i<4;++i){for(var y=0;y<O.CBANDS;++y)a.nb_1[i][y]=1e20,a.nb_2[i][y]=1e20,a.nb_s1[i][y]=a.nb_s2[i][y]=1;for(var b=0;b<O.SBMAX_l;b++)a.en[i].l[b]=1e20,a.thm[i].l[b]=1e20;for(y=0;y<3;++y){for(b=0;b<O.SBMAX_s;b++)a.en[i].s[b][y]=1e20,a.thm[i].s[b][y]=1e20;a.nsPsy.lastAttacks[i]=0}for(y=0;y<9;y++)a.nsPsy.last_en_subshort[i][y]=10}for(a.loudness_sq_save[0]=a.loudness_sq_save[1]=0,a.npart_l=se(a.numlines_l,a.bo_l,a.bm_l,m,v,a.mld_l,a.PSY.bo_l_weight,g,O.BLKSIZE,a.scalefac_band.l,O.BLKSIZE/1152,O.SBMAX_l),i=0;i<a.npart_l;i++){var w=u;m[i]>=c&&(w=l*(m[i]-c)/(24-c)+u*(24-m[i])/(24-c)),_[i]=Math.pow(10,w/10),a.numlines_l[i]>0?a.rnumlines_l[i]=1/a.numlines_l[i]:a.rnumlines_l[i]=0}for(a.s3_ll=ce(a.s3ind,a.npart_l,m,v,_,s),y=0,i=0;i<a.npart_l;i++){P=d.MAX_VALUE;for(var S=0;S<a.numlines_l[i];S++,y++){var A=g*y/(1e3*O.BLKSIZE);M=this.ATHformula(1e3*A,r)-20,M=Math.pow(10,.1*M),P>(M*=a.numlines_l[i])&&(P=M)}a.ATH.cb_l[i]=P,(P=20*m[i]/10-20)>6&&(P=100),P<-15&&(P=-15),P-=8,a.minval_l[i]=Math.pow(10,P/10)*a.numlines_l[i]}for(a.npart_s=se(a.numlines_s,a.bo_s,a.bm_s,m,v,a.mld_s,a.PSY.bo_s_weight,g,O.BLKSIZE_s,a.scalefac_band.s,O.BLKSIZE_s/384,O.SBMAX_s),y=0,i=0;i<a.npart_s;i++){var P;for(w=f,m[i]>=c&&(w=p*(m[i]-c)/(24-c)+f*(24-m[i])/(24-c)),_[i]=Math.pow(10,w/10),P=d.MAX_VALUE,S=0;S<a.numlines_s[i];S++,y++){var M;A=g*y/(1e3*O.BLKSIZE_s),M=this.ATHformula(1e3*A,r)-20,M=Math.pow(10,.1*M),P>(M*=a.numlines_s[i])&&(P=M)}a.ATH.cb_s[i]=P,P=7*m[i]/12-7,m[i]>12&&(P*=1+3.1*Math.log(1+P)),m[i]<12&&(P*=1+2.3*Math.log(1-P)),P<-15&&(P=-15),P-=8,a.minval_s[i]=Math.pow(10,P/10)*a.numlines_s[i]}a.s3_ss=ce(a.s3ind_s,a.npart_s,m,v,_,s),x=Math.pow(10,(T+1)/16),E=Math.pow(10,(R+1)/16),k=Math.pow(10,C/10),e.init_fft(a),a.decay=Math.exp(-1*t/(.01*g/192)),o=3.5,0!=(2&r.exp_nspsytune)&&(o=1),Math.abs(r.msfix)>0&&(o=r.msfix),r.msfix=o;for(var I=0;I<a.npart_l;I++)a.s3ind[I][1]>a.npart_l-1&&(a.s3ind[I][1]=a.npart_l-1);var N=576*a.mode_gr/g;if(a.ATH.decay=Math.pow(10,-1.2*N),a.ATH.adjust=.01,a.ATH.adjustLimit=1,-1!=r.ATHtype){var j=r.out_samplerate/O.BLKSIZE,D=0;for(A=0,i=0;i<O.BLKSIZE/2;++i)A+=j,a.ATH.eql_w[i]=1/Math.pow(10,this.ATHformula(A,r)/10),D+=a.ATH.eql_w[i];for(D=1/D,i=O.BLKSIZE/2;--i>=0;)a.ATH.eql_w[i]*=D}for(I=y=0;I<a.npart_s;++I)for(i=0;i<a.numlines_s[I];++i)++y;for(I=y=0;I<a.npart_l;++I)for(i=0;i<a.numlines_l[I];++i)++y;for(y=0,i=0;i<a.npart_l;i++)A=g*(y+a.numlines_l[i]/2)/(1*O.BLKSIZE),a.mld_cb_l[i]=ue(A),y+=a.numlines_l[i];for(;i<O.CBANDS;++i)a.mld_cb_l[i]=1;for(y=0,i=0;i<a.npart_s;i++)A=g*(y+a.numlines_s[i]/2)/(1*O.BLKSIZE_s),a.mld_cb_s[i]=ue(A),y+=a.numlines_s[i];for(;i<O.CBANDS;++i)a.mld_cb_s[i]=1;return 0},this.ATHformula=function(e,t){var r;switch(t.ATHtype){case 0:r=le(e,9);break;case 1:r=le(e,-1);break;case 2:r=le(e,0);break;case 3:r=le(e,1)+6;break;case 4:r=le(e,t.ATHcurve);break;default:r=le(e,0)}return r}}function j(){var e,t,i,o,c,u=this;j.V9=410,j.V8=420,j.V7=430,j.V6=440,j.V5=450,j.V4=460,j.V3=470,j.V2=480,j.V1=490,j.V0=500,j.R3MIX=1e3,j.STANDARD=1001,j.EXTREME=1002,j.INSANE=1003,j.STANDARD_FAST=1004,j.EXTREME_FAST=1005,j.MEDIUM=1006,j.MEDIUM_FAST=1007,j.LAME_MAXMP3BUFFER=147456;var f,d,_,y=new N;function b(){this.lowerlimit=0}function w(e,t){this.lowpass=t}this.enc=new O,this.setModules=function(r,n,a,s,u,l,p,h,m){e=r,t=n,i=a,o=s,c=u,f=l,d=h,_=m,this.enc.setModules(t,y,o,f)};var E=4294479419;function k(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function T(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:return t.version=0,0;case 24e3:return t.version=0,1;case 16e3:return t.version=0,2;case 11025:return t.version=0,0;case 12e3:return t.version=0,1;case 8e3:return t.version=0,2;default:return t.version=0,-1}}function R(e,t,r){r<16e3&&(t=2);for(var n=S.bitrate_table[t][1],i=2;i<=14;i++)S.bitrate_table[t][i]>0&&Math.abs(S.bitrate_table[t][i]-e)<Math.abs(n-e)&&(n=S.bitrate_table[t][i]);return n}function A(e,t,r){r<16e3&&(t=2);for(var n=0;n<=14;n++)if(S.bitrate_table[t][n]>0&&S.bitrate_table[t][n]==e)return n;return-1}function P(e,t){var r=[new w(8,2e3),new w(16,3700),new w(24,3900),new w(32,5500),new w(40,7e3),new w(48,7500),new w(56,1e4),new w(64,11e3),new w(80,13500),new w(96,15100),new w(112,15600),new w(128,17e3),new w(160,17500),new w(192,18600),new w(224,19400),new w(256,19700),new w(320,20500)],n=u.nearestBitrateFullIndex(t);e.lowerlimit=r[n].lowpass}function M(e){var t=O.BLKSIZE+e.framesize-O.FFTOFFSET;return t=Math.max(t,512+e.framesize-32)}function D(e,t,r,n,i,o){var a=u.enc.lame_encode_mp3_frame(e,t,r,n,i,o);return e.frameNum++,a}function B(){this.n_in=0,this.n_out=0}function L(){this.num_used=0}function F(e,t,r){var n=Math.PI*t;(e/=r)<0&&(e=0),e>1&&(e=1);var i=e-.5,o=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(i)<1e-9?n/Math.PI:o*Math.sin(r*n*i)/(Math.PI*r*i)}function U(e,t,r,i,o,a,s,c,u){var l,f,p=e.internal_flags,d=0,h=e.out_samplerate/function e(t,r){return 0!=r?e(r,t%r):t}(e.out_samplerate,e.in_samplerate);h>I.BPC&&(h=I.BPC);var m=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,v=1/p.resample_ratio;v>1&&(v=1);var _=31;0==_%2&&--_;var g=(_+=m)+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=n(g),p.inbuf_old[1]=n(g),l=0;l<=2*h;++l)p.blackfilt[l]=n(g);for(p.itime[0]=0,p.itime[1]=0,d=0;d<=2*h;d++){var y=0,b=(d-h)/(2*h);for(l=0;l<=_;l++)y+=p.blackfilt[d][l]=F(l-b,v,_);for(l=0;l<=_;l++)p.blackfilt[d][l]/=y}p.fill_buffer_resample_init=1}var w=p.inbuf_old[u];for(f=0;f<i;f++){var S,x;if(S=f*p.resample_ratio,_+(d=0|Math.floor(S-p.itime[u]))-_/2>=s)break;b=S-p.itime[u]-(d+_%2*.5),x=0|Math.floor(2*b*h+h+.5);var E=0;for(l=0;l<=_;++l){var k=0|l+d-_/2;E+=(k<0?w[g+k]:o[a+k])*p.blackfilt[x][l]}t[r+f]=E}if(c.num_used=Math.min(s,_+d-_/2),p.itime[u]+=c.num_used-f*p.resample_ratio,c.num_used>=g)for(l=0;l<g;l++)w[l]=o[a+c.num_used+l-g];else{var T=g-c.num_used;for(l=0;l<T;++l)w[l]=w[l+c.num_used];for(d=0;l<g;++l,++d)w[l]=o[a+d]}return f}function H(e,t,r,n,i,o){var a=e.internal_flags;if(a.resample_ratio<.9999||a.resample_ratio>1.0001)for(var s=0;s<a.channels_out;s++){var c=new L;o.n_out=U(e,t[s],a.mf_size,e.framesize,r[s],n,i,c,s),o.n_in=c.num_used}else{o.n_out=Math.min(e.framesize,i),o.n_in=o.n_out;for(var u=0;u<o.n_out;++u)t[0][a.mf_size+u]=r[0][n+u],2==a.channels_out&&(t[1][a.mf_size+u]=r[1][n+u])}}this.lame_init=function(){var e=new function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=m.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null};return 0!=function(e){var t;return e.class_id=E,t=e.internal_flags=new I,e.mode=m.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=h.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=O.ENCDELAY+O.POSTDELAY,e.encoder_padding=0,t.mf_size=O.ENCDELAY-O.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}(e)?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],r=0,n=0,i=0,o=0;o=t[16],i=16,n=t[16],r=16;for(var a=0;a<16;a++)if(Math.max(e,t[a+1])!=e){o=t[a+1],i=a+1,n=t[a],r=a;break}return o-e>e-n?r:i},this.lame_init_params=function(s){var u=s.internal_flags;if(u.Class_ID=0,null==u.ATH&&(u.ATH=new function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=n(O.SBMAX_l),this.s=n(O.SBMAX_s),this.psfb21=n(O.PSFB21),this.psfb12=n(O.PSFB12),this.cb_l=n(O.CBANDS),this.cb_s=n(O.CBANDS),this.eql_w=n(O.BLKSIZE/2)}),null==u.PSY&&(u.PSY=new function(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=n(O.SBMAX_l),this.bo_s_weight=n(O.SBMAX_s)}),null==u.rgdata&&(u.rgdata=new function(){this.linprebuf=n(2*v.MAX_ORDER),this.linpre=0,this.lstepbuf=n(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.lstep=0,this.loutbuf=n(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.lout=0,this.rinprebuf=n(2*v.MAX_ORDER),this.rinpre=0,this.rstepbuf=n(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.rstep=0,this.routbuf=n(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=r(0|v.STEPS_per_dB*v.MAX_dB),this.B=r(0|v.STEPS_per_dB*v.MAX_dB)}),u.channels_in=s.num_channels,1==u.channels_in&&(s.mode=m.MONO),u.channels_out=s.mode==m.MONO?1:2,u.mode_ext=O.MPG_MD_MS_LR,s.mode==m.MONO&&(s.force_ms=!1),s.VBR==h.vbr_off&&128!=s.VBR_mean_bitrate_kbps&&0==s.brate&&(s.brate=s.VBR_mean_bitrate_kbps),s.VBR==h.vbr_off||s.VBR==h.vbr_mtrh||s.VBR==h.vbr_mt||(s.free_format=!1),s.VBR==h.vbr_off&&0==s.brate&&g.EQ(s.compression_ratio,0)&&(s.compression_ratio=11.025),s.VBR==h.vbr_off&&s.compression_ratio>0&&(0==s.out_samplerate&&(s.out_samplerate=map2MP3Frequency(int(.97*s.in_samplerate))),s.brate=0|16*s.out_samplerate*u.channels_out/(1e3*s.compression_ratio),u.samplerate_index=T(s.out_samplerate,s),s.free_format||(s.brate=R(s.brate,s.version,s.out_samplerate))),0!=s.out_samplerate&&(s.out_samplerate<16e3?(s.VBR_mean_bitrate_kbps=Math.max(s.VBR_mean_bitrate_kbps,8),s.VBR_mean_bitrate_kbps=Math.min(s.VBR_mean_bitrate_kbps,64)):s.out_samplerate<32e3?(s.VBR_mean_bitrate_kbps=Math.max(s.VBR_mean_bitrate_kbps,8),s.VBR_mean_bitrate_kbps=Math.min(s.VBR_mean_bitrate_kbps,160)):(s.VBR_mean_bitrate_kbps=Math.max(s.VBR_mean_bitrate_kbps,32),s.VBR_mean_bitrate_kbps=Math.min(s.VBR_mean_bitrate_kbps,320))),0==s.lowpassfreq){var w=16e3;switch(s.VBR){case h.vbr_off:P(M=new b,s.brate),w=M.lowerlimit;break;case h.vbr_abr:var M;P(M=new b,s.VBR_mean_bitrate_kbps),w=M.lowerlimit;break;case h.vbr_rh:var I=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=s.VBR_q&&s.VBR_q<=9){var j=I[s.VBR_q],D=I[s.VBR_q+1],B=s.VBR_q_frac;w=linear_int(j,D,B)}else w=19500;break;default:I=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950],0<=s.VBR_q&&s.VBR_q<=9?(j=I[s.VBR_q],D=I[s.VBR_q+1],B=s.VBR_q_frac,w=linear_int(j,D,B)):w=19500}s.mode!=m.MONO||s.VBR!=h.vbr_off&&s.VBR!=h.vbr_abr||(w*=1.5),s.lowpassfreq=0|w}if(0==s.out_samplerate&&(2*s.lowpassfreq>s.in_samplerate&&(s.lowpassfreq=s.in_samplerate/2),s.out_samplerate=function(e,t){var r=44100;return t>=48e3?r=48e3:t>=44100?r=44100:t>=32e3?r=32e3:t>=24e3?r=24e3:t>=22050?r=22050:t>=16e3?r=16e3:t>=12e3?r=12e3:t>=11025?r=11025:t>=8e3&&(r=8e3),-1==e?r:(e<=15960&&(r=44100),e<=15250&&(r=32e3),e<=11220&&(r=24e3),e<=9970&&(r=22050),e<=7230&&(r=16e3),e<=5420&&(r=12e3),e<=4510&&(r=11025),e<=3970&&(r=8e3),t<r?t>44100?48e3:t>32e3?44100:t>24e3?32e3:t>22050?24e3:t>16e3?22050:t>12e3?16e3:t>11025?12e3:t>8e3?11025:8e3:r)}(0|s.lowpassfreq,s.in_samplerate)),s.lowpassfreq=Math.min(20500,s.lowpassfreq),s.lowpassfreq=Math.min(s.out_samplerate/2,s.lowpassfreq),s.VBR==h.vbr_off&&(s.compression_ratio=16*s.out_samplerate*u.channels_out/(1e3*s.brate)),s.VBR==h.vbr_abr&&(s.compression_ratio=16*s.out_samplerate*u.channels_out/(1e3*s.VBR_mean_bitrate_kbps)),s.bWriteVbrTag||(s.findReplayGain=!1,s.decode_on_the_fly=!1,u.findPeakSample=!1),u.findReplayGain=s.findReplayGain,u.decode_on_the_fly=s.decode_on_the_fly,u.decode_on_the_fly&&(u.findPeakSample=!0),u.findReplayGain&&e.InitGainAnalysis(u.rgdata,s.out_samplerate)==v.INIT_GAIN_ANALYSIS_ERROR)return s.internal_flags=null,-6;switch(u.decode_on_the_fly&&!s.decode_only&&(null!=u.hip&&_.hip_decode_exit(u.hip),u.hip=_.hip_decode_init()),u.mode_gr=s.out_samplerate<=24e3?1:2,s.framesize=576*u.mode_gr,s.encoder_delay=O.ENCDELAY,u.resample_ratio=s.in_samplerate/s.out_samplerate,s.VBR){case h.vbr_mt:case h.vbr_rh:case h.vbr_mtrh:s.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][s.VBR_q];break;case h.vbr_abr:s.compression_ratio=16*s.out_samplerate*u.channels_out/(1e3*s.VBR_mean_bitrate_kbps);break;default:s.compression_ratio=16*s.out_samplerate*u.channels_out/(1e3*s.brate)}if(s.mode==m.NOT_SET&&(s.mode=m.JOINT_STEREO),s.highpassfreq>0?(u.highpass1=2*s.highpassfreq,s.highpasswidth>=0?u.highpass2=2*(s.highpassfreq+s.highpasswidth):u.highpass2=2*s.highpassfreq,u.highpass1/=s.out_samplerate,u.highpass2/=s.out_samplerate):(u.highpass1=0,u.highpass2=0),s.lowpassfreq>0?(u.lowpass2=2*s.lowpassfreq,s.lowpasswidth>=0?(u.lowpass1=2*(s.lowpassfreq-s.lowpasswidth),u.lowpass1<0&&(u.lowpass1=0)):u.lowpass1=2*s.lowpassfreq,u.lowpass1/=s.out_samplerate,u.lowpass2/=s.out_samplerate):(u.lowpass1=0,u.lowpass2=0),function(e){var t=e.internal_flags,r=32,n=-1;if(t.lowpass1>0){for(var i=999,o=0;o<=31;o++)(u=o/31)>=t.lowpass2&&(r=Math.min(r,o)),t.lowpass1<u&&u<t.lowpass2&&(i=Math.min(i,o));t.lowpass1=999==i?(r-.75)/31:(i-.75)/31,t.lowpass2=r/31}if(t.highpass2>0&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,l.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),t.highpass2>0){var a=-1;for(o=0;o<=31;o++)(u=o/31)<=t.highpass1&&(n=Math.max(n,o)),t.highpass1<u&&u<t.highpass2&&(a=Math.max(a,o));t.highpass1=n/31,t.highpass2=-1==a?(n+.75)/31:(a+.75)/31}for(o=0;o<32;o++){var s,c,u=o/31;s=t.highpass2>t.highpass1?k((t.highpass2-u)/(t.highpass2-t.highpass1+1e-20)):1,c=t.lowpass2>t.lowpass1?k((u-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[o]=s*c}}(s),u.samplerate_index=T(s.out_samplerate,s),u.samplerate_index<0)return s.internal_flags=null,-1;if(s.VBR==h.vbr_off){if(s.free_format)u.bitrate_index=0;else if(s.brate=R(s.brate,s.version,s.out_samplerate),u.bitrate_index=A(s.brate,s.version,s.out_samplerate),u.bitrate_index<=0)return s.internal_flags=null,-1}else u.bitrate_index=1;s.analysis&&(s.bWriteVbrTag=!1),null!=u.pinfo&&(s.bWriteVbrTag=!1),t.init_bit_stream_w(u);for(var L,F=u.samplerate_index+3*s.version+6*(s.out_samplerate<16e3?1:0),U=0;U<O.SBMAX_l+1;U++)u.scalefac_band.l[U]=o.sfBandIndex[F].l[U];for(U=0;U<O.PSFB21+1;U++){var H=(u.scalefac_band.l[22]-u.scalefac_band.l[21])/O.PSFB21,q=u.scalefac_band.l[21]+U*H;u.scalefac_band.psfb21[U]=q}for(u.scalefac_band.psfb21[O.PSFB21]=576,U=0;U<O.SBMAX_s+1;U++)u.scalefac_band.s[U]=o.sfBandIndex[F].s[U];for(U=0;U<O.PSFB12+1;U++)H=(u.scalefac_band.s[13]-u.scalefac_band.s[12])/O.PSFB12,q=u.scalefac_band.s[12]+U*H,u.scalefac_band.psfb12[U]=q;for(u.scalefac_band.psfb12[O.PSFB12]=192,1==s.version?u.sideinfo_len=1==u.channels_out?21:36:u.sideinfo_len=1==u.channels_out?13:21,s.error_protection&&(u.sideinfo_len+=2),function(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&d.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=a([16,5]),t.bitrate_blockType_Hist=a([16,6]),t.PeakSample=0,e.bWriteVbrTag&&f.InitVbrTag(e)}(s),u.Class_ID=E,L=0;L<19;L++)u.nsPsy.pefirbuf[L]=700*u.mode_gr*u.channels_out;switch(-1==s.ATHtype&&(s.ATHtype=4),s.VBR){case h.vbr_mt:s.VBR=h.vbr_mtrh;case h.vbr_mtrh:null==s.useTemporal&&(s.useTemporal=!1),i.apply_preset(s,500-10*s.VBR_q,0),s.quality<0&&(s.quality=LAME_DEFAULT_QUALITY),s.quality<5&&(s.quality=0),s.quality>5&&(s.quality=5),u.PSY.mask_adjust=s.maskingadjust,u.PSY.mask_adjust_short=s.maskingadjust_short,s.experimentalY?u.sfb21_extra=!1:u.sfb21_extra=s.out_samplerate>44e3,u.iteration_loop=new VBRNewIterationLoop(c);break;case h.vbr_rh:i.apply_preset(s,500-10*s.VBR_q,0),u.PSY.mask_adjust=s.maskingadjust,u.PSY.mask_adjust_short=s.maskingadjust_short,s.experimentalY?u.sfb21_extra=!1:u.sfb21_extra=s.out_samplerate>44e3,s.quality>6&&(s.quality=6),s.quality<0&&(s.quality=LAME_DEFAULT_QUALITY),u.iteration_loop=new VBROldIterationLoop(c);break;default:var V;u.sfb21_extra=!1,s.quality<0&&(s.quality=LAME_DEFAULT_QUALITY),(V=s.VBR)==h.vbr_off&&(s.VBR_mean_bitrate_kbps=s.brate),i.apply_preset(s,s.VBR_mean_bitrate_kbps,0),s.VBR=V,u.PSY.mask_adjust=s.maskingadjust,u.PSY.mask_adjust_short=s.maskingadjust_short,V==h.vbr_off?u.iteration_loop=new function(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,i,o){var a,s=e.internal_flags,c=n(C.SFBMAX),u=n(576),l=r(2),f=0,p=s.l3_side,d=new x(f);this.quantize.rv.ResvFrameBegin(e,d),f=d.bits;for(var h=0;h<s.mode_gr;h++){a=this.quantize.qupvt.on_pe(e,t,l,f,h,h),s.mode_ext==O.MPG_MD_MS_LR&&(this.quantize.ms_convert(s.l3_side,h),this.quantize.qupvt.reduce_side(l,i[h],f,a));for(var m=0;m<s.channels_out;m++){var v,_,g=p.tt[h][m];g.block_type!=O.SHORT_TYPE?(v=0,_=s.PSY.mask_adjust-v):(v=0,_=s.PSY.mask_adjust_short-v),s.masking_lower=Math.pow(10,.1*_),this.quantize.init_outer_loop(s,g),this.quantize.init_xrpow(s,g,u)&&(this.quantize.qupvt.calc_xmin(e,o[h][m],g,c),this.quantize.outer_loop(e,g,c,u,m,l[m])),this.quantize.iteration_finish_one(s,h,m)}}this.quantize.rv.ResvFrameEnd(s,f)}}(c):u.iteration_loop=new ABRIterationLoop(c)}if(s.VBR!=h.vbr_off){if(u.VBR_min_bitrate=1,u.VBR_max_bitrate=14,s.out_samplerate<16e3&&(u.VBR_max_bitrate=8),0!=s.VBR_min_bitrate_kbps&&(s.VBR_min_bitrate_kbps=R(s.VBR_min_bitrate_kbps,s.version,s.out_samplerate),u.VBR_min_bitrate=A(s.VBR_min_bitrate_kbps,s.version,s.out_samplerate),u.VBR_min_bitrate<0))return-1;if(0!=s.VBR_max_bitrate_kbps&&(s.VBR_max_bitrate_kbps=R(s.VBR_max_bitrate_kbps,s.version,s.out_samplerate),u.VBR_max_bitrate=A(s.VBR_max_bitrate_kbps,s.version,s.out_samplerate),u.VBR_max_bitrate<0))return-1;s.VBR_min_bitrate_kbps=S.bitrate_table[s.version][u.VBR_min_bitrate],s.VBR_max_bitrate_kbps=S.bitrate_table[s.version][u.VBR_max_bitrate],s.VBR_mean_bitrate_kbps=Math.min(S.bitrate_table[s.version][u.VBR_max_bitrate],s.VBR_mean_bitrate_kbps),s.VBR_mean_bitrate_kbps=Math.max(S.bitrate_table[s.version][u.VBR_min_bitrate],s.VBR_mean_bitrate_kbps)}return s.tune&&(u.PSY.mask_adjust+=s.tune_value_a,u.PSY.mask_adjust_short+=s.tune_value_a),function(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(s),s.athaa_type<0?u.ATH.useAdjust=3:u.ATH.useAdjust=s.athaa_type,u.ATH.aaSensitivityP=Math.pow(10,s.athaa_sensitivity/-10),null==s.short_blocks&&(s.short_blocks=p.short_block_allowed),s.short_blocks!=p.short_block_allowed||s.mode!=m.JOINT_STEREO&&s.mode!=m.STEREO||(s.short_blocks=p.short_block_coupled),s.quant_comp<0&&(s.quant_comp=1),s.quant_comp_short<0&&(s.quant_comp_short=0),s.msfix<0&&(s.msfix=0),s.exp_nspsytune=1|s.exp_nspsytune,s.internal_flags.nsPsy.attackthre<0&&(s.internal_flags.nsPsy.attackthre=N.NSATTACKTHRE),s.internal_flags.nsPsy.attackthre_s<0&&(s.internal_flags.nsPsy.attackthre_s=N.NSATTACKTHRE_S),s.scale<0&&(s.scale=1),s.ATHtype<0&&(s.ATHtype=4),s.ATHcurve<0&&(s.ATHcurve=4),s.athaa_loudapprox<0&&(s.athaa_loudapprox=2),s.interChRatio<0&&(s.interChRatio=0),null==s.useTemporal&&(s.useTemporal=!0),u.slot_lag=u.frac_SpF=0,s.VBR==h.vbr_off&&(u.slot_lag=u.frac_SpF=72e3*(s.version+1)*s.brate%s.out_samplerate|0),o.iteration_init(s),y.psymodel_init(s),0},this.lame_encode_flush=function(e,r,n,i){var o,a,c,u,l=e.internal_flags,f=s([2,1152]),p=0,h=l.mf_samples_to_encode-O.POSTDELAY,m=M(e);if(l.mf_samples_to_encode<1)return 0;for(o=0,e.in_samplerate!=e.out_samplerate&&(h+=16*e.out_samplerate/e.in_samplerate),(c=e.framesize-h%e.framesize)<576&&(c+=e.framesize),e.encoder_padding=c,u=(h+c)/e.framesize;u>0&&p>=0;){var v=m-l.mf_size,_=e.frameNum;v*=e.in_samplerate,(v/=e.out_samplerate)>1152&&(v=1152),v<1&&(v=1),a=i-o,0==i&&(a=0),n+=p=this.lame_encode_buffer(e,f[0],f[1],v,r,n,a),o+=p,u-=_!=e.frameNum?1:0}if(l.mf_samples_to_encode=0,p<0)return p;if(a=i-o,0==i&&(a=0),t.flush_bitstream(e),(p=t.copy_buffer(l,r,n,a,1))<0)return p;if(n+=p,a=i-(o+=p),0==i&&(a=0),e.write_id3tag_automatic){if(d.id3tag_write_v1(e),(p=t.copy_buffer(l,r,n,a,0))<0)return p;o+=p}return o},this.lame_encode_buffer=function(r,i,o,a,s,c,u){var l=r.internal_flags,f=[null,null];if(l.Class_ID!=E)return-3;if(0==a)return 0;!function(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=n(t),e.in_buffer_1=n(t),e.in_buffer_nsamples=t)}(l,a),f[0]=l.in_buffer_0,f[1]=l.in_buffer_1;for(var p=0;p<a;p++)f[0][p]=i[p],l.channels_in>1&&(f[1][p]=o[p]);return function(r,n,i,o,a,s,c){var u,l,f,p,d,h=r.internal_flags,m=0,_=[null,null],y=[null,null];if(h.Class_ID!=E)return-3;if(0==o)return 0;if((d=t.copy_buffer(h,a,s,c,0))<0)return d;if(s+=d,m+=d,y[0]=n,y[1]=i,g.NEQ(r.scale,0)&&g.NEQ(r.scale,1))for(l=0;l<o;++l)y[0][l]*=r.scale,2==h.channels_out&&(y[1][l]*=r.scale);if(g.NEQ(r.scale_left,0)&&g.NEQ(r.scale_left,1))for(l=0;l<o;++l)y[0][l]*=r.scale_left;if(g.NEQ(r.scale_right,0)&&g.NEQ(r.scale_right,1))for(l=0;l<o;++l)y[1][l]*=r.scale_right;if(2==r.num_channels&&1==h.channels_out)for(l=0;l<o;++l)y[0][l]=.5*(y[0][l]+y[1][l]),y[1][l]=0;p=M(r),_[0]=h.mfbuf[0],_[1]=h.mfbuf[1];for(var b=0;o>0;){var w=[null,null],S=0,x=0;w[0]=y[0],w[1]=y[1];var k=new B;if(H(r,_,w,b,o,k),S=k.n_in,x=k.n_out,h.findReplayGain&&!h.decode_on_the_fly&&e.AnalyzeSamples(h.rgdata,_[0],h.mf_size,_[1],h.mf_size,x,h.channels_out)==v.GAIN_ANALYSIS_ERROR)return-6;if(o-=S,b+=S,h.channels_out,h.mf_size+=x,h.mf_samples_to_encode<1&&(h.mf_samples_to_encode=O.ENCDELAY+O.POSTDELAY),h.mf_samples_to_encode+=x,h.mf_size>=p){var T=c-m;if(0==c&&(T=0),(u=D(r,_[0],_[1],a,s,T))<0)return u;for(s+=u,m+=u,h.mf_size-=r.framesize,h.mf_samples_to_encode-=r.framesize,f=0;f<h.channels_out;f++)for(l=0;l<h.mf_size;l++)_[f][l]=_[f][l+r.framesize]}}return m}(r,f[0],f[1],a,s,c,u)}}function D(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function B(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}C.SFBMAX=3*O.SBMAX_s,O.ENCDELAY=576,O.POSTDELAY=1152,O.MDCTDELAY=48,O.FFTOFFSET=224+O.MDCTDELAY,O.DECDELAY=528,O.SBLIMIT=32,O.CBANDS=64,O.SBPSY_l=21,O.SBPSY_s=12,O.SBMAX_l=22,O.SBMAX_s=13,O.PSFB21=6,O.PSFB12=6,O.BLKSIZE=1024,O.HBLKSIZE=O.BLKSIZE/2+1,O.BLKSIZE_s=256,O.HBLKSIZE_s=O.BLKSIZE_s/2+1,O.NORM_TYPE=0,O.START_TYPE=1,O.SHORT_TYPE=2,O.STOP_TYPE=3,O.MPG_MD_LR_LR=0,O.MPG_MD_LR_I=1,O.MPG_MD_MS_LR=2,O.MPG_MD_MS_I=3,O.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3.898045e-17,.0467745*5,.50455,.756825,.187098*5],I.MFSIZE=3456+O.ENCDELAY-O.MDCTDELAY,I.MAX_HEADER_BUF=256,I.MAX_BITS_PER_CHANNEL=4095,I.MAX_BITS_PER_GRANULE=7680,I.BPC=320,D.RIFF=B("RIFF"),D.WAVE=B("WAVE"),D.fmt_=B("fmt "),D.data=B("data"),D.readHeader=function(e){var t=new D,r=e.getUint32(0,!1);if(D.RIFF==r&&(e.getUint32(4,!0),D.WAVE==e.getUint32(8,!1)&&D.fmt_==e.getUint32(12,!1))){var n=e.getUint32(16,!0),i=20;switch(n){case 16:case 18:t.channels=e.getUint16(i+2,!0),t.sampleRate=e.getUint32(i+4,!0);break;default:throw"extended fmt chunk not implemented"}i+=n;for(var o=D.data,a=0;o!=r&&(r=e.getUint32(i,!1),a=e.getUint32(i+4,!0),o!=r);)i+=a+8;return t.dataLen=a,t.dataOffset=i+8,t}},C.SFBMAX=3*O.SBMAX_s,b.Mp3Encoder=function(t,r,n){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),t=1,r=44100,n=128);var i=new j,o=new function(){this.setModules=function(e,t){}},a=new v,s=new g,c=new function(){function e(e,t,r,n,i,o,a,s,c,u,l,f,p,d,h){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=r,this.expY=n,this.st_lrm=i,this.st_s=o,this.masking_adj=a,this.masking_adj_short=s,this.ath_lower=c,this.ath_curve=u,this.ath_sensitivity=l,this.interch=f,this.safejoint=p,this.sfb21mod=d,this.msfix=h}function t(e,t,r,n,i,o,a,s,c,u,l,f,p,d){this.quant_comp=t,this.quant_comp_s=r,this.safejoint=n,this.nsmsfix=i,this.st_lrm=o,this.st_s=a,this.nsbass=s,this.scale=c,this.masking_adj=u,this.ath_lower=l,this.ath_curve=f,this.interch=p,this.sfscale=d}var r;this.setModules=function(e){r=e};var n=[new e(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new e(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new e(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new e(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new e(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new e(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new e(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new e(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new e(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new e(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new e(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new e(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new e(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new e(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new e(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new e(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new e(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new e(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new e(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new e(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function o(e,t,r){var o=e.VBR==h.vbr_rh?n:i,a=e.VBR_q_frac,s=o[t],c=o[t+1],u=s;s.st_lrm=s.st_lrm+a*(c.st_lrm-s.st_lrm),s.st_s=s.st_s+a*(c.st_s-s.st_s),s.masking_adj=s.masking_adj+a*(c.masking_adj-s.masking_adj),s.masking_adj_short=s.masking_adj_short+a*(c.masking_adj_short-s.masking_adj_short),s.ath_lower=s.ath_lower+a*(c.ath_lower-s.ath_lower),s.ath_curve=s.ath_curve+a*(c.ath_curve-s.ath_curve),s.ath_sensitivity=s.ath_sensitivity+a*(c.ath_sensitivity-s.ath_sensitivity),s.interch=s.interch+a*(c.interch-s.interch),s.msfix=s.msfix+a*(c.msfix-s.msfix),function(e,t){0>t&&(t=0),9<t&&(t=9),e.VBR_q=t,e.VBR_q_frac=0}(e,u.vbr_q),0!=r?e.quant_comp=u.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=u.quant_comp),0!=r?e.quant_comp_short=u.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=u.quant_comp_s),0!=u.expY&&(e.experimentalY=0!=u.expY),0!=r?e.internal_flags.nsPsy.attackthre=u.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=u.st_lrm),0!=r?e.internal_flags.nsPsy.attackthre_s=u.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=u.st_s),0!=r?e.maskingadjust=u.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=u.masking_adj),0!=r?e.maskingadjust_short=u.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=u.masking_adj_short),0!=r?e.ATHlower=-u.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-u.ath_lower/10),0!=r?e.ATHcurve=u.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=u.ath_curve),0!=r?e.athaa_sensitivity=u.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=u.ath_sensitivity),u.interch>0&&(0!=r?e.interChRatio=u.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=u.interch)),u.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|u.safejoint),u.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|u.sfb21mod<<20),0!=r?e.msfix=u.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=u.msfix),0==r&&(e.VBR_q=t,e.VBR_q_frac=a)}var a=[new t(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new t(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new t(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new t(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new t(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new t(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new t(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new t(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new t(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new t(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new t(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new t(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new t(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new t(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new t(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new t(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function s(e,t,n){var i=t,o=r.nearestBitrateFullIndex(t);if(e.VBR=h.vbr_abr,e.VBR_mean_bitrate_kbps=i,e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320),e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.brate=e.VBR_mean_bitrate_kbps,e.VBR_mean_bitrate_kbps>320&&(e.disable_reservoir=!0),a[o].safejoint>0&&(e.exp_nspsytune=2|e.exp_nspsytune),a[o].sfscale>0&&(e.internal_flags.noise_shaping=2),Math.abs(a[o].nsbass)>0){var s=int(4*a[o].nsbass);s<0&&(s+=64),e.exp_nspsytune=e.exp_nspsytune|s<<2}return 0!=n?e.quant_comp=a[o].quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=a[o].quant_comp),0!=n?e.quant_comp_short=a[o].quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=a[o].quant_comp_s),0!=n?e.msfix=a[o].nsmsfix:Math.abs(e.msfix- -1)>0||(e.msfix=a[o].nsmsfix),0!=n?e.internal_flags.nsPsy.attackthre=a[o].st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=a[o].st_lrm),0!=n?e.internal_flags.nsPsy.attackthre_s=a[o].st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=a[o].st_s),0!=n?e.scale=a[o].scale:Math.abs(e.scale- -1)>0||(e.scale=a[o].scale),0!=n?e.maskingadjust=a[o].masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=a[o].masking_adj),a[o].masking_adj>0?0!=n?e.maskingadjust_short=.9*a[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=.9*a[o].masking_adj):0!=n?e.maskingadjust_short=1.1*a[o].masking_adj:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=1.1*a[o].masking_adj),0!=n?e.ATHlower=-a[o].ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-a[o].ath_lower/10),0!=n?e.ATHcurve=a[o].ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=a[o].ath_curve),0!=n?e.interChRatio=a[o].interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=a[o].interch),t}this.apply_preset=function(e,t,r){switch(t){case j.R3MIX:t=j.V3,e.VBR=h.vbr_mtrh;break;case j.MEDIUM:t=j.V4,e.VBR=h.vbr_rh;break;case j.MEDIUM_FAST:t=j.V4,e.VBR=h.vbr_mtrh;break;case j.STANDARD:t=j.V2,e.VBR=h.vbr_rh;break;case j.STANDARD_FAST:t=j.V2,e.VBR=h.vbr_mtrh;break;case j.EXTREME:t=j.V0,e.VBR=h.vbr_rh;break;case j.EXTREME_FAST:t=j.V0,e.VBR=h.vbr_mtrh;break;case j.INSANE:return t=320,e.preset=t,s(e,t,r),e.VBR=h.vbr_off,t}switch(e.preset=t,t){case j.V9:return o(e,9,r),t;case j.V8:return o(e,8,r),t;case j.V7:return o(e,7,r),t;case j.V6:return o(e,6,r),t;case j.V5:return o(e,5,r),t;case j.V4:return o(e,4,r),t;case j.V3:return o(e,3,r),t;case j.V2:return o(e,2,r),t;case j.V1:return o(e,1,r),t;case j.V0:return o(e,0,r),t}return 8<=t&&t<=320?s(e,t,r):(e.preset=0,t)}},u=new T,l=new A,f=new y,p=new function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}},d=new function(){this.setModules=function(e,t){}},b=new function(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,r){var n,i=t.internal_flags,o=i.l3_side,a=e.getframebits(t);r.bits=(a-8*i.sideinfo_len)/i.mode_gr;var s=2048*i.mode_gr-8;t.brate>320?n=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(n=11520,t.strict_ISO&&(n=8*int(32e4/(t.out_samplerate/1152)/8+.5))),i.ResvMax=n-a,i.ResvMax>s&&(i.ResvMax=s),(i.ResvMax<0||t.disable_reservoir)&&(i.ResvMax=0);var c=r.bits*i.mode_gr+Math.min(i.ResvSize,i.ResvMax);return c>n&&(c=n),o.resvDrain_pre=0,null!=i.pinfo&&(i.pinfo.mean_bits=r.bits/2,i.pinfo.resvsize=i.ResvSize),c},this.ResvMaxBits=function(e,t,r,n){var i,o=e.internal_flags,a=o.ResvSize,s=o.ResvMax;0!=n&&(a+=t),0!=(1&o.substep_shaping)&&(s*=.9),r.bits=t,10*a>9*s?(i=a-9*s/10,r.bits+=i,o.substep_shaping|=128):(i=0,o.substep_shaping&=127,e.disable_reservoir||0!=(1&o.substep_shaping)||(r.bits-=.1*t));var c=a<6*o.ResvMax/10?a:6*o.ResvMax/10;return(c-=i)<0&&(c=0),c},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var r,n=e.l3_side;e.ResvSize+=t*e.mode_gr;var i=0;n.resvDrain_post=0,n.resvDrain_pre=0,0!=(r=e.ResvSize%8)&&(i+=r),(r=e.ResvSize-i-e.ResvMax)>0&&(i+=r);var o=Math.min(8*n.main_data_begin,i)/8;n.resvDrain_pre+=8*o,i-=8*o,e.ResvSize-=8*o,n.main_data_begin-=o,n.resvDrain_post+=i,e.ResvSize-=i}},w=new _,S=new function(){this.setModules=function(e,t,r){}},x=new function(){};i.setModules(a,s,c,u,l,f,p,d,x),s.setModules(a,x,p,f),d.setModules(s,p),c.setModules(i),l.setModules(s,b,u,w),u.setModules(w,b,i.enc.psy),b.setModules(s),w.setModules(u),f.setModules(i,s,p),o.setModules(S,x),S.setModules(p,d,c);var E=i.lame_init();E.num_channels=t,E.in_samplerate=r,E.brate=n,E.mode=m.STEREO,E.quality=3,E.bWriteVbrTag=!1,E.disable_reservoir=!0,E.write_id3tag_automatic=!1,i.lame_init_params(E);var k=1152,R=0|1.25*k+7200,C=e(R);this.encodeBuffer=function(r,n){1==t&&(n=r),r.length>k&&(k=r.length,C=e(R=0|1.25*k+7200));var o=i.lame_encode_buffer(E,r,n,r.length,C,0,R);return new Int8Array(C.subarray(0,o))},this.flush=function(){var e=i.lame_encode_flush(E,C,0,R);return new Int8Array(C.subarray(0,e))}},b.WavHeader=D}y.prototype.initialize=function(){if(!(this.fromSampleRate>0&&this.toSampleRate>0&&this.channels>0))throw new Error("Invalid settings specified for the resampler.");this.fromSampleRate==this.toSampleRate?(this.resampler=this.bypassResampler,this.ratioWeight=1):(this.ratioWeight=this.fromSampleRate/this.toSampleRate,this.fromSampleRate<this.toSampleRate?(this.compileLinearInterpolationFunction(),this.lastWeight=1):(this.compileMultiTapFunction(),this.tailExists=!1,this.lastWeight=0),this.initializeBuffers())},y.prototype.compileLinearInterpolationFunction=function(){this.resampler=function(e){var t,r,n=e.length,i=this.channels,o=void 0,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,f=void 0;if(n%i!=0)throw new Error("Buffer was of incorrect sample length in linear interpolation func.");if(n<=0)return[];for(t=this.outputBufferSize,r=this.ratioWeight,o=this.lastWeight,a=0,s=0,c=0,u=0,l=this.outputBuffer;o<1;o+=r)for(a=1-(s=o%1),this.lastWeight=o%1,f=0;f<this.channels;++f)l[u++]=this.lastOutput[f]*a+e[f]*s;for(o-=1,n-=i,c=Math.floor(o)*i;u<t&&c<n;){for(a=1-(s=o%1),f=0;f<this.channels;++f)l[u++]=e[c+(f>0?f:0)]*a+e[c+(i+f)]*s;o+=r,c=Math.floor(o)*i}for(f=0;f<i;++f)this.lastOutput[f]=e[c++];return this.bufferSlice(u)}},y.prototype.compileMultiTapFunction=function(){this.resampler=function(e){var t,r,n=e.length,i=void 0,o=this.channels,a=void 0,s=void 0,c=void 0,u=void 0,l=void 0,f=void 0,p=void 0,d=void 0;if(n%o!=0)throw new Error("Buffer was of incorrect sample length in multiTap func.");if(n<=0)return[];for(t=this.outputBufferSize,i=[],r=this.ratioWeight,a=0,c=0,u=0,l=!this.tailExists,this.tailExists=!1,f=this.outputBuffer,p=0,d=0,s=0;s<o;++s)i[s]=0;do{if(l)for(a=r,s=0;s<o;++s)i[s]=0;else{for(a=this.lastWeight,s=0;s<o;++s)i[s]=this.lastOutput[s];l=!0}for(;a>0&&c<n;){if(!(a>=(u=1+c-d))){for(s=0;s<o;++s)i[s]+=e[c+(s>0?s:0)]*a;d+=a,a=0;break}for(s=0;s<o;++s)i[s]+=e[c++]*u;d=c,a-=u}if(0!==a){for(this.lastWeight=a,s=0;s<o;++s)this.lastOutput[s]=i[s];this.tailExists=!0;break}for(s=0;s<o;++s)f[p++]=i[s]/r}while(c<n&&p<t);return this.bufferSlice(p)}},y.prototype.bypassResampler=function(e){return this.noReturn?(this.outputBuffer=e,e.length):e},y.prototype.bufferSlice=function(e){if(this.noReturn)return e;try{return this.outputBuffer.subarray(0,e)}catch(t){try{return this.outputBuffer.length=e,this.outputBuffer}catch(t){return this.outputBuffer.slice(0,e)}}},y.prototype.initializeBuffers=function(){try{this.outputBuffer=new Float32Array(this.outputBufferSize),this.lastOutput=new Float32Array(this.channels)}catch(e){this.outputBuffer=[],this.lastOutput=[]}},b()})}}},function(e,t,r){"use strict";t.a=function(e,t){var r={},n=new Array,i=[],o=0,a="";n[1]="https://www.vipkid.com.cn/",n[2]="https://www.baidu.com/",i[1]="主站",i[2]="外部网路",function(){for(var t=1;t<n.length;t++){var s=new Image;s.onerror=function(t){return function(){r[n[t]]=new Date-r[n[t]],a+=i[t]+r[n[t]]+"||",2==++o&&e(a)}}(t),s.src=n[t],r[n[t]]=+new Date}}()}},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.getDescription=function(e){var t=r.splitSections(e);return t&&t[0]},r.getMediaSections=function(e){var t=r.splitSections(e);return t.shift(),t},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},r.parseIceOptions=function(e){return e.substr(14).split(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},r.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(t=n[i].trim().split("="))[0].trim()]=t[1];return r},r.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},r.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},r.getMid=function(e){var t=r.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},r.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},r.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:r.matchPrefix(e+t,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},r.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},r.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===t(e.keyParams)?r.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},r.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},r.getCryptoParameters=function(e,t){return r.matchPrefix(e+t,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(e,t){var n=r.matchPrefix(e+t,"a=ice-ufrag:")[0],i=r.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&i?{usernameFragment:n.substr(12),password:i.substr(10)}:null},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(n+="a=maxptime:"+i+"\r\n"),n+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){n+=r.writeExtmap(e)}),n},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,u=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(r.rtx={ssrc:t}),n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var l=r.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,n.forEach(function(e){e.maxBitrate=l})),n},r.parseRtcpParameters=function(e){var t={},n=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);var i=r.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=r.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},r.parseMsid=function(e){var t,n=r.matchPrefix(e,"a=msid:");if(1===n.length)return{stream:(t=n[0].substr(7).split(" "))[0],track:t[1]};var i=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},r.parseSctpDescription=function(e){var t,n=r.parseMLine(e),i=r.matchPrefix(e,"a=max-message-size:");i.length>0&&(t=parseInt(i[0].substr(19),10)),isNaN(t)&&(t=65536);var o=r.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:t};if(r.matchPrefix(e,"a=sctpmap:").length>0){var a=r.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" ");return{port:parseInt(a[0],10),protocol:a[1],maxMessageSize:t}}},r.writeSctpDescription=function(e,t){var r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,21)},r.writeSessionBoilerplate=function(e,t,n){var i,o=void 0!==t?t:2;return i=e||r.generateSessionId(),"v=0\r\no="+(n||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),o},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},r.getKind=function(e){return r.splitLines(e)[0].split(" ")[0].substr(2)},r.isRejected=function(e){return"0"===e.split(" ",2)[1]},r.parseMLine=function(e){var t=r.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},r.parseOLine=function(e){var t=r.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},r.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=r.splitLines(e),n=0;n<t.length;n++)if(t[n].length<2||"="!==t[n].charAt(1))return!1;return!0},"object"===t(e)&&(e.exports=r)}).call(this,r(36)(e))},function(e,t,r){var n=r(29);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(29),i=r(8)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,r){var n=r(6),i=r(24),o=r(8)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},function(e,t,r){"use strict";var n=r(203),i=r(123);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(229),o=r(230),a=r(231),s=r(234);function c(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}var u=function(){},l=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&null!==e[r]&&(t[r]=e[r]);return t};function f(e){return m(e,function(e){return"object"===(void 0===e?"undefined":n(e))?f(e):e})}function p(e,t){return h(t,function(r,n){e[n]=t[n]}),e}function d(e){return e instanceof Array}function h(e,t){for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)}function m(e,t){var r=d(e)?[]:{};for(var n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n],n));return r}var v=function(e,t){if(t=p({},t),"getAuth"!==e&&"getV4Auth"!==e&&"getObjectUrl"!==e){var r=t.Headers||{};if(t&&"object"===(void 0===t?"undefined":n(t))){!function(){for(var e in t)t.hasOwnProperty(e)&&e.indexOf("x-cos-")>-1&&(r[e]=t[e])}();g.each({"x-cos-mfa":"MFA","Content-MD5":"ContentMD5","Content-Length":"ContentLength","Content-Type":"ContentType",Expect:"Expect",Expires:"Expires","Cache-Control":"CacheControl","Content-Disposition":"ContentDisposition","Content-Encoding":"ContentEncoding",Range:"Range","If-Modified-Since":"IfModifiedSince","If-Unmodified-Since":"IfUnmodifiedSince","If-Match":"IfMatch","If-None-Match":"IfNoneMatch","x-cos-copy-source":"CopySource","x-cos-copy-source-Range":"CopySourceRange","x-cos-metadata-directive":"MetadataDirective","x-cos-copy-source-If-Modified-Since":"CopySourceIfModifiedSince","x-cos-copy-source-If-Unmodified-Since":"CopySourceIfUnmodifiedSince","x-cos-copy-source-If-Match":"CopySourceIfMatch","x-cos-copy-source-If-None-Match":"CopySourceIfNoneMatch","x-cos-acl":"ACL","x-cos-grant-read":"GrantRead","x-cos-grant-write":"GrantWrite","x-cos-grant-full-control":"GrantFullControl","x-cos-grant-read-acp":"GrantReadAcp","x-cos-grant-write-acp":"GrantWriteAcp","x-cos-storage-class":"StorageClass","x-cos-server-side-encryption-customer-algorithm":"SSECustomerAlgorithm","x-cos-server-side-encryption-customer-key":"SSECustomerKey","x-cos-server-side-encryption-customer-key-MD5":"SSECustomerKeyMD5","x-cos-server-side-encryption":"ServerSideEncryption","x-cos-server-side-encryption-cos-kms-key-id":"SSEKMSKeyId","x-cos-server-side-encryption-context":"SSEContext"},function(e,n){void 0!==t[e]&&(r[n]=t[e])}),t.Headers=l(r)}}return t},_=function(e){return Date.now()+(e||0)},g={noop:u,formatParams:v,apiWrapper:function(e,t){return function(r,n){"function"==typeof r&&(n=r,r={}),r=v(e,r);var i=function(e){return e&&e.headers&&(e.headers["x-cos-version-id"]&&(e.VersionId=e.headers["x-cos-version-id"]),e.headers["x-cos-delete-marker"]&&(e.DeleteMarker=e.headers["x-cos-delete-marker"])),e},o=function(e,t){n&&n(i(e),i(t))};if("getService"!==e&&"abortUploadTask"!==e){var a;if(a=function(e,t){var r=t.Bucket,n=t.Region,i=t.Key;if(e.indexOf("Bucket")>-1||"deleteMultipleObject"===e||"multipartList"===e||"listObjectVersions"===e){if(!r)return"Bucket";if(!n)return"Region"}else if(e.indexOf("Object")>-1||e.indexOf("multipart")>-1||"sliceUploadFile"===e||"abortUploadTask"===e){if(!r)return"Bucket";if(!n)return"Region";if(!i)return"Key"}return!1}(e,r))return void o({error:"missing param "+a});if(r.Region){if(r.Region.indexOf("cos.")>-1)return void o({error:'param Region should not be start with "cos."'});if(!/^([a-z\d-]+)$/.test(r.Region))return void o({error:"Region format error."});this.options.CompatibilityMode||-1!==r.Region.indexOf("-")||"yfb"===r.Region||"default"===r.Region||console.warn("warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224")}if(r.Bucket){if(!/^([a-z\d-]+)-(\d+)$/.test(r.Bucket))if(r.AppId)r.Bucket=r.Bucket+"-"+r.AppId;else{if(!this.options.AppId)return void o({error:'Bucket should format as "test-1250000000".'});r.Bucket=r.Bucket+"-"+this.options.AppId}r.AppId&&(console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:"test-1250000000" ).'),delete r.AppId)}!this.options.UseRawKey&&r.Key&&"/"===r.Key.substr(0,1)&&(r.Key=r.Key.substr(1))}var s=t.call(this,r,o);if("getAuth"===e||"getObjectUrl"===e)return s}},xml2json:a,json2xml:s,md5:i,clearKey:l,getFileMd5:function(e,t){!function(e,t){var r,n=new FileReader;FileReader.prototype.readAsBinaryString?(r=FileReader.prototype.readAsBinaryString,n.onload=function(){t(this.result)}):FileReader.prototype.readAsArrayBuffer?r=function(e){var r="",n=new FileReader;n.onload=function(e){for(var i=new Uint8Array(n.result),o=i.byteLength,a=0;a<o;a++)r+=String.fromCharCode(i[a]);t(r)},n.readAsArrayBuffer(e)}:console.error("FileReader not support readAsBinaryString"),r.call(n,e)}(e,function(e){var r=i(e,!0);t(null,r)})},binaryBase64:function(e){var t,r,n,i="";for(t=0,r=e.length/2;t<r;t++)n=parseInt(e[2*t]+e[2*t+1],16),i+=String.fromCharCode(n);return btoa(i)},extend:p,isArray:d,isInArray:function(e,t){for(var r=!1,n=0;n<e.length;n++)if(t===e[n]){r=!0;break}return r},each:h,map:m,filter:function(e,t){var r=d(e),n=r?[]:{};for(var i in e)e.hasOwnProperty(i)&&t(e[i],i)&&(r?n.push(e[i]):n[i]=e[i]);return n},clone:f,uuid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},camSafeUrlEncode:c,throttleOnProgress:function(e,t){var r,n,i=this,o=0,a=0,s=Date.now();function c(){if(n=0,t&&"function"==typeof t){r=Date.now();var i,c=Math.max(0,Math.round((a-o)/((r-s)/1e3)*100)/100);i=0===a&&0===e?1:Math.round(a/e*100)/100||0,s=r,o=a;try{t({loaded:a,total:e,speed:c,percent:i})}catch(e){}}}return function(t,r){if(t&&(a=t.loaded,e=t.total),r)clearTimeout(n),c();else{if(n)return;n=setTimeout(c,i.options.ProgressInterval)}}},getFileSize:function(e,t,r){var n;"string"==typeof t.Body&&(t.Body=new Blob([t.Body],{type:"text/plain"})),t.Body&&(t.Body instanceof Blob||"[object File]"===t.Body.toString()||"[object Blob]"===t.Body.toString())?(n=t.Body.size,t.ContentLength=n,r(null,n)):r({error:"params body format error, Only allow File|Blob|String."})},getSkewTime:_,getAuth:function(e){var t,r=(e=e||{}).SecretId,n=e.SecretKey,i=(e.method||e.Method||"get").toLowerCase(),a=f(e.Query||e.params||{}),s=f(e.Headers||e.headers||{}),u=e.Key||"";if(e.UseRawKey?t=e.Pathname||e.pathname||"/"+u:0!==(t=e.Pathname||e.pathname||u).indexOf("/")&&(t="/"+t),!r)return console.error("missing param SecretId");if(!n)return console.error("missing param SecretKey");var l=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t.sort(function(e,t){return(e=e.toLowerCase())===(t=t.toLowerCase())?0:e>t?1:-1})},p=function(e){var t,r,n,i=[],o=l(e);for(t=0;t<o.length;t++)n=void 0===e[r=o[t]]||null===e[r]?"":""+e[r],r=c(r=r.toLowerCase()),n=c(n)||"",i.push(r+"="+n);return i.join("&")},d=Math.round(_(e.SystemClockOffset)/1e3)-1,h=d,m=e.Expires||e.expires,v=r,g=d+";"+(h+=void 0===m?900:1*m||0),y=d+";"+h,b=l(s).join(";").toLowerCase(),w=l(a).join(";").toLowerCase(),S=o.HmacSHA1(y,n).toString(),x=[i,t,p(a),p(s),""].join("\n"),E=["sha1",g,o.SHA1(x).toString(),""].join("\n");return["q-sign-algorithm=sha1","q-ak="+v,"q-sign-time="+g,"q-key-time="+y,"q-header-list="+b,"q-url-param-list="+w,"q-signature="+o.HmacSHA1(E,S).toString()].join("&")},isBrowser:!0},y=function(){var e=function(e,t){e=e.split("."),t=t.split(".");for(var r=0;r<t.length;r++)if(e[r]!==t[r])return parseInt(e[r])>parseInt(t[r])?1:-1;return 0};return function(t){var r=(t.match(/Chrome\/([.\d]+)/)||[])[1],n=(t.match(/QBCore\/([.\d]+)/)||[])[1],i=(t.match(/QQBrowser\/([.\d]+)/)||[])[1];return r&&e(r,"53.0.2785.116")<0&&n&&e(n,"3.53.991.400")<0&&i&&e(i,"9.0.2524.400")<=0||!1}(navigator&&navigator.userAgent)}();g.fileSlice=function(e,t,r,n,i){var o;if(e.slice?o=e.slice(t,r):e.mozSlice?o=e.mozSlice(t,r):e.webkitSlice&&(o=e.webkitSlice(t,r)),n&&y){var a=new FileReader;a.onload=function(e){o=null,i(new Blob([a.result]))},a.readAsArrayBuffer(o)}else i(o)},g.getFileUUID=function(e,t){return e.name&&e.size&&e.lastModifiedDate&&t?g.md5([e.name,e.size,e.lastModifiedDate,t].join("::")):null},g.getBodyMd5=function(e,t,r){r=r||u,e?"string"==typeof t?r(g.md5(t,!0)):Blob&&t instanceof Blob?g.getFileMd5(t,function(e,t){r(t)}):r():r()},e.exports=g},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c){"object"===a(t)?e.exports=t=c(r(10)):(i=[r(10)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){!function(){var t=e,r=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}()})},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c,u){"object"===a(t)?e.exports=t=c(r(10),r(141),r(64)):(i=[r(10),r(141),r(64)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return function(){var t=e,r=t.lib,n=r.Base,i=r.WordArray,o=t.algo,a=o.MD5,s=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=r.hasher.create(),o=i.create(),a=o.words,s=r.keySize,c=r.iterations;a.length<s;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var l=1;l<c;l++)u=n.finalize(u),n.reset();o.concat(u)}return o.sigBytes=4*s,o}});t.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)}}(),e.EvpKDF})},function(e,t,r){var n=r(11),i=r(4),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r(39)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(20),i=r(9),o=r(41);e.exports=function(e){return function(t,r,a){var s,c=n(t),u=i(c.length),l=o(a,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(29);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(8)("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},function(e,t,r){"use strict";var n=r(6);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(60),o=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var a=r.call(e,t);if("object"!==(void 0===a?"undefined":n(a)))throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){"use strict";r(163);var n=r(15),i=r(19),o=r(5),a=r(30),s=r(8),c=r(112),u=s("species"),l=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=s(e),d=!o(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),h=d?!o(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[u]=function(){return r}),r[p](""),!t}):void 0;if(!d||!h||"replace"===e&&!l||"split"===e&&!f){var m=/./[p],v=r(a,p,""[e],function(e,t,r,n,i){return t.exec===c?d&&!i?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),_=v[0],g=v[1];n(String.prototype,e,_),i(RegExp.prototype,p,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,r){var n=r(23),i=r(158),o=r(107),a=r(6),s=r(9),c=r(109),u={},l={};(t=e.exports=function(e,t,r,f,p){var d,h,m,v,_=p?function(){return e}:c(e),g=n(r,f,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(d=s(e.length);d>y;y++)if((v=t?g(a(h=e[y])[0],h[1]):g(e[y]))===u||v===l)return v}else for(m=_.call(e);!(h=m.next()).done;)if((v=i(m,g,h.value,t))===u||v===l)return v}).BREAK=u,t.RETURN=l},function(e,t,r){var n=r(4).navigator;e.exports=n&&n.userAgent||""},function(e,t,r){"use strict";var n=r(4),i=r(2),o=r(15),a=r(54),s=r(34),c=r(74),u=r(53),l=r(7),f=r(5),p=r(70),d=r(49),h=r(98);e.exports=function(e,t,r,m,v,_){var g=n[e],y=g,b=v?"set":"add",w=y&&y.prototype,S={},x=function(e){var t=w[e];o(w,e,"delete"==e?function(e){return!(_&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,r){return t.call(this,0===e?0:e,r),this})};if("function"==typeof y&&(_||w.forEach&&!f(function(){(new y).entries().next()}))){var E=new y,k=E[b](_?{}:-0,1)!=E,T=f(function(){E.has(1)}),R=p(function(e){new y(e)}),C=!_&&f(function(){for(var e=new y,t=5;t--;)e[b](t,t);return!e.has(-0)});R||((y=t(function(t,r){u(t,y,e);var n=h(new g,t,y);return void 0!=r&&c(r,v,n[b],n),n})).prototype=w,w.constructor=y),(T||C)&&(x("delete"),x("has"),v&&x("get")),(C||k)&&x(b),_&&w.clear&&delete w.clear}else y=m.getConstructor(t,e,v,b),a(y.prototype,r),s.NEED=!0;return d(y,e),S[e]=y,i(i.G+i.W+i.F*(y!=g),S),_||m.setStrong(y,e,v),y}},function(e,t,r){for(var n,i=r(4),o=r(19),a=r(38),s=a("typed_array"),c=a("view"),u=!(!i.ArrayBuffer||!i.DataView),l=u,f=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(n=i[p[f++]])?(o(n.prototype,s,!0),o(n.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,r){"use strict";var n=r(181),i=r.n(n),o=r(3),a=r.n(o),s=null;function c(e){this._name="uploadVos",this._env=e.env||"test",this._sdkAppId=e.appId,this._callback=e.callback}c.uploadFile=function(e){var t=e.env,r=e.file,n=e.appId,o=e.callback;(s=new i.a({api:{gettoken:a.a.apiUrlMap[t]+"/vos/getTokenStraight",notifier:a.a.apiUrlMap[t]+"/vos/uploadComplete"},cover:!0,client:"vos-js.sdk 1.3.3"})).addfiles([r]),s.submit({headers:{},gettoken:{appId:n},notifier:{}},function(e,t){o(e,t)},function(e,t){})},c.abort=function(){s&&(s.abort(),s.clear())},t.a=c},function(e,t,r){"use strict";var n={};n.Offset,n.Table,n.SIZEOF_SHORT=2,n.SIZEOF_INT=4,n.FILE_IDENTIFIER_LENGTH=4,n.Encoding={UTF8_BYTES:1,UTF16_STRING:2},n.int32=new Int32Array(2),n.float32=new Float32Array(n.int32.buffer),n.float64=new Float64Array(n.int32.buffer),n.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],n.Long=function(e,t){this.low=0|e,this.high=0|t},n.Long.create=function(e,t){return 0==e&&0==t?n.Long.ZERO:new n.Long(e,t)},n.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},n.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},n.Long.ZERO=new n.Long(0,0),n.Builder=function(e){if(e)t=e;else var t=1024;this.bb=n.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},n.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},n.Builder.prototype.dataBuffer=function(){return this.bb},n.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},n.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e);for(var r=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<r+e+t;){var i=this.bb.capacity();this.bb=n.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(r)},n.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},n.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},n.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},n.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},n.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},n.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},n.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},n.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},n.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},n.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},n.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},n.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},n.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},n.Builder.prototype.addFieldInt8=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt8(t),this.slot(e))},n.Builder.prototype.addFieldInt16=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt16(t),this.slot(e))},n.Builder.prototype.addFieldInt32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addInt32(t),this.slot(e))},n.Builder.prototype.addFieldInt64=function(e,t,r){!this.force_defaults&&t.equals(r)||(this.addInt64(t),this.slot(e))},n.Builder.prototype.addFieldFloat32=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat32(t),this.slot(e))},n.Builder.prototype.addFieldFloat64=function(e,t,r){(this.force_defaults||t!=r)&&(this.addFloat64(t),this.slot(e))},n.Builder.prototype.addFieldOffset=function(e,t,r){(this.force_defaults||t!=r)&&(this.addOffset(t),this.slot(e))},n.Builder.prototype.addFieldStruct=function(e,t,r){t!=r&&(this.nested(t),this.slot(e))},n.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},n.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},n.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},n.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},n.Builder.growByteBuffer=function(e){var t=e.capacity();if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var r=t<<1,i=n.ByteBuffer.allocate(r);return i.setPosition(r-t),i.bytes().set(e.bytes(),r-t),i},n.Builder.prototype.addOffset=function(e){this.prep(n.SIZEOF_INT,0),this.writeInt32(this.offset()-e+n.SIZEOF_INT)},n.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e;for(var t=0;t<e;t++)this.vtable[t]=0;this.isNested=!0,this.object_start=this.offset()},n.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var e=this.offset(),t=this.vtable_in_use-1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0);this.addInt16(e-this.object_start),this.addInt16((this.vtable_in_use+2)*n.SIZEOF_SHORT);var r=0;e:for(t=0;t<this.vtables.length;t++){var i=this.bb.capacity()-this.vtables[t],o=this.space,a=this.bb.readInt16(i);if(a==this.bb.readInt16(o)){for(var s=n.SIZEOF_SHORT;s<a;s+=n.SIZEOF_SHORT)if(this.bb.readInt16(i+s)!=this.bb.readInt16(o+s))continue e;r=this.vtables[t];break}}return r?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,r-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},n.Builder.prototype.finish=function(e,t){if(t){var r=t;if(this.prep(this.minalign,n.SIZEOF_INT+n.FILE_IDENTIFIER_LENGTH),r.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var i=n.FILE_IDENTIFIER_LENGTH-1;i>=0;i--)this.writeInt8(r.charCodeAt(i))}this.prep(this.minalign,n.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},n.Builder.prototype.requiredField=function(e,t){var r=this.bb.capacity()-e,n=r-this.bb.readInt32(r);if(!(0!=this.bb.readInt16(n+t)))throw new Error("FlatBuffers: field "+t+" must be set")},n.Builder.prototype.startVector=function(e,t,r){this.notNested(),this.vector_num_elems=t,this.prep(n.SIZEOF_INT,e*t),this.prep(r,e*t)},n.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},n.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e;else{t=[];for(var r=0;r<e.length;){var n,i=e.charCodeAt(r++);if(i<55296||i>=56320)n=i;else n=(i<<10)+e.charCodeAt(r++)+-56613888;n<128?t.push(n):(n<2048?t.push(n>>6&31|192):(n<65536?t.push(n>>12&15|224):t.push(n>>18&7|240,n>>12&63|128),t.push(n>>6&63|128)),t.push(63&n|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length);r=0;for(var o=this.space,a=this.bb.bytes();r<t.length;r++)a[o++]=t[r];return this.endVector()},n.Builder.prototype.createLong=function(e,t){return n.Long.create(e,t)},n.ByteBuffer=function(e){this.bytes_=e,this.position_=0},n.ByteBuffer.allocate=function(e){return new n.ByteBuffer(new Uint8Array(e))},n.ByteBuffer.prototype.bytes=function(){return this.bytes_},n.ByteBuffer.prototype.position=function(){return this.position_},n.ByteBuffer.prototype.setPosition=function(e){this.position_=e},n.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},n.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},n.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},n.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},n.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},n.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},n.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},n.ByteBuffer.prototype.readInt64=function(e){return new n.Long(this.readInt32(e),this.readInt32(e+4))},n.ByteBuffer.prototype.readUint64=function(e){return new n.Long(this.readUint32(e),this.readUint32(e+4))},n.ByteBuffer.prototype.readFloat32=function(e){return n.int32[0]=this.readInt32(e),n.float32[0]},n.ByteBuffer.prototype.readFloat64=function(e){return n.int32[n.isLittleEndian?0:1]=this.readInt32(e),n.int32[n.isLittleEndian?1:0]=this.readInt32(e+4),n.float64[0]},n.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},n.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},n.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},n.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},n.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},n.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},n.ByteBuffer.prototype.writeFloat32=function(e,t){n.float32[0]=t,this.writeInt32(e,n.int32[0])},n.ByteBuffer.prototype.writeFloat64=function(e,t){n.float64[0]=t,this.writeInt32(e,n.int32[n.isLittleEndian?0:1]),this.writeInt32(e+4,n.int32[n.isLittleEndian?1:0])},n.ByteBuffer.prototype.__offset=function(e,t){var r=e-this.readInt32(e);return t<this.readInt16(r)?this.readInt16(r+t):0},n.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},n.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e);var r=this.readInt32(e),i="",o=0;if(e+=n.SIZEOF_INT,t===n.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+r);for(;o<r;){var a,s=this.readUint8(e+o++);if(s<192)a=s;else{var c=this.readUint8(e+o++);if(s<224)a=(31&s)<<6|63&c;else{var u=this.readUint8(e+o++);if(s<240)a=(15&s)<<12|(63&c)<<6|63&u;else a=(7&s)<<18|(63&c)<<12|(63&u)<<6|63&this.readUint8(e+o++)}}a<65536?i+=String.fromCharCode(a):(a-=65536,i+=String.fromCharCode(55296+(a>>10),56320+(1023&a)))}return i},n.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},n.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+n.SIZEOF_INT},n.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},n.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=n.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+n.FILE_IDENTIFIER_LENGTH);for(var t=0;t<n.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+n.SIZEOF_INT+t))return!1;return!0},n.ByteBuffer.prototype.createLong=function(e,t){return n.Long.create(e,t)};var i=n,o=o||{};o.TcpHeader=function(){this.bb=null,this.bb_pos=0},o.TcpHeader.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.TcpHeader.getRootAsTcpHeader=function(e,t){return(t||new o.TcpHeader).__init(e.readInt32(e.position())+e.position(),e)},o.TcpHeader.prototype.key=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.TcpHeader.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},o.TcpHeader.startTcpHeader=function(e){e.startObject(2)},o.TcpHeader.addKey=function(e,t){e.addFieldOffset(0,t,0)},o.TcpHeader.addValue=function(e,t){e.addFieldOffset(1,t,0)},o.TcpHeader.endTcpHeader=function(e){return e.endObject()},o.TcpPackage=function(){this.bb=null,this.bb_pos=0},o.TcpPackage.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.TcpPackage.getRootAsTcpPackage=function(e,t){return(t||new o.TcpPackage).__init(e.readInt32(e.position())+e.position(),e)},o.TcpPackage.prototype.header=function(e,t){var r=this.bb.__offset(this.bb_pos,4);return r?(t||new o.TcpHeader).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*e),this.bb):null},o.TcpPackage.prototype.headerLength=function(){var e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__vector_len(this.bb_pos+e):0},o.TcpPackage.prototype.body=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb.__vector(this.bb_pos+t)+e):0},o.TcpPackage.prototype.bodyLength=function(){var e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__vector_len(this.bb_pos+e):0},o.TcpPackage.prototype.bodyArray=function(){var e=this.bb.__offset(this.bb_pos,6);return e?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},o.TcpPackage.startTcpPackage=function(e){e.startObject(2)},o.TcpPackage.addHeader=function(e,t){e.addFieldOffset(0,t,0)},o.TcpPackage.createHeaderVector=function(e,t){e.startVector(4,t.length,4);for(var r=t.length-1;r>=0;r--)e.addOffset(t[r]);return e.endVector()},o.TcpPackage.startHeaderVector=function(e,t){e.startVector(4,t,4)},o.TcpPackage.addBody=function(e,t){e.addFieldOffset(1,t,0)},o.TcpPackage.createBodyVector=function(e,t){e.startVector(1,t.length,1);for(var r=t.length-1;r>=0;r--)e.addInt8(t[r]);return e.endVector()},o.TcpPackage.startBodyVector=function(e,t){e.startVector(1,t,1)},o.TcpPackage.endTcpPackage=function(e){return e.endObject()},o.TcpRespBody=function(){this.bb=null,this.bb_pos=0},o.TcpRespBody.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},o.TcpRespBody.getRootAsTcpRespBody=function(e,t){return(t||new o.TcpRespBody).__init(e.readInt32(e.position())+e.position(),e)},o.TcpRespBody.prototype.code=function(e){var t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__string(this.bb_pos+t,e):null},o.TcpRespBody.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__string(this.bb_pos+t,e):null},o.TcpRespBody.prototype.message=function(e){var t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__string(this.bb_pos+t,e):null},o.TcpRespBody.prototype.serverTime=function(){var e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readUint64(this.bb_pos+e):this.bb.createLong(0,0)},o.TcpRespBody.prototype.mutate_serverTime=function(e){var t=this.bb.__offset(this.bb_pos,10);return 0!==t&&(this.bb.writeUint64(this.bb_pos+t,e),!0)},o.TcpRespBody.startTcpRespBody=function(e){e.startObject(4)},o.TcpRespBody.addCode=function(e,t){e.addFieldOffset(0,t,0)},o.TcpRespBody.addData=function(e,t){e.addFieldOffset(1,t,0)},o.TcpRespBody.addMessage=function(e,t){e.addFieldOffset(2,t,0)},o.TcpRespBody.addServerTime=function(e,t){e.addFieldInt64(3,t,e.createLong(0,0))},o.TcpRespBody.endTcpRespBody=function(e){return e.endObject()};var a=o;function s(e,t,r){var n,o=new i.Builder(1);n="json"===r.type?new Uint8Array(function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0,i=e.length;n<i;n++)r[n]=e.charCodeAt(n);return t}(JSON.stringify(r.data))):r.data;var s=function(e,t,r){return a.TcpPackage.startTcpPackage(e),a.TcpPackage.addHeader(e,t),a.TcpPackage.addBody(e,r),a.TcpPackage.endTcpPackage(e)}(o,function(e,t){for(var r=[],n={appId:t.appId,method:t.method,type:t.type,verifyCode:"verify-code",magicNumber:t.magicNumber,contentLength:t.contentLength,version:"v1.9.0"},i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],u=n[s];r.push(c(e,s,u))}return a.TcpPackage.createHeaderVector(e,r)}(o,{appId:e,magicNumber:t,method:r.method,type:r.type,contentLength:n.length}),a.TcpPackage.createBodyVector(o,n));return o.finish(s),o}function c(e,t,r){t=e.createString(t),r=e.createString(r);return a.TcpHeader.startTcpHeader(e),a.TcpHeader.addKey(e,t),a.TcpHeader.addValue(e,r),a.TcpHeader.endTcpHeader(e)}var u={parseJSON:function(e,t,r){return s(e,t,{method:"init",type:"json",data:r}).asUint8Array()},parseBinary:function(e,t,r){return s(e,t,{method:"stream",type:"binary",data:new Uint8Array(r)}).asUint8Array()},parseResBody:function(e,t){!function(e,t){var r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(e){var n=new i.ByteBuffer(new Uint8Array(r.result));t(n)}}(e,function(e){var r=a.TcpPackage.getRootAsTcpPackage(e),n=new Uint8Array(r.bodyArray());n=new i.ByteBuffer(n);var o=a.TcpRespBody.getRootAsTcpRespBody(n),s=o.code(),c=o.data(),u=o.message();t({code:s,data:c,message:u})})}},l=r(3),f=r.n(l),p=r(0),d=r(1);function h(e){e&&(this._socketUrl=e,this.reconnectTry=0,this.reConnecting=!1,this.reConnectInterval=null,this.handleCloseFlag=!0,this.onopen=function(){},this.onmessage=function(){},this.onclose=function(){},this.onerror=function(){},this.reconnectFail=function(){},this.init())}h.prototype={constructor:h,init:function(){this._ws=new WebSocket(this._socketUrl),this._ws.onopen=this.handleOpen.bind(this),this._ws.onmessage=this.handleMessage.bind(this),this._ws.onerror=this.handleError.bind(this),this._ws.onclose=this.handleClose.bind(this)},close:function(){this._ws.onopen=null,this._ws.onmessage=null,this._ws.onerror=null,this._ws.onclose=null,this._ws.close()},send:function(e){this._ws.send(e)},reconnect:function(){var e=this;this.reConnecting||(null!==this.reConnectInterval&&clearInterval(this.reConnectInterval),this.reConnecting=!0,this.reConnectInterval=setInterval(function(){e.reconnectTry<3?(e.reconnectTry+=1,d.a._log("try _reconnect..."),e.init()):(e._clearReconnectInterval(),e.reconnectFail())},3e3))},_clearReconnectInterval:function(){null!==this.reConnectInterval&&clearInterval(this.reConnectInterval),this.reConnectInterval=null,this.reConnecting=!1},handleOpen:function(){d.a._log("websocket open"),this._clearReconnectInterval(),this.reconnectTry=0,this.onopen&&this.onopen()},handleMessage:function(e){this.onmessage&&this.onmessage(e)},handleClose:function(e){this.handleCloseFlag&&(d.a._log("websocket closed:",e),1005===e.code&&d.a._log("服务器端正常关闭socket"),1006===e.code&&d.a._log("服务器端socket异常断开"),this.onclose&&this.onclose(e),this.reconnect())},handleError:function(e){this.onerror&&this.onerror(e)}};var m=h,v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e){var t,r=e.env,n=f.a.socketUrlMap,i=this,o=e.appId,a=5e3,s=null,c=f.a.state,l=e.onState,h=e.onError;function _(){var e=n[r||"prod"]+"?appid="+o;(t=new m(e)).onopen=x,t.onmessage=E,t.onclose=k,t.onerror=T,t.reconnectFail=y}function g(){s&&(clearTimeout(s),s=null)}function y(){p.a.log({message:"try connect fail, sdk cannot run normally "}),S("cannotConnect"),w(c.CLOSED)}function b(e){try{return d.a._checkCoreCondition(e,i.state)}catch(e){S(null,{code:1001,message:e.message})}}function w(e,t,r){i.state=e,l({code:e,message:t,data:r})}function S(e,t){var r=null,n=t&&t.message;if(e){var i=f.a.coreErrorMap;(r=i[e]||i.unknown).message=n||r.message}else r={code:t.code,message:n};h(r)}function x(){w(c.PREPARE_START)}function E(e){g(),u.parseResBody(e.data,function(e){e.data&&(e.data=JSON.parse(e.data)),p.a.log({message:"解析数据:receive message from back end, data: "+JSON.stringify(e)+" "}),function(e){var t=e;switch(t.code){case"10000":if(!t.data||0===Object.keys(t.data).length)return;if(i.state!==c.RESULT_RECEIVING&&i.state!==c.AUDIO_RECORDING&&i.state!==c.RESULT_RECEIVED)return void p.a.log({message:"result received, but state not match: "+i.state+" "});w(c.RESULT_RECEIVED,null,t.data);break;case"20001":case"20002":S("audioInfoInvalid",{message:t.message}),w(c.RESULT_RECEIVED,null,null),w(c.PREPARE_START);break;case"20003":case"20004":case"20005":case"20006":case"20007":case"20008":case"20009":case"20010":case"20011":case"20012":case"99998":case"99999":S("evaluateFail",{message:t.message}),w(c.RESULT_RECEIVED,null,null),w(c.PREPARE_START);break;default:S(null,{code:t.code,message:t.message}),w(c.RESULT_RECEIVED,null,null),w(c.PREPARE_START)}}(e)})}function k(){i.state!==c.CLOSED&&(w(c.CLOSED),w(c.CONNECTING))}function T(e){p.a.log({message:"WebSocket Error: "+JSON.stringify(e)}),d.a._log("WebSocket Error: ",e)}function R(e,r){var n=r||"";if(e instanceof ArrayBuffer)e=u.parseBinary(o,n,e);else{if("object"!==(void 0===e?"undefined":v(e)))throw p.a.log({message:"web socket 待发送参数不合法"}),new Error("待发送参数不合法");e=u.parseJSON(o,n,e)}d.a._log("sdk core send: ","{"+(e.constructor.name||"UnknowType")+"}"," -> length:"+e.length||"no length info"),t.send(e)}this.sendAudioInfo=function(e,t){if(b("sendAudioInfo")){"number"==typeof e.receiveTimeout&&(a=e.receiveTimeout);var r={appId:"",rank:100,textMode:0,evalMode:0};R(r=Object.assign(r,e),t),w(c.WAITING_AUDIO_STREAM)}else p.a.log({message:"sdk core call sendAudioInfo fail, state now: "+i.state+" "})},this.sendAudioStream=function(e,r){t&&(b("sendAudioStream")?0!=e.byteLength?R(e,r):p.a.log({message:"sdk sending empty stream stream.byteLength ="+e.byteLength}):p.a.log({message:"sdk core call sendAudioStream fail, state now: "+i.state+" ,audioLength: "+e.byteLength+" "}))},this.updateState=w,this.closeWithoutStateChange=function(){t.handleCloseFlag=!1,t.close(),t=null},this.cancelTimeoutCheck=g,this.socketInit=_,this.stop=function(e,t,r){t?(p.a.log({message:"sdk core call stop, state now: "+i.state+" "}),r||(g(),s=setTimeout(function(){i.state!==c.RESULT_RECEIVING?p.a.log({message:"receive timeout triggered, but state not match! states="+i.state}):(S("evaluateTimeout",{message:"timeout is "+a+"ms"}),w(c.PREPARE_START))},a)),R(new ArrayBuffer(0),e),w(c.RESULT_RECEIVING)):p.a.log({message:"sdk core call stop, but state check fail, state now: "+i.state+" "})},this.close=function(){i.state!==c.CLOSED&&(t.close(),t=null,w(c.CLOSED))},this.state=c.NOT_READY,(o?e.userId||(S("userIdFail"),0):(S("authFail"),0))&&(window.WebSocket?(w(c.CONNECTING),_()):S("notSupport"))}},function(e,t,r){"use strict";var n=r(1),i=r(55),o=r(0);function a(e,t){t=t||{};this.config={exportAudio:t.exportAudio,streamNum:t.streamNum||6,uuid:t.uuid},this.AudioCtx=this._gotStream(e),this.RECWorker=this._importWorker(),this.recBuffers=[],this.recording=!1}a.prototype.onStreamProcessor=null,a.prototype.onReceiveAudioBlob=null,a.prototype.analyserNode=null,a.prototype._gotStream=function(e){window._audioContext||(window._audioContext=new AudioContext||new window.webkitAudioContext,o.a.log({message:"user audioContext sampleRate: "+window._audioContext.sampleRate})),this.config.localSampleRate=window._audioContext.sampleRate||44100;var t=window._audioContext.createGain(),r=window._audioContext.createMediaStreamSource(e);r.connect(t);var n=window._audioContext.createAnalyser();return n.fftSize=2048,t.connect(n),this.audioInput=r,this.analyserNode=n,t},a.prototype._importWorker=function(){return(new i.a).createWorker()},a.prototype.startRecord=function(e){if(!this.recording){this.recording=!0;var t=this;this.audioInput.connect(this.AudioCtx);var r=window._audioContext.createScriptProcessor(1024,1,1);this.AudioCtx.connect(r),r.connect(window._audioContext.destination);var i=n.a.mergeObj(e,this.config);this.RECWorker.postMessage({command:"init",config:i});var o=0,a=this;this.RECWorker.onmessage=function(e){if("stream"===e.data.command){var r,i,s,c;if("wav"===t.config.exportAudio){r=e.data.buffer,i=new Int16Array(r.length);for(var u=0;u<r.length;u++)i[u]=r[u];if(o++,t.recBuffers.push(i),t.recBuffers.length>0&&o===Math.floor(1.7*t.config.streamNum)){s=t.recBuffers.splice(0,t.recBuffers.length),c=new Int16Array(320*s.length);for(u=0;u<s.length;u++)c.set(s[u],320*u);a.onStreamProcessor&&a.onStreamProcessor(c.buffer),o=0}return}if("mp3"===t.config.exportAudio){r=e.data.buffer,i=new Int16Array(r.length);for(u=0;u<r.length;u++)i[u]=r[u];if(o++,t.recBuffers.push(i),t.recBuffers.length>0&&o===Math.floor(t.config.streamNum)){s=t.recBuffers.splice(0,t.recBuffers.length),c=new Int8Array(s.length*s[0].length);for(var l=0;l<s.length;l++)for(var f=0;f<s[l].length;f++)c[l*s[0].length+f]=s[l][f];a.onStreamProcessor&&a.onStreamProcessor(c.buffer),o=0}return}}"blob"===e.data.command&&a.onReceiveAudioBlob&&a.onReceiveAudioBlob(e.data.blob),"error"===e.data.command&&n.a._log("worker error: ",e.data.msg)},r.onaudioprocess=function(e){a.RECWorker.postMessage({command:"record",buffer:e.inputBuffer.getChannelData(0)})},this.Recorder=r}},a.prototype.stopRecord=function(){if(this.recording){if(this.recording=!1,this.Recorder&&this.Recorder.disconnect(),this.audioInput&&this.audioInput.disconnect(),this.recBuffers.length){var e=null,t=null;if("wav"===this.config.exportAudio){e=this.recBuffers.splice(0,this.recBuffers.length),t=new Int16Array(320*e.length);for(var r=0;r<e.length;r++)t.set(e[r],320*r)}else{e=this.recBuffers.splice(0,this.recBuffers.length),t=new Int8Array(e.length*e[0].length);for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++)t[i*e[0].length+o]=e[i][o]}n.a._log("remaining buffer length: "+t.buffer.byteLength),this.onStreamProcessor&&this.onStreamProcessor(t.buffer)}switch(this.config.exportAudio){case"wav":this.RECWorker.postMessage({command:"exportAudio",type:"wav"});break;case"mp3":this.RECWorker.postMessage({command:"exportAudio",type:"mp3"});break;default:this.RECWorker.postMessage({command:"exportAudio",type:"wav"})}this.clear()}},a.prototype.clear=function(){this.RECWorker.postMessage({command:"reset"})},a.prototype.destory=function(){this.RECWorker.terminate(),window.evaluaterArrList&&1===window.evaluaterArrList.length&&window.evaluaterArrList[0]===this.config.uuid&&(window._audioContext.close(),window._audioContext=null)};var s=a;t.a=function(e){var t,r,i,o,a,c=null,u=!1,l=e||{},f=l.uuid,p=l.audioFormat,d=l.streamNum;this.init=function(e){v(function(t){if(t){var r=function(e){return{notSupport:{code:902001,message:"not supported"}}[e]||{code:902999,message:"unexpected error"}}("notSupport"),i=n.a._checkoutRecorderFailReason(t);return r.message=i||r.message,void e(r)}e()})},this.recorderCore=null,this.isSupport=v,this.start=function(){if(h)navigator.getUserMedia({audio:!0},function(e){y(e);var t=window.localStorage.sdkType;if("pc"==t){if(_(),!m.recorderCore)return;c="recording",m.recorderCore.startRecord({sampleRate:window.AudioContext.sampleRate||44100})}else if("h5"==t){if(!m.recorderCore)return;c="recording",m.recorderCore.startRecord({sampleRate:window.AudioContext.sampleRate||44100})}},function(e){});else{var e=window.localStorage.sdkType;if("pc"==e){if(_(),!m.recorderCore)return;c="recording",m.recorderCore.startRecord({sampleRate:window.AudioContext.sampleRate||44100})}else if("h5"==e){if(!m.recorderCore)return;c="recording",m.recorderCore.startRecord({sampleRate:window.AudioContext.sampleRate||44100})}}},this.pause=function(){m.recorderCore&&(c="pausing",m.recorderCore.stopRecord(),i&&i())},this.stop=function(){if(h){m.recorderCore.destory();var e=window.localStorage.sdkType;if("pc"==e){if(g(),!m.recorderCore)return;m.recorderCore.stopRecord(),r&&r()}else if("h5"==e){if(!m.recorderCore)return;m.recorderCore.stopRecord(),r&&r()}}else{var e=window.localStorage.sdkType;if("pc"==e){if(g(),!m.recorderCore)return;m.recorderCore.stopRecord(),r&&r()}else if("h5"==e){if(!m.recorderCore)return;m.recorderCore.stopRecord(),r&&r()}}},this.close=function(){m.recorderCore&&m.recorderCore.destory()},this.onRecording=function(e){t=e},this.onStoped=function(e){r=e},this.onPaused=function(e){i=e},this.exportBlob=function(e){u=!1,o=e,a&&(u=!0,e(a),a=null)};var h=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),m=this;function v(e){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,!window.AudioContext)return e({message:"browser not support AudioContext!"});h?e():function(e){b("initAudio"),navigator.getUserMedia({audio:!0},function(t){y(t),e()},function(t){e(t)})}(function(t){t?e(t):e()})}function _(e){var t=window.localStorage.mic_id,r={action:"devicectrl",devicestatus:!0};r.deviceindex=t,r.setting=!0;var n={};n.config=r,n.method="micCtrl",NaBridge.AppEngine.callNative("aiRecordAudioCtrl",JSON.stringify(n)),console.log("打开麦克风成功",n)}function g(e){var t={action:"devicectrl",devicestatus:!1,deviceindex:"",setting:!0},r={};r.config=t,r.method="micCtrl",NaBridge.AppEngine.callNative("aiRecordAudioCtrl",JSON.stringify(r)),console.log("关闭麦克风",r)}function y(e){var r={exportAudio:p,streamNum:d,uuid:f};m.recorderCore=new s(e,r),m.recorderCore.onStreamProcessor=function(e){"recording"===c?t&&t(e):b("status is not recording, it's: ",c)},m.recorderCore.onReceiveAudioBlob=function(e){c="stop",a=e,!u&&o&&(u=!1,o(e),a=null)}}function b(){if(!0===window._vkm_debug||!0===window._vkm_audio_recorder_debug){var e=Array.prototype.slice.call(arguments);e.unshift((new Date).toLocaleString()),e.unshift("AudioRecorder"),console.debug.apply(console,e)}}}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var s=5,c=0,u={times:s,intervalFunc:(0,o.default)(c)};arguments.length<3&&"function"==typeof e?(r=t||i.default,t=e):(!function(e,t){if("object"===(void 0===t?"undefined":n(t)))e.times=+t.times||s,e.intervalFunc="function"==typeof t.interval?t.interval:(0,o.default)(+t.interval||c),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||s}}(u,e),r=r||i.default);if("function"!=typeof t)throw new Error("Invalid arguments for async.retry");var l=(0,a.default)(t),f=1;!function e(){l(function(t){t&&f++<u.times&&("function"!=typeof u.errorFilter||u.errorFilter(t))?setTimeout(e,u.intervalFunc(f)):r.apply(null,arguments)})}()};var i=s(r(47)),o=s(r(195)),a=s(r(32));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),i=0;i<r;i++)n[i]=e[t+i];return n},e.exports=t.default},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,u=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new h(e,t)),1!==u.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(201)),i=o(r(127));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(i.default),e.exports=t.default},function(e,t,r){"use strict";var n=r(120),i=r(204),o=r(205),a="[object Null]",s="[object Undefined]",c=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):o(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":n(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,r){"use strict";(function(t){var n=r(17),i=r(247),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(132):void 0!==t&&(e=r(132)),e}(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){s.headers[e]={}}),n.forEach(["post","put","patch"],function(e){s.headers[e]=n.merge(o)}),e.exports=s}).call(this,r(83))},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c){"object"===a(t)?e.exports=t=c(r(10)):(i=[r(10)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return e.enc.Utf8})},function(e,t,r){var n=r(7),i=r(4).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){t.f=r(8)},function(e,t,r){var n=r(66)("keys"),i=r(38);e.exports=function(e){return n[e]||(n[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,r){var n=r(4).document;e.exports=n&&n.documentElement},function(e,t,r){var n=r(7),i=r(6),o=function(e,t){if(i(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(23)(Function.call,r(26).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return o(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,r){var n=r(7),i=r(96).set;e.exports=function(e,t,r){var o,a=t.constructor;return a!==r&&"function"==typeof a&&(o=a.prototype)!==r.prototype&&n(o)&&i&&i(e,o),e}},function(e,t,r){"use strict";var n=r(25),i=r(30);e.exports=function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var r=Math.expm1;e.exports=!r||r(10)>22025.465794806718||r(10)<22025.465794806718||-2e-17!=r(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:r},function(e,t,r){var n=r(25),i=r(30);e.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},function(e,t,r){"use strict";var n=r(39),i=r(2),o=r(15),a=r(19),s=r(51),c=r(157),u=r(49),l=r(44),f=r(8)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};e.exports=function(e,t,r,h,m,v,_){c(r,t,h);var g,y,b,w=function(e){if(!p&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",x="values"==m,E=!1,k=e.prototype,T=k[f]||k["@@iterator"]||m&&k[m],R=T||w(m),C=m?x?w("entries"):R:void 0,A="Array"==t&&k.entries||T;if(A&&(b=l(A.call(new e)))!==Object.prototype&&b.next&&(u(b,S,!0),n||"function"==typeof b[f]||a(b,f,d)),x&&T&&"values"!==T.name&&(E=!0,R=function(){return T.call(this)}),n&&!_||!p&&!E&&k[f]||a(k,f,R),s[t]=R,s[S]=d,m)if(g={values:x?R:w("values"),keys:v?R:w("keys"),entries:C},_)for(y in g)y in k||o(k,y,g[y]);else i(i.P+i.F*(p||E),t,g);return g}},function(e,t,r){var n=r(105),i=r(30);e.exports=function(e,t,r){if(n(t))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(e))}},function(e,t,r){var n=r(7),i=r(29),o=r(8)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,r){var n=r(8)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var n=r(51),i=r(8)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},function(e,t,r){"use strict";var n=r(13),i=r(37);e.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},function(e,t,r){var n=r(60),i=r(8)("iterator"),o=r(51);e.exports=r(11).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){"use strict";var n=r(14),i=r(41),o=r(9);e.exports=function(e){for(var t=n(this),r=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,u=void 0===c?r:i(c,r);u>s;)t[s++]=e;return t}},function(e,t,r){"use strict";var n=r(45),i=r(162),o=r(51),a=r(20);e.exports=r(103)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(e,t,r){"use strict";var n=r(71),i=RegExp.prototype.exec,o=String.prototype.replace,a=i,s=function(){var e=/a/,t=/b*/g;return i.call(e,"a"),i.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=void 0!==/()??/.exec("")[1];(s||c)&&(a=function(e){var t,r,a,u,l=this;return c&&(r=new RegExp("^"+l.source+"$(?!\\s)",n.call(l))),s&&(t=l.lastIndex),a=i.call(l,e),s&&a&&(l.lastIndex=l.global?a.index+a[0].length:t),c&&a&&a.length>1&&o.call(a[0],r,function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(a[u]=void 0)}),a}),e.exports=a},function(e,t,r){"use strict";var n=r(102)(!0);e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n,i,o,a=r(23),s=r(151),c=r(95),u=r(91),l=r(4),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},d=function(e){delete _[e]},"process"==r(29)(f)?n=function(e){f.nextTick(a(g,e,1))}:m&&m.now?n=function(e){m.now(a(g,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=y,n=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),e.exports={set:p,clear:d}},function(e,t,r){"use strict";var n=r(4),i=r(12),o=r(39),a=r(77),s=r(19),c=r(54),u=r(5),l=r(53),f=r(25),p=r(9),d=r(170),h=r(43).f,m=r(13).f,v=r(110),_=r(49),g="prototype",y="Wrong index!",b=n.ArrayBuffer,w=n.DataView,S=n.Math,x=n.RangeError,E=n.Infinity,k=b,T=S.abs,R=S.pow,C=S.floor,A=S.log,P=S.LN2,O=i?"_b":"buffer",M=i?"_l":"byteLength",I=i?"_o":"byteOffset";function N(e,t,r){var n,i,o,a=new Array(r),s=8*r-t-1,c=(1<<s)-1,u=c>>1,l=23===t?R(2,-24)-R(2,-77):0,f=0,p=e<0||0===e&&1/e<0?1:0;for((e=T(e))!=e||e===E?(i=e!=e?1:0,n=c):(n=C(A(e)/P),e*(o=R(2,-n))<1&&(n--,o*=2),(e+=n+u>=1?l/o:l*R(2,1-u))*o>=2&&(n++,o/=2),n+u>=c?(i=0,n=c):n+u>=1?(i=(e*o-1)*R(2,t),n+=u):(i=e*R(2,u-1)*R(2,t),n=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;a[f++]=255&n,n/=256,s-=8);return a[--f]|=128*p,a}function j(e,t,r){var n,i=8*r-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=r-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=t;s>0;n=256*n+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===o)return n?NaN:u?-E:E;n+=R(2,t),l-=a}return(u?-1:1)*n*R(2,l-t)}function D(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function L(e){return[255&e,e>>8&255]}function F(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return N(e,52,8)}function H(e){return N(e,23,4)}function q(e,t,r){m(e[g],t,{get:function(){return this[r]}})}function V(e,t,r,n){var i=d(+r);if(i+t>e[M])throw x(y);var o=e[O]._b,a=i+e[I],s=o.slice(a,a+t);return n?s:s.reverse()}function z(e,t,r,n,i,o){var a=d(+r);if(a+t>e[M])throw x(y);for(var s=e[O]._b,c=a+e[I],u=n(+i),l=0;l<t;l++)s[c+l]=u[o?l:t-l-1]}if(a.ABV){if(!u(function(){b(1)})||!u(function(){new b(-1)})||u(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var G,X=(b=function(e){return l(this,b),new k(d(e))})[g]=k[g],K=h(k),W=0;K.length>W;)(G=K[W++])in b||s(b,G,k[G]);o||(X.constructor=b)}var Y=new w(new b(2)),$=w[g].setInt8;Y.setInt8(0,2147483648),Y.setInt8(1,2147483649),!Y.getInt8(0)&&Y.getInt8(1)||c(w[g],{setInt8:function(e,t){$.call(this,e,t<<24>>24)},setUint8:function(e,t){$.call(this,e,t<<24>>24)}},!0)}else b=function(e){l(this,b,"ArrayBuffer");var t=d(e);this._b=v.call(new Array(t),0),this[M]=t},w=function(e,t,r){l(this,w,"DataView"),l(e,b,"DataView");var n=e[M],i=f(t);if(i<0||i>n)throw x("Wrong offset!");if(i+(r=void 0===r?n-i:p(r))>n)throw x("Wrong length!");this[O]=e,this[I]=i,this[M]=r},i&&(q(b,"byteLength","_l"),q(w,"buffer","_b"),q(w,"byteLength","_l"),q(w,"byteOffset","_o")),c(w[g],{getInt8:function(e){return V(this,1,e)[0]<<24>>24},getUint8:function(e){return V(this,1,e)[0]},getInt16:function(e){var t=V(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=V(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return D(V(this,4,e,arguments[1]))},getUint32:function(e){return D(V(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return j(V(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return j(V(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){z(this,1,e,B,t)},setUint8:function(e,t){z(this,1,e,B,t)},setInt16:function(e,t){z(this,2,e,L,t,arguments[2])},setUint16:function(e,t){z(this,2,e,L,t,arguments[2])},setInt32:function(e,t){z(this,4,e,F,t,arguments[2])},setUint32:function(e,t){z(this,4,e,F,t,arguments[2])},setFloat32:function(e,t){z(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){z(this,8,e,U,t,arguments[2])}});_(b,"ArrayBuffer"),_(w,"DataView"),s(w[g],a.VIEW,!0),t.ArrayBuffer=b,t.DataView=w},function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(e,t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return"object"===(void 0===e?"undefined":r(e))?null!==e:"function"==typeof e}},function(e,t,r){e.exports=!r(175)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){var t=void 0===e?"undefined":n(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";var n=r(121).Symbol;e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(122),o="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,a=i||o||Function("return this")();e.exports=a},function(e,t,r){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t;e.exports=n}).call(this,r(35))},function(e,t,r){"use strict";var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,c){if(c=(0,i.default)(c||n.default),e<=0||!t)return c(null);var u=(0,o.default)(t),l=!1,f=0;function p(e,t){if(f-=1,e)l=!0,c(e);else{if(t===s.default||l&&f<=0)return l=!0,c(null);d()}}function d(){for(;f<e&&!l;){var t=u();if(null===t)return l=!0,void(f<=0&&c(null));f+=1,r(t.value,t.key,(0,a.default)(p))}}d()}};var n=c(r(47)),i=c(r(86)),o=c(r(207)),a=c(r(88)),s=c(r(124));function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";var n=Array.isArray;e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o){o=o||n.default,t=t||[];var a=[],s=0,c=(0,i.default)(r);e(t,function(e,t,r){var n=s++;c(e,function(e,t){a[n]=t,r(e)})},function(e){o(e,a)})};var n=o(r(47)),i=o(r(32));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t){var r=e.prototype;if(Object.create){var n=Object.create(t.prototype);r.__proto__=n}if(!(r instanceof t)){var o=function(){};o.prototype=t.prototype,i(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var a="http://www.w3.org/1999/xhtml",s={},c=s.ELEMENT_NODE=1,u=s.ATTRIBUTE_NODE=2,l=s.TEXT_NODE=3,f=s.CDATA_SECTION_NODE=4,p=s.ENTITY_REFERENCE_NODE=5,d=s.ENTITY_NODE=6,h=s.PROCESSING_INSTRUCTION_NODE=7,m=s.COMMENT_NODE=8,v=s.DOCUMENT_NODE=9,_=s.DOCUMENT_TYPE_NODE=10,g=s.DOCUMENT_FRAGMENT_NODE=11,y=s.NOTATION_NODE=12,b={},w={},S=(b.INDEX_SIZE_ERR=(w[1]="Index size error",1),b.DOMSTRING_SIZE_ERR=(w[2]="DOMString size error",2),b.HIERARCHY_REQUEST_ERR=(w[3]="Hierarchy request error",3)),x=(b.WRONG_DOCUMENT_ERR=(w[4]="Wrong document",4),b.INVALID_CHARACTER_ERR=(w[5]="Invalid character",5),b.NO_DATA_ALLOWED_ERR=(w[6]="No data allowed",6),b.NO_MODIFICATION_ALLOWED_ERR=(w[7]="No modification allowed",7),b.NOT_FOUND_ERR=(w[8]="Not found",8)),E=(b.NOT_SUPPORTED_ERR=(w[9]="Not supported",9),b.INUSE_ATTRIBUTE_ERR=(w[10]="Attribute in use",10));b.INVALID_STATE_ERR=(w[11]="Invalid state",11),b.SYNTAX_ERR=(w[12]="Syntax error",12),b.INVALID_MODIFICATION_ERR=(w[13]="Invalid modification",13),b.NAMESPACE_ERR=(w[14]="Invalid namespace",14),b.INVALID_ACCESS_ERR=(w[15]="Invalid access",15);function k(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,w[e]),this.message=w[e],Error.captureStackTrace&&Error.captureStackTrace(this,k);return r.code=e,t&&(this.message=this.message+": "+t),r}function T(){}function R(e,t){this._node=e,this._refresh=t,C(this)}function C(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ie(e,"length",r.length),i(r,e),e._inc=t}}function A(){}function P(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function O(e,t,r,n){if(n?t[P(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&L(i,e,n),function(e,t,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&(t._nsMap[r.prefix?r.localName:""]=r.value)}(i,e,r))}}function M(e,t,r){var n=P(t,r);if(!(n>=0))throw k(x,new Error(e.tagName+"@"+r));for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var o=e.ownerDocument;o&&(L(o,e,r),r.ownerElement=null)}}function I(e){if(this._features={},e)for(var t in e)this._features=e[t]}function N(){}function j(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function D(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(D(e,t))return!0}while(e=e.nextSibling)}function B(){}function L(e,t,r,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==r.namespaceURI&&delete t._nsMap[r.prefix?r.localName:""]}function F(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,o=0;i;)n[o++]=i,i=i.nextSibling;n.length=o}}}function U(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,F(e.ownerDocument,e),t}function H(e,t,r){var n=t.parentNode;if(n&&n.removeChild(t),t.nodeType===g){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=r?r.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=r,a?a.nextSibling=i:e.firstChild=i,null==r?e.lastChild=o:r.previousSibling=o;do{i.parentNode=e}while(i!==o&&(i=i.nextSibling));return F(e.ownerDocument||e,e),t.nodeType==g&&(t.firstChild=t.lastChild=null),t}function q(){this._nsMap={}}function V(){}function z(){}function G(){}function X(){}function K(){}function W(){}function Y(){}function $(){}function J(){}function Q(){}function Z(){}function ee(){}function te(e,t){var r=[],n=9==this.nodeType?this.documentElement:this,i=n.prefix,o=n.namespaceURI;if(o&&null==i&&null==(i=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return ne(this,r,e,t,a),r.join("")}function re(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!n&&!i)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=r.length;o--;){var a=r[o];if(a.prefix==n)return a.namespace!=i}return!0}function ne(e,t,r,n,i){if(n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:i||(i=[]);i.length;var o=e.attributes,s=o.length,d=e.firstChild,y=e.tagName;r=a===e.namespaceURI||r,t.push("<",y);for(var b=0;b<s;b++){"xmlns"==(w=o.item(b)).prefix?i.push({prefix:w.localName,namespace:w.value}):"xmlns"==w.nodeName&&i.push({prefix:"",namespace:w.value})}for(b=0;b<s;b++){var w;if(re(w=o.item(b),0,i)){var S=w.prefix||"",x=w.namespaceURI,E=S?" xmlns:"+S:" xmlns";t.push(E,'="',x,'"'),i.push({prefix:S,namespace:x})}ne(w,t,r,n,i)}if(re(e,0,i)){S=e.prefix||"",x=e.namespaceURI,E=S?" xmlns:"+S:" xmlns";t.push(E,'="',x,'"'),i.push({prefix:S,namespace:x})}if(d||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),r&&/^script$/i.test(y))for(;d;)d.data?t.push(d.data):ne(d,t,r,n,i),d=d.nextSibling;else for(;d;)ne(d,t,r,n,i),d=d.nextSibling;t.push("</",y,">")}else t.push("/>");return;case v:case g:for(d=e.firstChild;d;)ne(d,t,r,n,i),d=d.nextSibling;return;case u:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,j),'"');case l:return t.push(e.data.replace(/[<&]/g,j));case f:return t.push("<![CDATA[",e.data,"]]>");case m:return t.push("\x3c!--",e.data,"--\x3e");case _:var k=e.publicId,T=e.systemId;if(t.push("<!DOCTYPE ",e.name),k)t.push(' PUBLIC "',k),T&&"."!=T&&t.push('" "',T),t.push('">');else if(T&&"."!=T)t.push(' SYSTEM "',T,'">');else{var R=e.internalSubset;R&&t.push(" [",R,"]"),t.push(">")}return;case h:return t.push("<?",e.target," ",e.data,"?>");case p:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ie(e,t,r){e[t]=r}k.prototype=Error.prototype,i(b,k),T.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)ne(this[n],r,e,t);return r.join("")}},R.prototype.item=function(e){return C(this),this[e]},o(R,T),A.prototype={length:0,item:T.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new k(E);var r=this.getNamedItem(e.nodeName);return O(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t,r=e.ownerElement;if(r&&r!=this._ownerElement)throw new k(E);return t=this.getNamedItemNS(e.namespaceURI,e.localName),O(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return M(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return M(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}},I.prototype={hasFeature:function(e,t){var r=this._features[e.toLowerCase()];return!(!r||t&&!(t in r))},createDocument:function(e,t,r){var n=new B;if(n.implementation=this,n.childNodes=new T,n.doctype=r,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new W;return n.name=e,n.nodeName=e,n.publicId=t,n.systemId=r,n}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return H(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return U(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,r,i){var o=new r.constructor;for(var a in r){var s=r[a];"object"!=(void 0===s?"undefined":n(s))&&s!=o[a]&&(o[a]=s)}r.childNodes&&(o.childNodes=new T);o.ownerDocument=t;switch(o.nodeType){case c:var l=r.attributes,f=o.attributes=new A,p=l.length;f._ownerElement=o;for(var d=0;d<p;d++)o.setAttributeNode(e(t,l.item(d),!0));break;case u:i=!0}if(i)for(var h=r.firstChild;h;)o.appendChild(e(t,h,i)),h=h.nextSibling;return o}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==l&&e.nodeType==l?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r)for(var n in r)if(r[n]==e)return n;t=t.nodeType==u?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&e in r)return r[e];t=t.nodeType==u?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},i(s,N),i(s,N.prototype),B.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==g){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return null==this.documentElement&&e.nodeType==c&&(this.documentElement=e),H(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),U(this,e)},importNode:function(e,t){return function e(t,r,n){var i;switch(r.nodeType){case c:(i=r.cloneNode(!1)).ownerDocument=t;case g:break;case u:n=!0}i||(i=r.cloneNode(!1));i.ownerDocument=t;i.parentNode=null;if(n)for(var o=r.firstChild;o;)i.appendChild(e(t,o,n)),o=o.nextSibling;return i}(this,e,t)},getElementById:function(e){var t=null;return D(this.documentElement,function(r){if(r.nodeType==c&&r.getAttribute("id")==e)return t=r,!0}),t},createElement:function(e){var t=new q;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new T,(t.attributes=new A)._ownerElement=t,t},createDocumentFragment:function(){var e=new Q;return e.ownerDocument=this,e.childNodes=new T,e},createTextNode:function(e){var t=new G;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new X;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new K;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new Z;return r.ownerDocument=this,r.tagName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new V;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new q,n=t.split(":"),i=r.attributes=new A;return r.childNodes=new T,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new V,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,2==n.length?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}},o(B,N),q.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===g?this.insertBefore(e,null):function(e,t){var r=t.parentNode;if(r){var n=e.lastChild;r.removeChild(t),n=e.lastChild}return n=e.lastChild,t.parentNode=e,t.previousSibling=n,t.nextSibling=null,n?n.nextSibling=t:e.firstChild=t,e.lastChild=t,F(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new R(this,function(t){var r=[];return D(t,function(n){n===t||n.nodeType!=c||"*"!==e&&n.tagName!=e||r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new R(this,function(r){var n=[];return D(r,function(i){i===r||i.nodeType!==c||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||n.push(i)}),n})}},B.prototype.getElementsByTagName=q.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=q.prototype.getElementsByTagNameNS,o(q,N),V.prototype.nodeType=u,o(V,N),z.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(w[S])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){r=this.data.substring(0,e)+r+this.data.substring(e+t),this.nodeValue=this.data=r,this.length=r.length}},o(z,N),G.prototype={nodeName:"#text",nodeType:l,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},o(G,z),X.prototype={nodeName:"#comment",nodeType:m},o(X,z),K.prototype={nodeName:"#cdata-section",nodeType:f},o(K,z),W.prototype.nodeType=_,o(W,N),Y.prototype.nodeType=y,o(Y,N),$.prototype.nodeType=d,o($,N),J.prototype.nodeType=p,o(J,N),Q.prototype.nodeName="#document-fragment",Q.prototype.nodeType=g,o(Q,N),Z.prototype.nodeType=h,o(Z,N),ee.prototype.serializeToString=function(e,t,r){return te.call(e,t,r)},N.prototype.toString=te;try{if(Object.defineProperty){Object.defineProperty(R.prototype,"length",{get:function(){return C(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case c:case g:var r=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case c:case g:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ie=function(e,t,r){e["$$"+t]=r}}}catch(e){}t.DOMImplementation=I,t.XMLSerializer=ee},function(e,t,r){"use strict";var n=function(e){var t={},r=function(e){return!t[e]&&(t[e]=[]),t[e]};e.on=function(e,t){"task-list-update"===e&&console.warn('warning: Event "'+e+'" has been deprecated. Please use "list-update" instead.'),r(e).push(t)},e.off=function(e,t){for(var n=r(e),i=n.length-1;i>=0;i--)t===n[i]&&n.splice(i,1)},e.emit=function(e,t){for(var n=r(e).map(function(e){return e}),i=0;i<n.length;i++)n[i](t)}};e.exports.init=n,e.exports.EventProxy=function(){n(this)}},function(e,t,r){"use strict";e.exports=r(244)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(17),i=r(248),o=r(250),a=r(251),s=r(252),c=r(133),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(253);e.exports=function(e){return new Promise(function(t,l){var f=e.data,p=e.headers;n.isFormData(f)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,h="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var v=e.auth.username||"",_=e.auth.password||"";p.Authorization="Basic "+u(v+":"+_)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[h]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};i(t,l,n),d=null}},d.onerror=function(){l(c("Network Error",e,null,d)),d=null},d.ontimeout=function(){l(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var g=r(254),y=(e.withCredentials||s(e.url))&&e.xsrfCookieName?g.read(e.xsrfCookieName):void 0;y&&(p[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&n.forEach(p,function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete p[t]:d.setRequestHeader(t,e)}),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){d&&(d.abort(),l(e),d=null)}),void 0===f&&(f=null),d.send(f)})}},function(e,t,r){"use strict";var n=r(249);e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,o,a){return e((0,n.default)(r),t,(0,i.default)(o),a)}};var n=o(r(125)),i=o(r(32));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t=(0,o.default)(t||i.default),!(0,n.default)(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var r=0;function u(t){var n=(0,c.default)(e[r++]);t.push((0,s.default)(l)),n.apply(null,t)}function l(n){if(n||r===e.length)return t.apply(null,arguments);u((0,a.default)(arguments,1))}u([])};var n=u(r(126)),i=u(r(47)),o=u(r(86)),a=u(r(82)),s=u(r(88)),c=u(r(32));function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c,u){"object"===a(t)?e.exports=t=c(r(10),r(139),r(64)):(i=[r(10),r(139),r(64)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return e.HmacSHA256})},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c){"object"===a(t)?e.exports=t=c(r(10)):(i=[r(10)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[],c=[];!function(){function e(e){for(var r=t.sqrt(e),n=2;n<=r;n++)if(!(e%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)e(n)&&(i<8&&(s[i]=r(t.pow(n,.5))),c[i]=r(t.pow(n,1/3)),i++),n++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],p=r[7],d=0;d<64;d++){if(d<16)u[d]=0|e[t+d];else{var h=u[d-15],m=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,v=u[d-2],_=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;u[d]=m+u[d-7]+_+u[d-16]}var g=n&i^n&o^i&o,y=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),b=p+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[d]+u[d];p=f,f=l,l=s,s=a+b|0,a=o,o=i,i=n,n=b+(y+g)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+p|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=t.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,e.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});r.SHA256=o._createHelper(l),r.HmacSHA256=o._createHmacHelper(l)}(Math),e.SHA256})},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c){"object"===a(t)?e.exports=t=c(r(10)):(i=[r(10)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return function(t){var r=e,n=r.lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[];!function(){for(var e=0;e<64;e++)s[e]=4294967296*t.abs(t.sin(e+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],d=e[t+2],h=e[t+3],m=e[t+4],v=e[t+5],_=e[t+6],g=e[t+7],y=e[t+8],b=e[t+9],w=e[t+10],S=e[t+11],x=e[t+12],E=e[t+13],k=e[t+14],T=e[t+15],R=o[0],C=o[1],A=o[2],P=o[3];C=p(C=p(C=p(C=p(C=f(C=f(C=f(C=f(C=l(C=l(C=l(C=l(C=u(C=u(C=u(C=u(C,A=u(A,P=u(P,R=u(R,C,A,P,a,7,s[0]),C,A,c,12,s[1]),R,C,d,17,s[2]),P,R,h,22,s[3]),A=u(A,P=u(P,R=u(R,C,A,P,m,7,s[4]),C,A,v,12,s[5]),R,C,_,17,s[6]),P,R,g,22,s[7]),A=u(A,P=u(P,R=u(R,C,A,P,y,7,s[8]),C,A,b,12,s[9]),R,C,w,17,s[10]),P,R,S,22,s[11]),A=u(A,P=u(P,R=u(R,C,A,P,x,7,s[12]),C,A,E,12,s[13]),R,C,k,17,s[14]),P,R,T,22,s[15]),A=l(A,P=l(P,R=l(R,C,A,P,c,5,s[16]),C,A,_,9,s[17]),R,C,S,14,s[18]),P,R,a,20,s[19]),A=l(A,P=l(P,R=l(R,C,A,P,v,5,s[20]),C,A,w,9,s[21]),R,C,T,14,s[22]),P,R,m,20,s[23]),A=l(A,P=l(P,R=l(R,C,A,P,b,5,s[24]),C,A,k,9,s[25]),R,C,h,14,s[26]),P,R,y,20,s[27]),A=l(A,P=l(P,R=l(R,C,A,P,E,5,s[28]),C,A,d,9,s[29]),R,C,g,14,s[30]),P,R,x,20,s[31]),A=f(A,P=f(P,R=f(R,C,A,P,v,4,s[32]),C,A,y,11,s[33]),R,C,S,16,s[34]),P,R,k,23,s[35]),A=f(A,P=f(P,R=f(R,C,A,P,c,4,s[36]),C,A,m,11,s[37]),R,C,g,16,s[38]),P,R,w,23,s[39]),A=f(A,P=f(P,R=f(R,C,A,P,E,4,s[40]),C,A,a,11,s[41]),R,C,h,16,s[42]),P,R,_,23,s[43]),A=f(A,P=f(P,R=f(R,C,A,P,b,4,s[44]),C,A,x,11,s[45]),R,C,T,16,s[46]),P,R,d,23,s[47]),A=p(A,P=p(P,R=p(R,C,A,P,a,6,s[48]),C,A,g,10,s[49]),R,C,k,15,s[50]),P,R,v,21,s[51]),A=p(A,P=p(P,R=p(R,C,A,P,x,6,s[52]),C,A,h,10,s[53]),R,C,w,15,s[54]),P,R,c,21,s[55]),A=p(A,P=p(P,R=p(R,C,A,P,y,6,s[56]),C,A,T,10,s[57]),R,C,_,15,s[58]),P,R,E,21,s[59]),A=p(A,P=p(P,R=p(R,C,A,P,m,6,s[60]),C,A,S,10,s[61]),R,C,d,15,s[62]),P,R,b,21,s[63]),o[0]=o[0]+R|0,o[1]=o[1]+C|0,o[2]=o[2]+A|0,o[3]=o[3]+P|0},_doFinalize:function(){var e=this._data,r=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;r[i>>>5]|=128<<24-i%32;var o=t.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),e.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function p(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}r.MD5=o._createHelper(c),r.HmacMD5=o._createHmacHelper(c)}(Math),e.MD5})},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c){"object"===a(t)?e.exports=t=c(r(10)):(i=[r(10)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,i=r.Hasher,o=[],a=t.algo.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=0;u<80;u++){if(u<16)o[u]=0|e[t+u];else{var l=o[u-3]^o[u-8]^o[u-14]^o[u-16];o[u]=l<<1|l>>>31}var f=(n<<5|n>>>27)+c+o[u];f+=u<20?1518500249+(i&a|~i&s):u<40?1859775393+(i^a^s):u<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,c=s,s=a,a=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),e.SHA1})},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c,u){"object"===a(t)?e.exports=t=c(r(10),r(65)):(i=[r(10),r(65)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,i=n.Base,o=n.WordArray,a=n.BufferedBlockAlgorithm,s=r.enc,c=(s.Utf8,s.Base64),u=r.algo.EvpKDF,l=n.Cipher=a.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?y:_}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),f=(n.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),r.mode={}),p=n.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),d=f.CBC=function(){var e=p.extend();function r(e,r,n){var i=this._iv;if(i){var o=i;this._iv=t}else o=this._prevBlock;for(var a=0;a<n;a++)e[r+a]^=o[a]}return e.Encryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;r.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=e.slice(t,t+i);n.decryptBlock(e,t),r.call(this,e,t,i),this._prevBlock=o}}),e}(),h=(r.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,a=[],s=0;s<n;s+=4)a.push(i);var c=o.create(a,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(n.BlockCipher=l.extend({cfg:l.cfg.extend({mode:d,padding:h}),reset:function(){l.reset.call(this);var e=this.cfg,t=e.iv,r=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=r.createEncryptor;else{n=r.createDecryptor;this._minBufferSize=1}this._mode&&this._mode.__creator==n?this._mode.init(this,t&&t.words):(this._mode=n.call(r,this,t&&t.words),this._mode.__creator=n)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{t=this._process(!0);e.unpad(t)}return t},blockSize:4}),n.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),v=(r.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;if(r)var n=o.create([1398893684,1701076831]).concat(r).concat(t);else n=t;return n.toString(c)},parse:function(e){var t=c.parse(e),r=t.words;if(1398893684==r[0]&&1701076831==r[1]){var n=o.create(r.slice(2,4));r.splice(0,4),t.sigBytes-=16}return m.create({ciphertext:t,salt:n})}},_=n.SerializableCipher=i.extend({cfg:i.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),a=i.cfg;return m.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),g=(r.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=o.random(8));var i=u.create({keySize:t+r}).compute(e,n),a=o.create(i.words.slice(t),4*r);return i.sigBytes=4*t,m.create({key:i,iv:a,salt:n})}},y=n.PasswordBasedCipher=_.extend({cfg:_.cfg.extend({kdf:g}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=_.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,_.decrypt.call(this,e,t,i.key,n)}})}()})},function(e,t,r){e.exports=!r(12)&&!r(5)(function(){return 7!=Object.defineProperty(r(91)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(4),i=r(11),o=r(39),a=r(92),s=r(13).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,r){var n=r(18),i=r(20),o=r(67)(!1),a=r(93)("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(u,r)||u.push(r));return u}},function(e,t,r){var n=r(13),i=r(6),o=r(40);e.exports=r(12)?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},function(e,t,r){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(20),o=r(43).f,a={}.toString,s="object"==("undefined"==typeof window?"undefined":n(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(i(e))}},function(e,t,r){"use strict";var n=r(12),i=r(40),o=r(68),a=r(59),s=r(14),c=r(58),u=Object.assign;e.exports=!u||r(5)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var r=s(e),u=arguments.length,l=1,f=o.f,p=a.f;u>l;)for(var d,h=c(arguments[l++]),m=f?i(h).concat(f(h)):i(h),v=m.length,_=0;v>_;)d=m[_++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:u},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n=r(24),i=r(7),o=r(151),a=[].slice,s={};e.exports=Function.bind||function(e){var t=n(this),r=a.call(arguments,1),c=function n(){var i=r.concat(a.call(arguments));return this instanceof n?function(e,t,r){if(!(t in s)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";s[t]=Function("F,a","return new F("+n.join(",")+")")}return s[t](e,r)}(t,i.length,i):o(t,i,e)};return i(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,r){var n=r(4).parseInt,i=r(50).trim,o=r(97),a=/^[-+]?0[xX]/;e.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(e,t){var r=i(String(e),3);return n(r,t>>>0||(a.test(r)?16:10))}:n},function(e,t,r){var n=r(4).parseFloat,i=r(50).trim;e.exports=1/n(r(97)+"-0")!=-1/0?function(e){var t=i(String(e),3),r=n(t);return 0===r&&"-"==t.charAt(0)?-0:r}:n},function(e,t,r){var n=r(29);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,r){var n=r(7),i=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){"use strict";var n=r(42),i=r(37),o=r(49),a={};r(19)(a,r(8)("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},function(e,t,r){var n=r(6);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(364);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,r){var n=r(24),i=r(14),o=r(58),a=r(9);e.exports=function(e,t,r,s,c){n(t);var u=i(e),l=o(u),f=a(u.length),p=c?f-1:0,d=c?-1:1;if(r<2)for(;;){if(p in l){s=l[p],p+=d;break}if(p+=d,c?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;c?p>=0:f>p;p+=d)p in l&&(s=t(s,l[p],p,u));return s}},function(e,t,r){"use strict";var n=r(14),i=r(41),o=r(9);e.exports=[].copyWithin||function(e,t){var r=n(this),a=o(r.length),s=i(e,a),c=i(t,a),u=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===u?a:i(u,a))-c,a-s),f=1;for(c<s&&s<c+l&&(f=-1,c+=l-1,s+=l-1);l-- >0;)c in r?r[s]=r[c]:delete r[s],s+=f,c+=f;return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){"use strict";var n=r(112);r(2)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,r){r(12)&&"g"!=/./g.flags&&r(13).f(RegExp.prototype,"flags",{configurable:!0,get:r(71)})},function(e,t,r){"use strict";var n,i,o,a,s=r(39),c=r(4),u=r(23),l=r(60),f=r(2),p=r(7),d=r(24),h=r(53),m=r(74),v=r(61),_=r(114).set,g=r(384)(),y=r(166),b=r(385),w=r(75),S=r(167),x=c.TypeError,E=c.process,k=E&&E.versions,T=k&&k.v8||"",R=c.Promise,C="process"==l(E),A=function(){},P=i=y.f,O=!!function(){try{var e=R.resolve(1),t=(e.constructor={})[r(8)("species")]=function(e){e(A,A)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(i||(2==e._h&&D(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),a=!0)),r===t.promise?u(x("Promise-chain cycle")):(o=M(r))?o.call(r,c,u):c(r)):u(n)}catch(e){l&&!a&&l.exit(),u(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){_.call(c,function(){var t,r,n,i=e._v,o=j(e);if(o&&(t=b(function(){C?E.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=C||j(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){_.call(c,function(){var t;C?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},L=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(r=M(t))?g(function(){var i={_w:n,_d:!1};try{r.call(t,u(e,i,1),u(B,i,1))}catch(e){B.call(i,e)}}):(n._v=t,n._s=1,I(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};O||(R=function(e){h(this,R,"Promise","_h"),d(e),n.call(this);try{e(u(L,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(54)(R.prototype,{then:function(e,t){var r=P(v(this,R));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=u(L,e,1),this.reject=u(B,e,1)},y.f=P=function(e){return e===R||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!O,{Promise:R}),r(49)(R,"Promise"),r(52)("Promise"),a=r(11).Promise,f(f.S+f.F*!O,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(e){return S(s&&this===a?R:this,e)}}),f(f.S+f.F*!(O&&r(70)(function(e){R.all(e).catch(A)})),"Promise",{all:function(e){var t=this,r=P(t),n=r.resolve,i=r.reject,o=b(function(){var r=[],o=0,a=1;m(e,!1,function(e){var s=o++,c=!1;r.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,i=b(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},function(e,t,r){"use strict";var n=r(24);e.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},function(e,t,r){var n=r(6),i=r(7),o=r(166);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){"use strict";var n=r(13).f,i=r(42),o=r(54),a=r(23),s=r(53),c=r(74),u=r(103),l=r(162),f=r(52),p=r(12),d=r(34).fastKey,h=r(46),m=p?"_s":"size",v=function(e,t){var r,n=d(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,u){var l=e(function(e,n){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,void 0!=n&&c(n,r,e[u],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=h(this,t),n=v(r,e);if(n){var i=n.n,o=n.p;delete r._i[n.i],n.r=!0,o&&(o.n=i),i&&(i.p=o),r._f==n&&(r._f=i),r._l==n&&(r._l=o),r[m]--}return!!n},forEach:function(e){h(this,t);for(var r,n=a(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!v(h(this,t),e)}}),p&&n(l.prototype,"size",{get:function(){return h(this,t)[m]}}),l},def:function(e,t,r){var n,i,o=v(e,t);return o?o.v=r:(e._l=o={i:i=d(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=o),n&&(n.n=o),e[m]++,"F"!==i&&(e._i[i]=o)),e},getEntry:v,setStrong:function(e,t,r){u(e,t,function(e,r){this._t=h(e,t),this._k=r,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},r?"entries":"values",!r,!0),f(t)}}},function(e,t,r){"use strict";var n=r(54),i=r(34).getWeak,o=r(6),a=r(7),s=r(53),c=r(74),u=r(28),l=r(18),f=r(46),p=u(5),d=u(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},_=function(e,t){return p(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var r=_(this,e);r?r[1]=t:this.a.push([e,t])},delete:function(e){var t=d(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,o){var u=e(function(e,n){s(e,u,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=n&&c(n,r,e[o],e)});return n(u.prototype,{delete:function(e){if(!a(e))return!1;var r=i(e);return!0===r?m(f(this,t)).delete(e):r&&l(r,this._i)&&delete r[this._i]},has:function(e){if(!a(e))return!1;var r=i(e);return!0===r?m(f(this,t)).has(e):r&&l(r,this._i)}}),u},def:function(e,t,r){var n=i(o(t),!0);return!0===n?m(e).set(t,r):n[e._i]=r,e},ufstore:m}},function(e,t,r){var n=r(25),i=r(9);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,r){var n=r(43),i=r(68),o=r(6),a=r(4).Reflect;e.exports=a&&a.ownKeys||function(e){var t=n.f(o(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(9),i=r(99),o=r(30);e.exports=function(e,t,r,a){var s=String(o(e)),c=s.length,u=void 0===r?" ":String(r),l=n(t);if(l<=c||""==u)return s;var f=l-c,p=i.call(u,Math.ceil(f/u.length));return p.length>f&&(p=p.slice(0,f)),a?p+s:s+p}},function(e,t,r){var n=r(12),i=r(40),o=r(20),a=r(59).f;e.exports=function(e){return function(t){for(var r,s=o(t),c=i(s),u=c.length,l=0,f=[];u>l;)r=c[l++],n&&!a.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}}},function(e,t){var r=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=r)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"shimGetUserMedia",function(){return x}),r.d(n,"shimGetDisplayMedia",function(){return E}),r.d(n,"shimMediaStream",function(){return R}),r.d(n,"shimOnTrack",function(){return C}),r.d(n,"shimGetSendersWithDtmf",function(){return A}),r.d(n,"shimGetStats",function(){return P}),r.d(n,"shimSenderReceiverGetStats",function(){return O}),r.d(n,"shimAddTrackRemoveTrackWithNative",function(){return M}),r.d(n,"shimAddTrackRemoveTrack",function(){return I}),r.d(n,"shimPeerConnection",function(){return N}),r.d(n,"fixNegotiationNeeded",function(){return j});var i={};r.r(i),r.d(i,"shimGetUserMedia",function(){return L}),r.d(i,"shimGetDisplayMedia",function(){return F}),r.d(i,"shimPeerConnection",function(){return U}),r.d(i,"shimReplaceTrack",function(){return H});var o={};r.r(o),r.d(o,"shimGetUserMedia",function(){return V}),r.d(o,"shimGetDisplayMedia",function(){return z}),r.d(o,"shimOnTrack",function(){return X}),r.d(o,"shimPeerConnection",function(){return K}),r.d(o,"shimSenderGetStats",function(){return W}),r.d(o,"shimReceiverGetStats",function(){return Y}),r.d(o,"shimRemoveStream",function(){return $}),r.d(o,"shimRTCDataChannel",function(){return J}),r.d(o,"shimAddTransceiver",function(){return Q}),r.d(o,"shimCreateOffer",function(){return Z}),r.d(o,"shimCreateAnswer",function(){return ee});var a={};r.r(a),r.d(a,"shimLocalStreamsAPI",function(){return re}),r.d(a,"shimRemoteStreamsAPI",function(){return ne}),r.d(a,"shimCallbacksAPI",function(){return ie}),r.d(a,"shimGetUserMedia",function(){return oe}),r.d(a,"shimConstraints",function(){return ae}),r.d(a,"shimRTCIceServerUrls",function(){return se}),r.d(a,"shimTrackEventTransceiver",function(){return ce}),r.d(a,"shimCreateOfferLegacy",function(){return ue});var s={};r.r(s),r.d(s,"shimRTCIceCandidate",function(){return de}),r.d(s,"shimMaxMessageSize",function(){return he}),r.d(s,"shimSendThrowTypeError",function(){return me}),r.d(s,"shimConnectionState",function(){return ve}),r.d(s,"removeAllowExtmapMixed",function(){return _e});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var u=!0,l=!0;function f(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}function p(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=r(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=o,i.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return o.apply(this,arguments);var n=this._eventMap[r];return delete this._eventMap[r],o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function d(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":c(e))+". Please use a boolean."):(u=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+(void 0===e?"undefined":c(e))+". Please use a boolean."):(l=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function m(){if("object"===("undefined"==typeof window?"undefined":c(window))){if(u)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function v(e,t){l&&console.warn(e+" is deprecated, please use "+t+" instead.")}function _(e){var t=e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=f(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)r.browser="chrome",r.version=f(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=f(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=f(t.userAgent,/AppleWebKit\/(\d+)\./,1),r.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return r}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return g(e)?Object.keys(e).reduce(function(t,r){var n=g(e[r]),i=n?y(e[r]):e[r],o=n&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,i))},{}):e}function b(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(r){r.type===n&&r.trackId===t.id&&function e(t,r,n){r&&!n.has(r.id)&&(n.set(r.id,r),Object.keys(r).forEach(function(i){i.endsWith("Id")?e(t,t.get(r[i]),n):i.endsWith("Ids")&&r[i].forEach(function(r){e(t,t.get(r),n)})}))}(e,r,i)})}),i}var w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=m;function x(e){var t=e&&e.navigator;if(t.mediaDevices){var r=_(e),n=function(e){if("object"!==(void 0===e?"undefined":w(e))||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"===w(e[r])?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[i("min",r)]=n.ideal,t.optional.push(o),(o={})[i("max",r)]=n.ideal,t.optional.push(o)):(o[i("",r)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(r.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===w(e.audio)){var o=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};o((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),o(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===w(e.video)){var a=e.video.facingMode;a=a&&("object"===(void 0===a?"undefined":w(a))?a:{ideal:a});var s=r.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||s)){delete e.video.facingMode;var c=void 0;if("environment"===a.exact||"environment"===a.ideal?c=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(c=["front"]),c)return t.mediaDevices.enumerateDevices().then(function(t){var r=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return c.some(function(t){return e.label.toLowerCase().includes(t)})});return!r&&t.length&&c.includes("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=a.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=n(e.video),S("chrome: "+JSON.stringify(e)),i(e)})}e.video=n(e.video)}return S("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return r.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,r,n){i(e,function(e){t.webkitGetUserMedia(e,r,function(e){n&&n(o(e))})})}.bind(t),t.mediaDevices.getUserMedia){var a=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return i(e,function(e){return a(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(o(e))})})}}}}function E(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(function(t){var n=r.video&&r.video.width,i=r.video&&r.video.height,o=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(r)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function C(e){if("object"!==(void 0===e?"undefined":k(e))||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)p(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)}),t.stream.getTracks().forEach(function(n){var i=void 0;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function A(e){if("object"===(void 0===e?"undefined":k(e))&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach(function(e){r._senders.push(t(r,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],o.apply(this,[e]),e.getTracks().forEach(function(e){var r=t._senders.find(function(t){return t.track===e});r&&t._senders.splice(t._senders.indexOf(r),1)})}}else if("object"===(void 0===e?"undefined":k(e))&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function P(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,r=Array.prototype.slice.call(arguments),n=r[0],i=r[1],o=r[2];if(arguments.length>0&&"function"==typeof n)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof n))return t.apply(this,[]);var a=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e.stat(t)}),t[r.id]=r}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};if(arguments.length>=2){return t.apply(this,[function(e){i(s(a(e)))},n])}return new Promise(function(r,n){t.apply(e,[function(e){r(s(a(e)))},n])}).then(i,o)}}}function O(e){if("object"===(void 0===e?"undefined":k(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach(function(t){return t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return b(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var n=e.RTCPeerConnection.prototype.getReceivers;n&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=n.apply(this,[]);return t.forEach(function(t){return t._pc=e}),t}),p(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return b(t,e.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t=arguments[0],r=void 0,n=void 0,o=void 0;return this.getSenders().forEach(function(e){e.track===t&&(r?o=!0:r=e)}),this.getReceivers().forEach(function(e){return e.track===t&&(n?o=!0:n=e),e.track===t}),o||r&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):r?r.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function M(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var n=this.getSenders();r.apply(this,arguments);var i=this.getSenders().filter(function(e){return-1===n.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]}),i.apply(this,arguments)}}function I(e){if(e.RTCPeerConnection){var t=_(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return M(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(function(e){if(r.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);this._streams[r.id]=a,this._reverseStreams[a.id]=r,this.addStream(a)}return this.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t],n=T({},t,function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[function(r){var n=s(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(this,arguments).then(function(t){return s(e,t)})});e.RTCPeerConnection.prototype[t]=n[t]});var o=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),o.apply(this,arguments)):o.apply(this,arguments)};var a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=a.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};var r=void 0;Object.keys(this._streams).forEach(function(n){t._streams[n].getTracks().find(function(t){return e.track===t})&&(r=t._streams[n])}),r&&(1===r.getTracks().length?this.removeStream(this._reverseStreams[r.id]):r.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}}function N(e){var t=_(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection){var r=0===e.RTCPeerConnection.prototype.addIceCandidate.length;t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t],n=T({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=n[t]});var n=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return r||arguments[0]?t.version<78&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}}function j(e){p(e,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})}var D=r(179),B=r.n(D);function L(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}function F(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function U(e){var t=_(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var n=B()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var t=e.urls||e.url;e.url&&!e.urls&&v("RTCIceServer.url","RTCIceServer.urls");var n="string"==typeof t;return n&&(t=[t]),t=t.filter(function(e){if(0===e.indexOf("stun:"))return!1;var t=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp");return t&&!r?(r=!0,!0):t&&!r}),delete e.url,e.urls=n?t[0]:t,!!t.length}})}(e.iceServers,t.version),m("ICE servers after filtering:",e.iceServers)),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function H(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function V(e){var t=_(e),r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){v("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var i=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},o=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"===(void 0===e?"undefined":q(e))&&"object"===q(e.audio)&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),o(e)},n&&n.prototype.getSettings){var a=n.prototype.getSettings;n.prototype.getSettings=function(){var e=a.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(n&&n.prototype.applyConstraints){var s=n.prototype.applyConstraints;n.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===(void 0===e?"undefined":q(e))&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function z(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function X(e){"object"===(void 0===e?"undefined":G(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function K(e){var t=_(e);if("object"===(void 0===e?"undefined":G(e))&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){if(!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t],n=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)});e.RTCPeerConnection.prototype[t]=n[t]}),t.version<68){var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),r=e[0],o=e[1],a=e[2];return i.apply(this,[r||null]).then(function(e){if(t.version<53&&!o)try{e.forEach(function(e){e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(o,a)}}}function W(e){if("object"===(void 0===e?"undefined":G(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(this,[]);return r.forEach(function(t){return t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function Y(e){if("object"===(void 0===e?"undefined":G(e))&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(this,[]);return r.forEach(function(t){return t._pc=e}),r}),p(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function $(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;v("removeStream","removeTrack"),this.getSenders().forEach(function(r){r.track&&e.getTracks().includes(r.track)&&t.removeTrack(r)})})}function J(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function Q(e){if("object"===(void 0===e?"undefined":G(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],r=e&&"sendEncodings"in e;r&&e.sendEncodings.forEach(function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});var n=t.apply(this,arguments);if(r){var i=n.sender,o=i.getParameters();"encodings"in o||(o.encodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(o).catch(function(){})))}return n})}}function Z(e){if("object"===(void 0===e?"undefined":G(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=this,r=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(e,r)}).finally(function(){e.setParametersPromises=[]}):t.apply(this,arguments)}}}function ee(e){if("object"===(void 0===e?"undefined":G(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=this,r=arguments;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(function(){return t.apply(e,r)}).finally(function(){e.setParametersPromises=[]}):t.apply(this,arguments)}}}var te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function re(e){if("object"===(void 0===e?"undefined":te(e))&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(function(n){return t.call(r,n,e)}),e.getVideoTracks().forEach(function(n){return t.call(r,n,e)})},e.RTCPeerConnection.prototype.addTrack=function(e){for(var r=this,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i&&i.forEach(function(e){r._localStreams?r._localStreams.includes(e)||r._localStreams.push(e):r._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var r=this._localStreams.indexOf(e);if(-1!==r){this._localStreams.splice(r,1);var n=e.getTracks();this.getSenders().forEach(function(e){n.includes(e.track)&&t.removeTrack(e)})}})}}function ne(e){if("object"===(void 0===e?"undefined":te(e))&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach(function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var r=new Event("addstream");r.stream=e,t.dispatchEvent(r)}})})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}})}),t.apply(e,arguments)}}}function ie(e){if("object"===(void 0===e?"undefined":te(e))&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}}function oe(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var r=t.mediaDevices,n=r.getUserMedia.bind(r);t.mediaDevices.getUserMedia=function(e){return n(ae(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function ae(e){return e&&void 0!==e.video?Object.assign({},e,{video:y(e.video)}):e}function se(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];!o.hasOwnProperty("urls")&&o.hasOwnProperty("url")?(v("RTCIceServer.url","RTCIceServer.urls"),(o=JSON.parse(JSON.stringify(o))).urls=o.url,delete o.url,n.push(o)):n.push(e.iceServers[i])}e.iceServers=n}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}function ce(e){"object"===(void 0===e?"undefined":te(e))&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function ue(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var r=this.getTransceivers().find(function(e){return"audio"===e.receiver.track.kind});!1===e.offerToReceiveAudio&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveAudio||r||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find(function(e){return"video"===e.receiver.track.kind});!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}var le=r(57),fe=r.n(le),pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function de(e){if(e.RTCIceCandidate&&!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===(void 0===e?"undefined":pe(e))&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),n=fe.a.parseCandidate(e.candidate),i=Object.assign(r,n);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,p(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}}function he(e){if(e.RTCPeerConnection){var t=_(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){(this._sctp=null,"chrome"===t.browser&&t.version>=76)&&("plan-b"===this.getConfiguration().sdpSemantics&&Object.defineProperty(this,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}));if(function(e){if(!e||!e.sdp)return!1;var t=fe.a.splitSections(e.sdp);return t.shift(),t.some(function(e){var t=fe.a.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){var e=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),n=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),i=function(e,r){var n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);var i=fe.a.matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?n=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e),o=void 0;o=0===n&&0===i?Number.POSITIVE_INFINITY:0===n||0===i?Math.max(n,i):Math.min(n,i);var a={};Object.defineProperty(a,"maxMessageSize",{get:function(){return o}}),this._sctp=a}return r.apply(this,arguments)}}}function me(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},p(e,"datachannel",function(e){return r(e.channel,e.target),e})}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}function ve(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(function(e){var r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}}function _e(e){if(e.RTCPeerConnection){var t=_(e);if(!("chrome"===t.browser&&t.version>=71)){var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(e){return e&&e.sdp&&-1!==e.sdp.indexOf("\na=extmap-allow-mixed")&&(e.sdp=e.sdp.split("\n").filter(function(e){return"a=extmap-allow-mixed"!==e.trim()}).join("\n")),r.apply(this,arguments)}}}}!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).window,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0},r=m,c=_(e),u={browserDetails:c,commonShim:s,extractVersion:f,disableLog:d,disableWarnings:h};switch(c.browser){case"chrome":if(!n||!N||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),u;r("adapter.js shimming chrome."),u.browserShim=n,x(e),R(e),N(e),C(e),I(e),A(e),P(e),O(e),j(e),de(e),ve(e),he(e),me(e),_e(e);break;case"firefox":if(!o||!K||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),u;r("adapter.js shimming firefox."),u.browserShim=o,V(e),K(e),X(e),$(e),W(e),Y(e),J(e),Q(e),Z(e),ee(e),de(e),ve(e),he(e),me(e);break;case"edge":if(!i||!U||!t.shimEdge)return r("MS edge shim is not included in this adapter release."),u;r("adapter.js shimming edge."),u.browserShim=i,L(e),F(e),U(e),H(e),he(e),me(e);break;case"safari":if(!a||!t.shimSafari)return r("Safari shim is not included in this adapter release."),u;r("adapter.js shimming safari."),u.browserShim=a,se(e),ue(e),ie(e),re(e),ne(e),ce(e),oe(e),de(e),he(e),me(e),_e(e);break;default:r("Unsupported browser!")}}({window:window})},function(e,t,r){var n,i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){var s;if(void 0===(i="function"==typeof(n=a)?n.call(t,r,t,e):n)||(e.exports=i),s=!0,"object"===o(t)&&(e.exports=a(),s=!0),!s){var c=window.Cookies,u=window.Cookies=a();u.noConflict=function(){return window.Cookies=c,u}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(i[u]=c,e===u)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})})},function(e,t,r){"use strict";r(176);var n=r(79),i=r(80),o=r(3),a=r.n(o),s=r(1),c=r(0),u=r(78),l=r(55),f=r(56),p=r(21);t.a=function(e){var t,r=e.env||"prod",o=a.a.apiUrlMap,d=(e=Object.assign({mediaCheck:!1,initRecorder:!0},e)).appId,h=e.onError,m=e.onState,v=e.onSave||function(){},_=null,g=[],y=[],b=[],w=!1,S=!1,x=null,E=o[r],k=e.mediaCheck,T=a.a.state,R="",C=e.audioFormat||"wav",A=!0,P=e.initRecorder,O=null,M=3;this.start=function(e){if($("start"))if(c.a.log({message:"sdk call start, state now: "+I.state}),I.recorder)if(A=!0,k)s.a._checkUserMedia(G.call(null,e),X);else{var t=G(e);t()}else J(null,{_initRecorderFlag:P,code:1102,message:"call start() error when initRecorderFlag is "+P});else c.a.log({message:"sdk call start fail, state now: "+I.state})},this.fileEvaluaterStart=function(r){if($("start")){if(c.a.log({message:"sdk call fileEvaluaterStart, state now: "+I.state+" "}),!r.binaryArr)throw c.a.log({message:"binaryArr params error in fileEvaluaterStart function"}),new Error("binaryArr params error in fileEvaluaterStart function");var n=e.userId;_=r,R=n+"|"+s.a._generateUniqStr(12),r.audioFormat=r.audioFormat||C,t.sendAudioInfo(r,R),Z(T.AUDIO_RECORDING);var i=r.binaryArr,o=0;$("sendAudioStream")&&function e(){if(i.byteLength!==o){var r=i.byteLength-o>=24e3?24e3:i.byteLength-o,n=i.slice(o,o+r);o+=n.byteLength,t.sendAudioStream(n,R),e()}else{if(!$("stop"))return;K()}}()}else c.a.log({message:"sdk call fileEvaluaterStart fail, state now: "+I.state+" "})},this.startPCMEvaluation=function(r){if($("start"))if(c.a.log({message:"sdk call startPCMEvaluation, state now: "+I.state+", info: "+JSON.stringify(r)}),O){var n=_=r;A=!0;var i=e.userId;R=i+"|"+s.a._generateUniqStr(12),n.audioFormat=C,t.sendAudioInfo(n,R),Z(T.AUDIO_RECORDING)}else J(null,{message:"PCMWorker not exist when call startPCMEvaluation()!"});else c.a.log({message:"sdk call startPCMEvaluation fail, state now: "+I.state+", info: "+JSON.stringify(r)})},this.translatePCMStream=function(e){if(O)if(I.state===T.AUDIO_RECORDING){O.postMessage({command:"translate",buffer:new Int16Array(e)});var t=new Int16Array(e);N=t.byteLength,j++,D+=t.byteLength}else s.a._log("SDK state error, stop translate PCM stream please!");else J(null,{message:"PCMWorker not exist when call translatePCMStream()!"})},this.stop=K,this.stopPCMEvaluation=function(){if(O){var r=$("stop");if(r?c.a.log({message:"sdk call stop, state now: "+I.state+" "}):c.a.log({message:"sdk call stop fail, state now: "+I.state+" "}),V.length){var n=null,i=null;if("wav"===C){n=V.splice(0,V.length),i=new Int16Array(320*n.length);for(var o=0;o<n.length;o++)i.set(n[o],320*o)}else{n=V.splice(0,V.length),i=new Int8Array(n.length*n[0].length);for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)i[a*n[0].length+s]=n[a][s]}if(A){if(!$("sendAudioStream"))return;t.sendAudioStream(i.buffer,R)}}O.postMessage({command:"exportTranslate",type:C}),t.stop(R,r,e.evalMode);var u="Pcm Length:"+D+"|single:"+N+"|pcmNumber:"+j;c.a.log({message:u}),D=0,j=0,O.postMessage({command:"reset"})}else J(null,{message:"PCMWorker not exist when call stopPCMEvaluation()!"})},this.cancel=function(){c.a.log({message:"sdk call cancel, state now: "+I.state+" "}),this.recorder&&this.recorder.stop(),A=!1,t.closeWithoutStateChange(),t.cancelTimeoutCheck(),t.socketInit()},this.close=function(){I.state!==T.NOT_READY&&I.state!==T.CLOSED?(c.a.log({message:"sdk call close, state now: "+I.state+" "}),I.recorder&&I.recorder.stop(),I.recorder&&I.recorder.close(),t.close(),O&&(O.terminate(),O=null),window.evaluaterArrList.length&&window.evaluaterArrList.splice(window.evaluaterArrList.indexOf(I.uuid),1)):c.a.log({message:"sdk call close fail, state now: "+I.state+" "})},this.getMagicNumber=function(){return R||null},this.state=T.NOT_READY;var I=this,N=0,j=0,D=0,B=f.a,L=!1;try{I.uuid=s.a._generateUniqStr(12),window.evaluaterArrList?window.evaluaterArrList.push(I.uuid):window.evaluaterArrList=[I.uuid],c.a.log({message:"sdk initing, uuid="+I.uuid+", evaluaterArrList="+window.evaluaterArrList+", the options: "+JSON.stringify(e)}),P?(I.recorder=new i.a({audioFormat:C,uuid:I.uuid,streamNum:M}),I.recorder.init(function(e){e?J(e,{recorder:!0}):U()}),I.recorder.onRecording(function(e){if(A){if(!$("sendAudioStream"))return;t.sendAudioStream(e,R)}}),I.recorder.exportBlob(function(e){x=e})):(U(),"pcm"===e.sdkType&&((O=(new l.a).createWorker()).postMessage({command:"init",config:{localSampleRate:16e3,exportAudio:C,streamNum:M}}),O.onmessage=z)),H()}catch(e){var F=e.message?e.message:"init error";throw c.a.track({code:"1102",message:F}),new Error(F)}function U(){t=new n.a({appId:d,userId:e.userId,env:r,onState:W,onError:Y})}function H(){B(function(e){c.a.log({message:"当前网络响应速度: "+e})},1)}var q=0,V=[];function z(e){if("stream"===e.data.command){var r,n,i,o;if("wav"===C){r=e.data.buffer,n=new Int16Array(r.length);for(var a=0;a<r.length;a++)n[a]=r[a];if(q++,V.push(n),V.length>0&&q===M){for(i=V.splice(0,V.length),o=new Int16Array(320*i.length),a=0;a<i.length;a++)o.set(i[a],320*a);if(A){if(!$("sendAudioStream"))return;t.sendAudioStream(o.buffer,R)}q=0}return}if("mp3"===C){for(r=e.data.buffer,n=new Int16Array(r.length),a=0;a<r.length;a++)n[a]=r[a];if(q++,V.push(n),V.length>0&&q===M){i=V.splice(0,V.length),o=new Int8Array(i.length*i[0].length);for(var s=0;s<i.length;s++)for(var c=0;c<i[s].length;c++)o[s*i[0].length+c]=i[s][c];if(A){if(!$("sendAudioStream"))return;t.sendAudioStream(o.buffer,R)}q=0}return}}"blob"===e.data.command&&(x=e.data.blob,V.length=0,q=0),"error"===e.data.command&&(J(null,{message:""+e.data.msg}),V.length=0,q=0)}function G(r){var n=_=r;return function(){var r=e.userId;R=r+"|"+s.a._generateUniqStr(12),n.audioFormat=C,n.appId=d,c.a.log({message:"sdk get micrphone success, evaluater info: "+JSON.stringify(n)}),t.sendAudioInfo(n,R),L=n.vadAutoStop,I.recorder.start(),Z(T.AUDIO_RECORDING)}}function X(e){var t={code:902001,message:"cannot get user micrphone"},r=s.a._checkoutRecorderFailReason(e);t.message=r||t.message,J(t,{recorder:!0}),Z(T.PREPARE_START)}function K(e){var r=$("stop");c.a.log({message:"sdk call stop "+(r?"":"fail")+", state now: "+I.state+" "}),I.recorder&&I.recorder.stop(),t.stop(R,r,e)}function W(n){switch(c.a.log({message:"*** EvaluaterCore state change:, state now: "+n.code+" "}),n.code){case T.NOT_READY:Q(T.NOT_READY);break;case T.CONNECTING:Z(T.CONNECTING);break;case T.PREPARE_START:S||Z(T.PREPARE_START);break;case T.RESULT_RECEIVING:Z(T.RESULT_RECEIVING);break;case T.RESULT_RECEIVED:if(null!==n.data){var i=n.data,o=i.view;o.isLast=!!i.last,o.scoreId=i.scoreId||"unknown",o.type=i.type;var a=200===_.evalMode;switch(i.type){case"vad":o.stopRecord&&L&&!i.last&&(c.a.log({message:"vad auto stop, state now: "+I.state+" "}),I.stop(a))}if(i.last)if(p.a.getInstance().emit("CANCEL_MAX_TIMEOUT"),"vad"===i.type)Z(T.RESULT_RECEIVED,null,o),a&&t.updateState(T.PREPARE_START);else{if(o.audioBlob=x,3!==o.urlStatus){Z(T.RESULT_RECEIVED,null,o);var l=JSON.stringify(o);c.a.track({message:"evaluater success, result "+l}),t.updateState(T.PREPARE_START)}1!==o.urlStatus&&(b.push({id:o.scoreId,result:o}),g.push({id:o.scoreId,audioBlob:o.audioBlob}),function(){if(!w&&0!==g.length){w=!0;var n=function(){var e=g.shift();if(e){var t=e.id||s.a._generateUniqStr(16),n=new File([e.audioBlob],t+"."+C,{type:"audio/"+C,lastModified:Date.now()});u.a.uploadFile({env:r,file:n,appId:d,callback:function(t,r){if(t)return c.a.log({message:"frontend upload vvos fail, err: "+JSON.stringify(t)}),void function(e,t){!function(e){s.a._myAjax({url:E+"/vos/getUploadToken",type:"get",success:function(t){e&&e(null,t),c.a.log({message:"get upload backend token success, res: "+JSON.stringify(t)})},error:function(t){e&&e(t,null),c.a.log({message:"get upload backend token fail, err: "+JSON.stringify(t)})}})}(function(r,n){if(r)c.a.track({code:1107,message:"get upload token error"+r});else if(e){var i=new FormData;i.append("file",e.audioBlob),i.append("scoreId",e.id),i.append("audioFormat",C),s.a._myAjax({url:E+"/vos/uploadVos/"+n,type:"post",notJson:!0,data:i,success:function(e){t&&t(null,e),c.a.log({message:"backend send audio backend success, res: "+JSON.stringify(e)})},error:function(e){t&&t(e),c.a.log({message:"backend send audio backend fail, err: "+JSON.stringify(e)}),c.a.track({code:1104,message:"upload to vos and backend error"})}})}})}(e,function(t,r){t?i(e):(w=!1,i(e,r))});if(c.a.log({message:"frontend upload vvos success, data: "+JSON.stringify(r)}),w=!1,r&&r.data&&r.data.data){var n=r.data.data,o=Object.keys(n),a=o[0];i(e,n[a])}else i(e)}})}else w=!1};n()}function i(r,i){r.audioUrl=i||null,y.push(r),function(r){var n=s.a.find(b,{id:r}),i=s.a.find(y,{id:r});if(n&&i){var o=n.result.urlStatus,a=n.result;if(a.audioUrl||(i.audioUrl?(a.audioUrl=i.audioUrl,a.urlStatus=1):(a.audioUrl="",a.urlStatus=3)),3===o){Z(T.RESULT_RECEIVED,null,a);var u=JSON.stringify(a);c.a.track({message:"evaluater success, result "+u}),t.updateState(T.PREPARE_START)}var l={scoreId:a.scoreId,audioUrl:null};l.audioUrl=i.audioUrl||n.audioUrl||"",function(t,r){s.a._myAjax({url:E+"/result/save",type:"post",data:{userId:e.userId||"",appId:d,scoreId:t.scoreId,audioUrl:t.audioUrl,deviceInfo:JSON.stringify(s.a._getDeviceInfo())},success:function(){try{r&&r({message:"save success",scoreId:t.scoreId,audioUrl:t.audioUrl}),s.a._log("upload evaluate result success")}catch(e){s.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onSave function"),s.a._error(e)}},error:function(e){try{r&&r({message:"save fail"}),c.a.track({code:1104,message:"evaluater save result fail"}),s.a._log("send evaluate result fail: ",e)}catch(e){s.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onSave function"),s.a._error(e)}}})}(l,v),b.splice(b.indexOf(n),1),y.splice(y.indexOf(i),1)}}(r.id),n()}}())}else Z(T.RESULT_RECEIVED,null,o)}else Z(T.RESULT_RECEIVED,null,null);break;case T.CLOSED:Z(T.CLOSED)}}function Y(t){switch(s.a._log("EvaluaterCore error:",t),p.a.getInstance().emit("CANCEL_MAX_TIMEOUT"),t.code){case 1101:case 1104:case 1105:J(t,{evaluater:!0}),[1104,1105].indexOf(t.code)>-1&&function(t){s.a._myAjax({url:E+"/abnormal/report",type:"post",data:{appId:d,code:"50001",description:JSON.stringify({userId:e.userId||"",message:t.message,time:(new Date).getTime(),deviceInfo:JSON.stringify(s.a._getDeviceInfo()),serverVersion:"v2"})},success:function(){s.a._log("upload error info success")},error:function(e){s.a._log("upload error info fail: ",e)}})}(t);break;case 1107:case 1108:J(t,{evaluater:!0});break;case 4001:I.recorder&&I.recorder.stop(),J(t,{evaluater:!0});break;case 4002:case 4003:I.state!==T.RESULT_RECEIVING&&I.recorder&&I.recorder.stop(),J(t,{evaluater:!0});break;default:I.recorder&&I.recorder.stop(),J(null,t),s.a._log("evaluater core error: ",t)}}function $(e){var t;return"boolean"==typeof(t="stop"===e?s.a._checkCondition(e,I.state,{isRealTime:[101,111].indexOf(_.evalMode)>-1,isVad:_.useVAD||200===_.evalMode}):s.a._checkCondition(e,I.state))||(J(null,{code:1001,message:t.message}),!1)}function J(e,t){var r=null;if(e){var n=a.a.recorderErrMap,i=a.a.errorCodeMap,o=t&&t.message;t&&!0===t.recorder&&(o=e.message,e=n[e.code]),t&&!0===t.evaluater&&(o=e.message,e=i[e.code]);var u=a.a.errorMap;(r=u[e])&&(r.message=o||r.message)}else r=t;try{h(r||u.unknown)}catch(e){s.a._error(e.message+", it's not evaluater error, please check code in onError function"),s.a._error(e)}c.a.track(r||u.unknown),H()}function Q(e){I.state=e}function Z(e,t,r){Q(e);try{m({code:e,message:t,data:r})}catch(e){s.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onState function"),s.a._error(e)}}}},function(e,t,r){"use strict";var n=r(57);function i(e,t,r,i,o){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function o(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},i=function(e,t,r,i){var o=n(e.parameters.apt,r),a=n(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(n){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!i(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var i=t.headerExtensions[n];if(e.uri===i.uri){r.headerExtensions.push(i);break}}}),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function c(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,r,n,i){var o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=i,e.setTimeout(function(){t._dispatchEvent("track",o)})}var l=function(r){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof n;return i&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)}),delete e.url,e.urls=i?n[0]:n,!!n.length}})}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();n.iceTransport=i.iceTransport,n.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(n),n},l.prototype.addTrack=function(t,r){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(e){return e.track===t}))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(n=this.transceivers[i]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},l.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach(function(t){r.addTrack(t,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",function(e){r.enabled=e.enabled})}),n.getTracks().forEach(function(e){r.addTrack(e,n)})}},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find(function(e){return e.rtpSender===t});if(!r)throw c("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},l.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},l.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},l.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;i.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},l.prototype._gather=function(t,r){var i=this,o=this.transceivers[r].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=n.writeCandidate(s);a.candidate=Object.assign(a.candidate,n.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var l=n.getMediaSections(i._localDescription.sdp);l[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=n.getDescription(i._localDescription.sdp)+l.join("");var f=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",a),f&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){o.onlocalcandidate(e)})},0)}},l.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},l.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,r,i){var a=o(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,r,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=n.parseRtpParameters(e);i.transceivers[t].localCapabilities=r}),i.transceivers.forEach(function(e,t){i._gather(e.mid,t)});else if("answer"===e.type){t=n.splitSections(i._remoteDescription.sdp),r=t.shift();var s=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],c=a.iceGatherer,u=a.iceTransport,l=a.dtlsTransport,f=a.localCapabilities,p=a.remoteCapabilities;if(!(n.isRejected(e)&&0===n.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var d=n.getIceParameters(e,r),h=n.getDtlsParameters(e,r);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===u.state&&u.start(c,d,s?"controlling":"controlled"),"new"===l.state&&l.start(h));var m=o(f,p);i._transceive(a,m.codecs.length>0,!1)}})}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},l.prototype.setRemoteDescription=function(i){var l=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,l.signalingState)||l._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+l.signalingState));var f={};l.remoteStreams.forEach(function(e){f[e.id]=e});var p=[],d=n.splitSections(i.sdp),h=d.shift(),m=n.matchPrefix(h,"a=ice-lite").length>0,v=n.matchPrefix(h,"a=group:BUNDLE ").length>0;l.usingBundle=v;var _=n.matchPrefix(h,"a=ice-options:")[0];return l.canTrickleIceCandidates=!!_&&_.substr(14).split(" ").indexOf("trickle")>=0,d.forEach(function(a,c){var u=n.splitLines(a),d=n.getKind(a),_=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,g=u[0].substr(2).split(" ")[2],y=n.getDirection(a,h),b=n.parseMsid(a),w=n.getMid(a)||n.generateIdentifier();if(_||"application"===d&&("DTLS/SCTP"===g||"UDP/DTLS/SCTP"===g))l.transceivers[c]={mid:w,kind:d,protocol:g,rejected:!0};else{var S,x,E,k,T,R,C,A,P;!_&&l.transceivers[c]&&l.transceivers[c].rejected&&(l.transceivers[c]=l._createTransceiver(d,!0));var O,M,I=n.parseRtpParameters(a);_||(O=n.getIceParameters(a,h),(M=n.getDtlsParameters(a,h)).role="client"),C=n.parseRtpEncodingParameters(a);var N=n.parseRtcpParameters(a),j=n.matchPrefix(a,"a=end-of-candidates",h).length>0,D=n.matchPrefix(a,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===i.type||"answer"===i.type)&&!_&&v&&c>0&&l.transceivers[c]&&(l._disposeIceAndDtlsTransports(c),l.transceivers[c].iceGatherer=l.transceivers[0].iceGatherer,l.transceivers[c].iceTransport=l.transceivers[0].iceTransport,l.transceivers[c].dtlsTransport=l.transceivers[0].dtlsTransport,l.transceivers[c].rtpSender&&l.transceivers[c].rtpSender.setTransport(l.transceivers[0].dtlsTransport),l.transceivers[c].rtpReceiver&&l.transceivers[c].rtpReceiver.setTransport(l.transceivers[0].dtlsTransport)),"offer"!==i.type||_){if("answer"===i.type&&!_){x=(S=l.transceivers[c]).iceGatherer,E=S.iceTransport,k=S.dtlsTransport,T=S.rtpReceiver,R=S.sendEncodingParameters,A=S.localCapabilities,l.transceivers[c].recvEncodingParameters=C,l.transceivers[c].remoteCapabilities=I,l.transceivers[c].rtcpParameters=N,D.length&&"new"===E.state&&(!m&&!j||v&&0!==c?D.forEach(function(e){s(S.iceTransport,e)}):E.setRemoteCandidates(D)),v&&0!==c||("new"===E.state&&E.start(x,O,"controlling"),"new"===k.state&&k.start(M)),!o(S.localCapabilities,S.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&S.sendEncodingParameters[0].rtx&&delete S.sendEncodingParameters[0].rtx,l._transceive(S,"sendrecv"===y||"recvonly"===y,"sendrecv"===y||"sendonly"===y),!T||"sendrecv"!==y&&"sendonly"!==y?delete S.rtpReceiver:(P=T.track,b?(f[b.stream]||(f[b.stream]=new e.MediaStream),r(P,f[b.stream]),p.push([P,T,f[b.stream]])):(f.default||(f.default=new e.MediaStream),r(P,f.default),p.push([P,T,f.default])))}}else{(S=l.transceivers[c]||l._createTransceiver(d)).mid=w,S.iceGatherer||(S.iceGatherer=l._createIceGatherer(c,v)),D.length&&"new"===S.iceTransport.state&&(!j||v&&0!==c?D.forEach(function(e){s(S.iceTransport,e)}):S.iceTransport.setRemoteCandidates(D)),A=e.RTCRtpReceiver.getCapabilities(d),t<15019&&(A.codecs=A.codecs.filter(function(e){return"rtx"!==e.name})),R=S.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var B,L=!1;if("sendrecv"===y||"sendonly"===y){if(L=!S.rtpReceiver,T=S.rtpReceiver||new e.RTCRtpReceiver(S.dtlsTransport,d),L)P=T.track,b&&"-"===b.stream||(b?(f[b.stream]||(f[b.stream]=new e.MediaStream,Object.defineProperty(f[b.stream],"id",{get:function(){return b.stream}})),Object.defineProperty(P,"id",{get:function(){return b.track}}),B=f[b.stream]):(f.default||(f.default=new e.MediaStream),B=f.default)),B&&(r(P,B),S.associatedRemoteMediaStreams.push(B)),p.push([P,T,B])}else S.rtpReceiver&&S.rtpReceiver.track&&(S.associatedRemoteMediaStreams.forEach(function(t){var r=t.getTracks().find(function(e){return e.id===S.rtpReceiver.track.id});r&&function(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(r,t)}),S.associatedRemoteMediaStreams=[]);S.localCapabilities=A,S.remoteCapabilities=I,S.rtpReceiver=T,S.rtcpParameters=N,S.sendEncodingParameters=R,S.recvEncodingParameters=C,l._transceive(l.transceivers[c],!1,L)}}}),void 0===l._dtlsRole&&(l._dtlsRole="offer"===i.type?"active":"passive"),l._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?l._updateSignalingState("have-remote-offer"):l._updateSignalingState("stable"),Object.keys(f).forEach(function(t){var r=f[t];if(r.getTracks().length){if(-1===l.remoteStreams.indexOf(r)){l.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout(function(){l._dispatchEvent("addstream",n)})}p.forEach(function(e){var t=e[0],n=e[1];r.id===e[2].id&&u(l,t,n,[r])})}}),p.forEach(function(e){e[2]||u(l,e[0],e[1],[])}),e.setTimeout(function(){l&&l.transceivers&&l.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},l.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},l.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=r.transceivers.filter(function(e){return"audio"===e.kind}).length,a=r.transceivers.filter(function(e){return"video"===e.kind}).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(r.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(r._createTransceiver("audio"),o--),a>0&&(r._createTransceiver("video"),a--);var u=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach(function(i,o){var a=i.track,s=i.kind,c=i.mid||n.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=r._createIceGatherer(o,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var l=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!l[0].rtx&&(l[0].rtx={ssrc:l[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=l}),"max-compat"!==r._config.bundlePolicy&&(u+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",r.transceivers.forEach(function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+n.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var l=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(l)},l.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach(function(e,n){if(!(n+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;if(e.stream)"audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1});var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,u,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},l.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,o){if(!r._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<r.transceivers.length;u++)if(r.transceivers[u].mid===e.sdpMid){a=u;break}var l=r.transceivers[a];if(!l)return o(c("OperationError","Can not add ICE candidate"));if(l.rejected)return i();var f=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port))return i();if(f.component&&1!==f.component)return i();if((0===a||a>0&&l.iceTransport!==r.transceivers[0].iceTransport)&&!s(l.iceTransport,f))return o(c("OperationError","Can not add ICE candidate"));var p=e.candidate.trim();0===p.indexOf("a=")&&(p=p.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(f.type?p:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var d=0;d<r.transceivers.length&&(r.transceivers[d].rejected||(r.transceivers[d].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[d]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));d++);i()})},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)}),!r)throw c("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&n.push(e[t].getStats())})}),Promise.all(n).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})};["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(r){e[r].type=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}(e[r]),t.set(r,e[r])}),t})}}});var f=["createOffer","createAnswer"];return f.forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(f=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),l}},function(e,t,r){(function(t){var r=!!(t===t.window&&t.URL&&t.Blob&&t.Worker);function n(e,n){var i,o=this;if(n=n||{},r)return i=e.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new t.Worker(t.URL.createObjectURL(new t.Blob([i],{type:"text/javascript"})));this.self=n,this.self.postMessage=function(e){setTimeout(function(){o.onmessage({data:e})},0)},setTimeout(e.bind(n,n),0)}n.prototype.postMessage=function(e){var t=this;setTimeout(function(){t.self.onmessage({data:e})},0)},e.exports=n}).call(this,r(35))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(188));t.default=n.default},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,r,n,o){if("function"!=typeof r)throw new TypeError("The listener must be a function");var a=new function(e,t,r){this.fn=e,this.context=t,this.once=r||!1}(r,n||e,o),s=i?i+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],a]:e._events[s].push(a):(e._events[s]=a,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},c.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,o=r.length,a=new Array(o);n<o;n++)a[n]=r[n].fn;return a},c.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},c.prototype.emit=function(e,t,r,n,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,n),!0;case 5:return l.fn.call(l.context,t,r,n,o),!0;case 6:return l.fn.call(l.context,t,r,n,o,a),!0}for(u=1,c=new Array(f-1);u<f;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var p,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),f){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,r);break;case 4:l[u].fn.call(l[u].context,t,r,n);break;default:if(!c)for(p=1,c=new Array(f-1);p<f;p++)c[p-1]=arguments[p];l[u].fn.apply(l[u].context,c)}}return!0},c.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},c.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},c.prototype.removeListener=function(e,t,r,n){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||n&&!a.once||r&&a.context!==r||s(this,o);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||n&&!a[c].once||r&&a[c].context!==r)&&u.push(a[c]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&s(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},function(e,t,r){"use strict";r(176);var n=r(79),i=r(80),o=r(3),a=r.n(o),s=r(1),c=r(0),u=r(78),l=r(55),f=r(56),p=r(21);t.a=function(e){var t,r=e.env||"prod",o=a.a.apiUrlMap,d=(e=Object.assign({mediaCheck:!1,initRecorder:!0},e)).appId,h=e.onError,m=e.onState,v=e.onSave||function(){},_=null,g=[],y=[],b=[],w=!1,S=!1,x=null,E=o[r],k=e.mediaCheck,T=a.a.state,R="",C=e.audioFormat||"wav",A=!0,P=e.initRecorder,O=null,M=3;this.start=function(e){if(Z("start"))if(c.a.log({message:"sdk call start, state now: "+I.state}),I.recorder)if(A=!0,k)s.a._checkUserMedia(W.call(null,e),Y);else{var t=W(e);t()}else ee(null,{_initRecorderFlag:P,code:1102,message:"call start() error when initRecorderFlag is "+P});else c.a.log({message:"sdk call start fail, state now: "+I.state})},this.fileEvaluaterStart=function(r){if(Z("start")){if(c.a.log({message:"sdk call fileEvaluaterStart, state now: "+I.state+" "}),!r.binaryArr)throw c.a.log({message:"binaryArr params error in fileEvaluaterStart function"}),new Error("binaryArr params error in fileEvaluaterStart function");var n=e.userId;_=r,R=n+"|"+s.a._generateUniqStr(12),r.audioFormat=r.audioFormat||C,t.sendAudioInfo(r,R),re(T.AUDIO_RECORDING);var i=r.binaryArr,o=0;Z("sendAudioStream")&&function e(){if(i.byteLength!==o){var r=i.byteLength-o>=24e3?24e3:i.byteLength-o,n=i.slice(o,o+r);o+=n.byteLength,t.sendAudioStream(n,R),e()}else{if(!Z("stop"))return;$()}}()}else c.a.log({message:"sdk call fileEvaluaterStart fail, state now: "+I.state+" "})},this.startPCMEvaluation=function(r){if(Z("start"))if(c.a.log({message:"sdk call startPCMEvaluation, state now: "+I.state+", info: "+JSON.stringify(r)}),O){var n=_=r;A=!0;var i=e.userId;R=i+"|"+s.a._generateUniqStr(12),n.audioFormat=C,t.sendAudioInfo(n,R),re(T.AUDIO_RECORDING)}else ee(null,{message:"PCMWorker not exist when call startPCMEvaluation()!"});else c.a.log({message:"sdk call startPCMEvaluation fail, state now: "+I.state+", info: "+JSON.stringify(r)})},this.translatePCMStream=function(e){if(H(),O)if(I.state===T.AUDIO_RECORDING){O.postMessage({command:"translate",buffer:new Int16Array(e)});var t=new Int16Array(e);N=t.byteLength,j++,D+=t.byteLength}else s.a._log("SDK state error, stop translate PCM stream please!");else ee(null,{message:"PCMWorker not exist when call translatePCMStream()!"})},this.stop=$,this.stopPCMEvaluation=function(){if(O){var r=Z("stop");if(r?c.a.log({message:"sdk call stop, state now: "+I.state+" "}):c.a.log({message:"sdk call stop fail, state now: "+I.state+" "}),X.length){var n=null,i=null;if("wav"===C){n=X.splice(0,X.length),i=new Int16Array(320*n.length);for(var o=0;o<n.length;o++)i.set(n[o],320*o)}else{n=X.splice(0,X.length),i=new Int8Array(n.length*n[0].length);for(var a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)i[a*n[0].length+s]=n[a][s]}if(A){if(!Z("sendAudioStream"))return;t.sendAudioStream(i.buffer,R)}}O.postMessage({command:"exportTranslate",type:C}),t.stop(R,r,e.evalMode);var u="Pcm Length:"+D+"|single:"+N+"|pcmNumber:"+j;c.a.log({message:u}),D=0,j=0,O.postMessage({command:"reset"})}else ee(null,{message:"PCMWorker not exist when call stopPCMEvaluation()!"})},this.cancel=function(){c.a.log({message:"sdk call cancel, state now: "+I.state+" "}),this.recorder&&this.recorder.stop(),A=!1,t.closeWithoutStateChange(),t.cancelTimeoutCheck(),t.socketInit()},this.close=function(){I.state!==T.NOT_READY&&I.state!==T.CLOSED?(c.a.log({message:"sdk call close, state now: "+I.state+" "}),I.recorder&&I.recorder.stop(),I.recorder&&I.recorder.close(),t.close(),O&&(O.terminate(),O=null),window.evaluaterArrList.length&&window.evaluaterArrList.splice(window.evaluaterArrList.indexOf(I.uuid),1)):c.a.log({message:"sdk call close fail, state now: "+I.state+" "})},this.getMagicNumber=function(){return R||null},this.state=T.NOT_READY;var I=this,N=0,j=0,D=0,B="",L=f.a,F=!1,U={data:["VKAEFileManagerService","VKAEAIRecordingService"]};function H(){console.log("-----registerReceiveFromNative call back----",""),NaBridge.AppEngine.callNative("registerReceiveFromNative",function(e){if("audioDataCallback"==e.method)console.log("native ===> js audioDataCallback",e.toString());else{var t=JSON.parse(e);if("logCallback"==t.method)console.log("logCallback: "+e.toString());else if("downloadFileCallback"==t.method)console.log("native ===> js",e.toString()),mixing_audio_file=t.data.path.toString();else if("micCtrlResponseCallback"==t.method){console.log("native ===> js",e.toString());var r=JSON.parse(t.data);if("CAPTURE_DEVICE_LIST"==r.type){var n=r.device[0].deviceid;0!==n.length&&(B=n,console.log("mic_index_id",B),window.localStorage.mic_id=B)}}else console.log("native ===> js",e.toString())}})}try{H(),NaBridge.AppEngine.callNative("loadServices",JSON.stringify(U)),function(){var e={action:"mic_open_success"},t={};t.config=e,t.method="cameraCtrlResponseCallback",NaBridge.AppEngine.callNative("aiRecordAudioCtrl",JSON.stringify(t)),console.log("检测麦克风是否正常",t)}(),function(){var e={resolution:"0"},t={};t.config=e,t.method="createEngine",NaBridge.AppEngine.callNative("aiRecordAudioCtrl",JSON.stringify(t)),console.log("创建引擎成功",t)}(),I.uuid=s.a._generateUniqStr(12),window.evaluaterArrList?window.evaluaterArrList.push(I.uuid):window.evaluaterArrList=[I.uuid],c.a.log({message:"sdk initing, uuid="+I.uuid+", evaluaterArrList="+window.evaluaterArrList+", the options: "+JSON.stringify(e)}),P?(I.recorder=new i.a({audioFormat:C,uuid:I.uuid,streamNum:M}),I.recorder.init(function(e){e?ee(e,{recorder:!0}):V()}),I.recorder.onRecording(function(e){if(A){if(!Z("sendAudioStream"))return;t.sendAudioStream(e,R)}}),I.recorder.exportBlob(function(e){x=e})):(V(),"pcm"===e.sdkType&&((O=(new l.a).createWorker()).postMessage({command:"init",config:{localSampleRate:16e3,exportAudio:C,streamNum:M}}),O.onmessage=K)),z()}catch(e){var q=e.message?e.message:"init error";throw c.a.track({code:"1102",message:q}),new Error(q)}function V(){!function(){var e={action:"devicelist"},t={};t.config=e,t.method="micCtrl",NaBridge.AppEngine.callNative("aiRecordAudioCtrl",JSON.stringify(t)),console.log("获取麦克风列表",t)}(),t=new n.a({appId:d,userId:e.userId,env:r,onState:J,onError:Q})}function z(){L(function(e){c.a.log({message:"当前网络响应速度: "+e})},1)}var G=0,X=[];function K(e){if("stream"===e.data.command){var r,n,i,o;if("wav"===C){r=e.data.buffer,n=new Int16Array(r.length);for(var a=0;a<r.length;a++)n[a]=r[a];if(G++,X.push(n),X.length>0&&G===M){for(i=X.splice(0,X.length),o=new Int16Array(320*i.length),a=0;a<i.length;a++)o.set(i[a],320*a);if(A){if(!Z("sendAudioStream"))return;t.sendAudioStream(o.buffer,R)}G=0}return}if("mp3"===C){for(r=e.data.buffer,n=new Int16Array(r.length),a=0;a<r.length;a++)n[a]=r[a];if(G++,X.push(n),X.length>0&&G===M){i=X.splice(0,X.length),o=new Int8Array(i.length*i[0].length);for(var s=0;s<i.length;s++)for(var c=0;c<i[s].length;c++)o[s*i[0].length+c]=i[s][c];if(A){if(!Z("sendAudioStream"))return;t.sendAudioStream(o.buffer,R)}G=0}return}}"blob"===e.data.command&&(x=e.data.blob,X.length=0,G=0),"error"===e.data.command&&(ee(null,{message:""+e.data.msg}),X.length=0,G=0)}function W(r){var n=_=r;return function(){var r=e.userId;R=r+"|"+s.a._generateUniqStr(12),n.audioFormat=C,n.appId=d,c.a.log({message:"sdk get micrphone success, evaluater info: "+JSON.stringify(n)}),t.sendAudioInfo(n,R),F=n.vadAutoStop,I.recorder.start(),re(T.AUDIO_RECORDING)}}function Y(e){var t={code:902001,message:"cannot get user micrphone"},r=s.a._checkoutRecorderFailReason(e);t.message=r||t.message,ee(t,{recorder:!0}),re(T.PREPARE_START)}function $(e){var r=Z("stop");c.a.log({message:"sdk call stop "+(r?"":"fail")+", state now: "+I.state+" "}),I.recorder&&I.recorder.stop(),t.stop(R,r,e)}function J(n){switch(c.a.log({message:"*** EvaluaterCore state change:, state now: "+n.code+" "}),n.code){case T.NOT_READY:te(T.NOT_READY);break;case T.CONNECTING:re(T.CONNECTING);break;case T.PREPARE_START:S||re(T.PREPARE_START);break;case T.RESULT_RECEIVING:re(T.RESULT_RECEIVING);break;case T.RESULT_RECEIVED:if(null!==n.data){var i=n.data,o=i.view;o.isLast=!!i.last,o.scoreId=i.scoreId||"unknown",o.type=i.type;var a=200===_.evalMode;switch(i.type){case"vad":o.stopRecord&&F&&!i.last&&(c.a.log({message:"vad auto stop, state now: "+I.state+" "}),I.stop(a))}if(i.last)if(p.a.getInstance().emit("CANCEL_MAX_TIMEOUT"),"vad"===i.type)re(T.RESULT_RECEIVED,null,o),a&&t.updateState(T.PREPARE_START);else{if(o.audioBlob=x,3!==o.urlStatus){re(T.RESULT_RECEIVED,null,o);var l=JSON.stringify(o);c.a.track({message:"evaluater success, result "+l}),t.updateState(T.PREPARE_START)}1!==o.urlStatus&&(b.push({id:o.scoreId,result:o}),g.push({id:o.scoreId,audioBlob:o.audioBlob}),function(){if(!w&&0!==g.length){w=!0;var n=function(){var e=g.shift();if(e){var t=e.id||s.a._generateUniqStr(16),n=new File([e.audioBlob],t+"."+C,{type:"audio/"+C,lastModified:Date.now()});u.a.uploadFile({env:r,file:n,appId:d,callback:function(t,r){if(t)return c.a.log({message:"frontend upload vvos fail, err: "+JSON.stringify(t)}),void function(e,t){!function(e){s.a._myAjax({url:E+"/vos/getUploadToken",type:"get",success:function(t){e&&e(null,t),c.a.log({message:"get upload backend token success, res: "+JSON.stringify(t)})},error:function(t){e&&e(t,null),c.a.log({message:"get upload backend token fail, err: "+JSON.stringify(t)})}})}(function(r,n){if(r)c.a.track({code:1107,message:"get upload token error"+r});else if(e){var i=new FormData;i.append("file",e.audioBlob),i.append("scoreId",e.id),i.append("audioFormat",C),s.a._myAjax({url:E+"/vos/uploadVos/"+n,type:"post",notJson:!0,data:i,success:function(e){t&&t(null,e),c.a.log({message:"backend send audio backend success, res: "+JSON.stringify(e)})},error:function(e){t&&t(e),c.a.log({message:"backend send audio backend fail, err: "+JSON.stringify(e)}),c.a.track({code:1104,message:"upload to vos and backend error"})}})}})}(e,function(t,r){t?i(e):(w=!1,i(e,r))});if(c.a.log({message:"frontend upload vvos success, data: "+JSON.stringify(r)}),w=!1,r&&r.data&&r.data.data){var n=r.data.data,o=Object.keys(n),a=o[0];i(e,n[a])}else i(e)}})}else w=!1};n()}function i(r,i){r.audioUrl=i||null,y.push(r),function(r){var n=s.a.find(b,{id:r}),i=s.a.find(y,{id:r});if(n&&i){var o=n.result.urlStatus,a=n.result;if(a.audioUrl||(i.audioUrl?(a.audioUrl=i.audioUrl,a.urlStatus=1):(a.audioUrl="",a.urlStatus=3)),3===o){re(T.RESULT_RECEIVED,null,a);var u=JSON.stringify(a);c.a.track({message:"evaluater success, result "+u}),t.updateState(T.PREPARE_START)}var l={scoreId:a.scoreId,audioUrl:null};l.audioUrl=i.audioUrl||n.audioUrl||"",function(t,r){s.a._myAjax({url:E+"/result/save",type:"post",data:{userId:e.userId||"",appId:d,scoreId:t.scoreId,audioUrl:t.audioUrl,deviceInfo:JSON.stringify(s.a._getDeviceInfo())},success:function(){try{r&&r({message:"save success",scoreId:t.scoreId,audioUrl:t.audioUrl}),s.a._log("upload evaluate result success")}catch(e){s.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onSave function"),s.a._error(e)}},error:function(e){try{r&&r({message:"save fail"}),c.a.track({code:1104,message:"evaluater save result fail"}),s.a._log("send evaluate result fail: ",e)}catch(e){s.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onSave function"),s.a._error(e)}}})}(l,v),b.splice(b.indexOf(n),1),y.splice(y.indexOf(i),1)}}(r.id),n()}}())}else re(T.RESULT_RECEIVED,null,o)}else re(T.RESULT_RECEIVED,null,null);break;case T.CLOSED:re(T.CLOSED)}}function Q(t){switch(s.a._log("EvaluaterCore error:",t),p.a.getInstance().emit("CANCEL_MAX_TIMEOUT"),t.code){case 1101:case 1104:case 1105:ee(t,{evaluater:!0}),[1104,1105].indexOf(t.code)>-1&&function(t){s.a._myAjax({url:E+"/abnormal/report",type:"post",data:{appId:d,code:"50001",description:JSON.stringify({userId:e.userId||"",message:t.message,time:(new Date).getTime(),deviceInfo:JSON.stringify(s.a._getDeviceInfo()),serverVersion:"v2"})},success:function(){s.a._log("upload error info success")},error:function(e){s.a._log("upload error info fail: ",e)}})}(t);break;case 1107:case 1108:ee(t,{evaluater:!0});break;case 4001:I.recorder&&I.recorder.stop(),ee(t,{evaluater:!0});break;case 4002:case 4003:I.state!==T.RESULT_RECEIVING&&I.recorder&&I.recorder.stop(),ee(t,{evaluater:!0});break;default:I.recorder&&I.recorder.stop(),ee(null,t),s.a._log("evaluater core error: ",t)}}function Z(e){var t;return"boolean"==typeof(t="stop"===e?s.a._checkCondition(e,I.state,{isRealTime:[101,111].indexOf(_.evalMode)>-1,isVad:_.useVAD||200===_.evalMode}):s.a._checkCondition(e,I.state))||(ee(null,{code:1001,message:t.message}),!1)}function ee(e,t){var r=null;if(e){var n=a.a.recorderErrMap,i=a.a.errorCodeMap,o=t&&t.message;t&&!0===t.recorder&&(o=e.message,e=n[e.code]),t&&!0===t.evaluater&&(o=e.message,e=i[e.code]);var u=a.a.errorMap;(r=u[e])&&(r.message=o||r.message)}else r=t;try{h(r||u.unknown)}catch(e){s.a._error(e.message+", it's not evaluater error, please check code in onError function"),s.a._error(e)}c.a.track(r||u.unknown),z()}function te(e){I.state=e}function re(e,t,r){te(e);try{m({code:e,message:t,data:r})}catch(e){s.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onState function"),s.a._error(e)}}}},function(e,t,r){"use strict";var n=r(1),i=r(3),o=r.n(i),a=r(0);function s(e){this._init(),this._onState=e.onState,this._onError=e.onError,this._nativeErrorMap=o.a.errorCodeMappingForH5,this._isVadMode=!1}s.prototype={constructor:s,_init:function(){window.VKAppBridge=window.VKAppBridge?window.VKAppBridge:{},this.vkAppBridge=window.VKAppBridge;var e=null;"function"==typeof this.vkAppBridge.receiveFromNative&&(e=this.vkAppBridge.receiveFromNative);var t=this;this.vkAppBridge.receiveFromNative=function(r){var i=r;switch(e&&(n.a._log("old receiveFunc: ",e.toString()),e(r)),i=JSON.parse(i),n.a._log("receiveFromNative: ",r),i.method){case"did_start":t._onState({code:o.a.state.AUDIO_RECORDING}),a.a.log({message:"sdk receive did_start from native"});break;case"volume":break;case"did_stop":t._onState({code:o.a.state.RESULT_RECEIVING}),a.a.log({message:"sdk receive did_stop from native"});break;case"error":var s=i.data,c=t._mapNativeErrorCodeToH5(s.errorcode.toString());c||(s.errormsg="(un parse error code: "+s.errorcode+") "+s.errormsg,c=s.errorcode),t._onError({code:c,message:s.errormsg}),a.a.log({message:"sdk receive error from native, error: "+c+" ->"+s.errormsg}),t._onState({code:o.a.state.RESULT_RECEIVED,data:null});break;case"result":var u;a.a.log({message:"sdk receive result from native, result: "+JSON.stringify(i.data.result)}),(f=i.data.result).resultData?(u="vad"===f.resultData.type?t._convertNativeVADResultToH5(f):t._convertNativeResultToH5(f)).type=f.resultData.type:u=t._convertNativeResultToH5(f),t._onState({code:o.a.state.RESULT_RECEIVED,data:u});break;case"vad_did_stop":if(!t._isVadMode)return;var l=i.data;a.a.log({message:"sdk receive vad_did_stop from native, stop info: "+JSON.stringify(l)}),l.error&&(t._isVadMode=!1,t._onError({code:l.error.code,message:l.error.errMsg}),t._onState({code:o.a.state.RESULT_RECEIVED,data:null}));break;case"vad_state":if(!t._isVadMode)return;var f=t._convertNativeVADResultToH5(i.data);a.a.log({message:"sdk receive vad_state from native, result: "+JSON.stringify(i.data)}),t._onState({code:o.a.state.RESULT_RECEIVED,data:f});break;case"vad_result":if(!t._isVadMode)return;f=t._convertNativeVADResultToH5(i.data);a.a.log({message:"sdk receive vad_result from native, result: "+JSON.stringify(i.data)}),t._isVadMode=!1,t._onState({code:o.a.state.RESULT_RECEIVED,data:f})}}},_convertNativeResultToH5:function(e){var t={};if(e.extraInfo||(e.extraInfo={fluency:{overall:0},integrity:0,rhythm:{overall:0},recordDuration:0,accuracy:0,conf:0,recscore:{matched:"",status_code:0},rec:""}),e.resultData){var r=e.resultData,n=r.view?r.view:r.data?r.data.view:null;if(!n)return that._onError({code:"4002",message:" can not get current data view from resultData!"}),void that._onState({code:o.a.state.RESULT_RECEIVED,data:null});n.audioUrl?(n.isLast=!!r.last,n.scoreId=r.scoreId||"",n.type=r.type,void 0!==r.trackId&&(n.trackId=r.trackId),t=n):(i(),t.isLast=!!r.last,t.rec=n.rec||"")}else i();function i(){t.audioUrl=e.url||"",t.longTermUrl=e.longTermUrl||"",t.urlStatus=e.urlStatus||-1,t.sorceId=e.rid||"",t.isLast=void 0===e.last||(e.last||!1),t.overall=e.score||0,t.tipId=e.tipId||0,t.rec=e.extraInfo.rec||"",t.fluency=e.extraInfo.fluency&&e.extraInfo.fluency.overall||0,t.integrity=e.extraInfo.integrity||0,t.rhythm=e.extraInfo.rhythm&&e.extraInfo.rhythm.overall||0,t.conf=e.extraInfo.conf||0,t.recscore=e.extraInfo.recscore||{},t.details=[];var r=e.wordDetails||[];if(r.length)for(var n=0;n<r.length;n++)t.details.push({char:r[n].word,score:r[n].score})}return t},_convertNativeVADResultToH5:function(e){var t={},r=e.resultData;return(t=r.view).isLast=!!r.last,t.scoreId=r.scoreId,t.type=r.type,void 0!==r.trackId&&(t.trackId=r.trackId),t},_mapNativeErrorCodeToH5:function(e){return this._nativeErrorMap[e]||null},_callByIframe:function(e){var t=document.createElement("iframe");t.src=e,t.style.display="none",document.body.appendChild(t),t.parentNode.removeChild(t),t=null},_post:function(e,t){var r="";if(t){var n=[];for(var i in t)n.push(i+"="+encodeURIComponent(t[i]));r="vkappbridge://speecheva/"+e+"?"+n.join("&")}else r="vkappbridge://speecheva/"+e;this._callByIframe(r)},configRecord:function(e,t){var r=JSON.stringify(e);this._post("config",{cfgInfo:r,type:t}),a.a.log({message:"sdk call configRecord() in bridge, params => cfgInfo:"+r})},startRecord:function(e){var t={};e.evalMode?t=e:t={reftest:JSON.stringify(e.refTextObj),type:e.type};this._post("start",t),a.a.log({message:"sdk call startRecord() in bridge, params => refTextObj:"+JSON.stringify(t)})},stopRecord:function(){this._post("stop"),a.a.log({message:"sdk call stopRecord() in bridge"})},startVad:function(e){this._isVadMode=!0,this._post("vad_start",e),a.a.log({message:"sdk call startVad() in bridge, params => info:"+JSON.stringify(e)})},stopVad:function(){this._post("vad_stop"),a.a.log({message:"sdk call stopVad() in bridge"})},resetRecord:function(){this._post("reset"),a.a.log({message:"sdk call resetRecord() in bridge"})}};var c=s,u=r(56),l=r(21),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function p(e){this._paramsCheck(e)&&(this._receiveMsgFlag=!0,this._receiveTimeOutObj=null,this.appId=e.appId,this._options=e,this._audioInfo=null,this._audioFormat=1,this._spdck=u.a,"string"==typeof e.audioFormat&&(this._audioFormat="wav"===e.audioFormat?0:1),this._updateAndEmitState(o.a.state.NOT_READY),this._updateAndEmitState(o.a.state.CONNECTING),this._bridge=new c({onError:this._onError.bind(this),onState:this._onState.bind(this)}),this._bridge.configRecord({appId:e.appId,userId:e.userId},o.a.evalModeCodeMappingForNative.SelfStudyNormal),a.a.log({message:"sdk init"}),this._spdck(function(e){a.a.log({message:"当前网络响应速度: "+e})},1),this._updateAndEmitState(o.a.state.PREPARE_START))}p.prototype={constructor:p,_onState:function(e){if(this._receiveMsgFlag)switch(this._cancelTimeoutCheck(),e.code){case o.a.state.NOT_READY:this._updateAndEmitState(o.a.state.NOT_READY,null,null);break;case o.a.state.CONNECTING:this._updateAndEmitState(o.a.state.CONNECTING,null,null);break;case o.a.state.PREPARE_START:this._updateAndEmitState(o.a.state.PREPARE_START,null,null);break;case o.a.state.AUDIO_RECORDING:this._updateAndEmitState(o.a.state.AUDIO_RECORDING,null,null);break;case o.a.state.RESULT_RECEIVING:this._updateAndEmitState(o.a.state.RESULT_RECEIVING,null,null);break;case o.a.state.RESULT_RECEIVED:if(null!==e.data){this._updateAndEmitState(o.a.state.RESULT_RECEIVED,null,e.data);var t=JSON.stringify(e.data);e.data.isLast&&(l.a.getInstance().emit("CANCEL_MAX_TIMEOUT"),a.a.track({message:t}),this._updateAndEmitState(o.a.state.PREPARE_START,null,null))}else this._updateAndEmitState(o.a.state.RESULT_RECEIVED,null,null),this._updateAndEmitState(o.a.state.PREPARE_START,null,null)}},_onError:function(e){n.a._log("Evaluater native mode error:",e),l.a.getInstance().emit("CANCEL_MAX_TIMEOUT"),this._options.onError(e),a.a.track(e),this._spdck(function(e){a.a.log({message:"当前网络响应速度: "+e})},1)},_checkAppEnv:function(e){a.a.log({message:n.a._ua});var t=n.a.getAppInfo(),r=n.a.checkAppValid(t);if("boolean"!=typeof r){var i={code:1103,message:r};return e.onError(i),a.a.track(i),!1}a.a.log({message:"app valid: type="+t.app_type+", version="+t.app_version+", os="+t.app_os});var o=n.a.checkMinAppSupport(t);if("boolean"!=typeof o){i={code:1103,message:o};return e.onError(i),a.a.track(i),!1}return a.a.log({message:"app min support vaild"}),!0},_paramsCheck:function(e){var t=null;return e.appId||(t=o.a.errorMap.authFail),e.userId||(t=o.a.errorMap.userIdFail),!t||(e.onError(t),a.a.track(t),!1)},_updateAndEmitState:function(e,t,r){if(n.a._log("*** EvaluaterCore state change:",{code:e,message:t,data:r}),this._stateNow=e,e)try{this._options.onState({code:e,message:t,data:r})}catch(e){n.a._error("ERROR: "+e.message+", it's not evaluater error, please check code in onState function"),n.a._error(e)}},_convertH5EvalModeCodeToNative:function(e){var t=null;switch(e){case 3:t=o.a.evalModeCodeMappingForNative.SelfStudyHiTalk;break;case 100:t=o.a.evalModeCodeMappingForNative.ASR_Normal;break;case 101:t=o.a.evalModeCodeMappingForNative.ASR_RealTime;break;case 110:t=o.a.evalModeCodeMappingForNative.ASR_Normal_CN;break;case 111:t=o.a.evalModeCodeMappingForNative.ASR_RealTime_CN;break;default:t=o.a.evalModeCodeMappingForNative.SelfStudyNormal}return t},_cancelTimeoutCheck:function(){this._receiveTimeOutObj&&(clearTimeout(this._receiveTimeOutObj),this._receiveTimeOutObj=null)},fileEvaluaterStart:function(){a.a.log({message:"sdk call fileEvaluaterStart() failed."}),n.a._warn("The native mode doesn't has function fileEvaluaterStart()")},startPCMEvaluation:function(){a.a.log({message:"sdk call startPCMEvaluation() failed."}),n.a._warn("The native mode doesn't has function startPCMEvaluation()")},translatePCMStream:function(){a.a.log({message:"sdk call translatePCMStream() failed."}),n.a._warn("The native mode doesn't has function translatePCMStream()")},stopPCMEvaluation:function(){a.a.log({message:"sdk call stopPCMEvaluation() failed."}),n.a._warn("The native mode doesn't has function stopPCMEvaluation()")},start:function(e){a.a.log({message:"sdk call start(), stateNow code => "+this._stateNow+", info => "+JSON.stringify(e)}),this._receiveMsgFlag=!0,this._audioInfo=e;var t={};if((200===e.evalMode||e.useVAD)&&("number"==typeof e.vadSensivity&&(t.vadSensivity=.001*e.vadSensivity),"number"==typeof e.vadDuration&&(t.vadDuration=.001*e.vadDuration),"number"==typeof e.vadMaxRecordDuration&&(t.maxRecordDuration=t.vadMaxRecordDuration=.001*e.vadMaxRecordDuration),t.vadEngine=1),200!==e.evalMode){var r,i,s=null;switch(e.textMode){case 0:s={text:e.refText,prons:[]};break;case 1:s=e.refTextObj.wordlist;break;case 3:s={text:e.refTextObj.text,prons:e.refTextObj.prons};break;default:s=null,n.a._error("not support textMode: ",e.textMode)}if(!s)return;[100,101,110,111].indexOf(e.evalMode)>-1?(r=null,i=this._convertH5EvalModeCodeToNative(e.evalMode)):(r=this._convertH5EvalModeCodeToNative(e.evalMode),i=null),3===(i=e.evalMode)&&(s.keyWords=e.keyWords||{}),s.audioFormat=this._audioFormat,s.vadEnable=e.useVAD?1:0;var c={refTextObj:s};r?c.type=r:i&&(c.evalMode=i),c.refTextObj=f({},e,c.refTextObj,t),this._bridge.startRecord(c),this._receiveTime=e.receiveTimeout||5e3}else{this._updateAndEmitState(o.a.state.AUDIO_RECORDING,null,null);c={};c=f({},e,t),this._bridge.startVad(c)}},stop:function(){var e=this;if(a.a.log({message:"sdk call stop(), stateNow code => "+this._stateNow}),this._audioInfo)if(200!==this._audioInfo.evalMode){if(this._audioInfo.useVAD)a.a.log({message:"the vad stop function called, stateNow "+this._stateNow});else if([100,101,110,111].indexOf(this._audioInfo.evalMode)>-1){if(this._stateNow!==o.a.state.AUDIO_RECORDING&&this._stateNow!==o.a.state.RESULT_RECEIVING&&this._stateNow!==o.a.state.RESULT_RECEIVED)return void a.a.log({message:"the real-time stop function called but state not right, stateNow "+this._stateNow})}else if(this._stateNow!==o.a.state.AUDIO_RECORDING)return void a.a.log({message:"stop function called but state not right, stateNow "+this._stateNow});e._bridge.stopRecord(),e._receiveTimeOutObj=setTimeout(function(){e._onError(o.a.errorMap.evaluateNativeTimeout),e._bridge.resetRecord(),e._updateAndEmitState(o.a.state.RESULT_RECEIVED,null,null),e._updateAndEmitState(o.a.state.PREPARE_START,null,null)},e._receiveTime)}else e._updateAndEmitState(o.a.state.RESULT_RECEIVING,null,null),e._bridge.stopVad();else a.a.track({message:"the audio info is null, forget call start function?"})},close:function(){a.a.log({message:"sdk call close()"}),this.cancel()},cancel:function(){this._bridge&&(a.a.log({message:"sdk call cancel()"}),this._cancelTimeoutCheck(),this._bridge.stopRecord(),this._bridge.resetRecord(),this._onState({code:o.a.state.PREPARE_START}),this._receiveMsgFlag=!1)},getMagicNumber:function(){return n.a._warn("The native mode doesn't has function getMagicNumber()"),null}};t.a=p},function(e,t,r){e.exports=r(186)},function(e,t,r){"use strict";r.r(t),function(e){var n=r(1),i=r(0),o=r(178),a=r(183),s=r(184),c=r(21);e._babelPolyfill||r(270);var u,l,f,p,d=0,h=null,m=null,v=null,_=function(){h&&(clearTimeout(h),h=null),m&&(clearTimeout(m),m=null)};function g(e){e.sdk_version="0.3.93",this._sdkType=e.sdkType||"h5",window.localStorage.sdkType=this._sdkType,v=e.onError,"pcm"===this._sdkType&&(e.initRecorder=!1),this.core=null,window._vkm_debug_mode=!!e.debug,i.a.init({env:e.env||"prod",appId:e.appId,version:e.sdk_version,userId:e.userId,sdkMode:(e.sdkType||"h5")+"Mode",reInit:void 0===e.reInitSensor||!!e.reInitSensor}),this._init(this._sdkType,e)}g.prototype={constructor:g,_init:function(e,t){this.core&&n.a._log("the sdk core has exist instance!"),n.a._log("sdk version: "+t.sdk_version,"| sdk author:@Jia zi ling","| sdk type: "+e),n.a.browserCheck.wechat?v({code:"h5Mode"===e?1102:1103,message:"h5 evaluater sdk not support wechat browser!"}):(this.core="native"!==e?new o.a(t):new s.a(t),"pc"==e&&(this.core=new a.a(t)),c.a.getInstance().on("CANCEL_MAX_TIMEOUT",function(){_()}))},start:function(e){_(),u=e.recorderMinTime||1e3,l=e.recorderMaxTime||179e3,f=e.autoStopMinRecord||!1,p=e.autoStopMaxRecord||!1,(e.useVAD||200===e.evalMode)&&(e.vadSensivity=e.vadSensivity||300,e.vadDuration=e.vadDuration||1e3,e.vadMaxRecordDuration=e.vadMaxRecordDuration||1e4,e.vadAutoStop=void 0===e.vadAutoStop||!!e.vadAutoStop),this.startMaxRecordTimeout(),d=(new Date).getTime(),this.core.start(e)},startMaxRecordTimeout:function(){var e=this;m=setTimeout(function(){var t="the recording time is too long, sdk auto run stop: "+p+". recorder max time: "+l+" ms",r={code:1110,message:t};i.a.log({message:t}),v&&v(r),i.a.track(r),p&&e.core.stop(),m=null},l)},stop:function(){var e=this;_();var t=(new Date).getTime()-d;if(t>=u)this.core.stop();else{var r="the recording time is too short. recorder min time: "+u+" ms, auto stop: "+f,n={code:1109,message:r};if(i.a.log({message:r}),v&&v(n),i.a.track(n),!f)return;h=setTimeout(function(){h=null,e.core.stop()},u-t)}},fileEvaluaterStart:function(e){this.core.fileEvaluaterStart(e)},startPCMEvaluation:function(e){this.core.startPCMEvaluation(e)},translatePCMStream:function(e){this.core.translatePCMStream(e)},stopPCMEvaluation:function(){this.core.stopPCMEvaluation()},cancel:function(){_(),this.core.cancel()},close:function(){_(),this.core.close(),this.core=null,c.a.getInstance().removeAllListeners()},getMagicNumber:function(){return core?this.core.getMagicNumber():null},getSDKType:function(){return this._sdkType}},window&&(window.VKEvaluater=g),t.default=g}.call(this,r(35))},function(module,exports,__webpack_require__){(function(module){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){"object"==_typeof(exports)&&"object"==_typeof(module)?module.exports=e():e()}(function(){function BatchSend(){this.sendingData=0}try{var sd={modules:{}},_=sd._={};"object"!=("undefined"==typeof JSON?"undefined":_typeof(JSON))&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,i,o,a,s=gap,c=t[e];switch(c&&"object"==(void 0===c?"undefined":_typeof(c))&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),void 0===c?"undefined":_typeof(c)){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,r=0;r<o;r+=1)a[r]=str(r,c)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==(void 0===rep?"undefined":_typeof(rep)))for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&((i=str(n=rep[r],c))&&a.push(quote(n)+(gap?": ":":")+i));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&((i=str(n,c))&&a.push(quote(n)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=(void 0===t?"undefined":_typeof(t))||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,n,i=e[t];if(i&&"object"==(void 0===i?"undefined":_typeof(i)))for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(void 0!==(n=walk(i,r))?i[r]=n:delete i[r]);return reviver.call(e,t,i)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){var e=Array.prototype,t=Function.prototype,r=Object.prototype,n=e.slice,i=r.toString,o=r.hasOwnProperty,a=(t.bind,e.forEach),s=(e.indexOf,Array.isArray),c={},u=_.each=function(e,t,r){if(null==e)return!1;if(a&&e.forEach===a)e.forEach(t,r);else if(e.length===+e.length){for(var n=0,i=e.length;n<i;n++)if(n in e&&t.call(r,e[n],n,e)===c)return!1}else for(var s in e)if(o.call(e,s)&&t.call(r,e[s],s,e)===c)return!1};_.extend=function(e){return u(n.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&(e[r]=t[r])}),e},_.extend2Lev=function(e){return u(n.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&(_.isObject(t[r])&&_.isObject(e[r])?_.extend(e[r],t[r]):e[r]=t[r])}),e},_.coverExtend=function(e){return u(n.call(arguments,1),function(t){for(var r in t)void 0!==t[r]&&void 0===e[r]&&(e[r]=t[r])}),e},_.isArray=s||function(e){return"[object Array]"===i.call(e)},_.isFunction=function(e){if(!e)return!1;try{return/^\s*\bfunction\b/.test(e)}catch(e){return!1}},_.isArguments=function(e){return!(!e||!o.call(e,"callee"))},_.toArray=function(e){return e?e.toArray?e.toArray():_.isArray(e)?n.call(e):_.isArguments(e)?n.call(e):_.values(e):[]},_.values=function(e){var t=[];return null==e?t:(u(e,function(e){t[t.length]=e}),t)},_.indexOf=function(e,t){var r=e.indexOf;if(r)return r.call(e,t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},_.hasAttribute=function(e,t){return e.hasAttribute?e.hasAttribute(t):!(!e.attributes[t]||!e.attributes[t].specified)},_.filter=function(e,t,r){var n=Object.prototype.hasOwnProperty;if(e.filter)return e.filter(t);for(var i=[],o=0;o<e.length;o++)if(n.call(e,o)){var a=e[o];t.call(r,a,o,e)&&i.push(a)}return i},_.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e},_.trim=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},_.isObject=function(e){return null!=e&&"[object Object]"==i.call(e)},_.isEmptyObject=function(e){if(_.isObject(e)){for(var t in e)if(o.call(e,t))return!1;return!0}return!1},_.isUndefined=function(e){return void 0===e},_.isString=function(e){return"[object String]"==i.call(e)},_.isDate=function(e){return"[object Date]"==i.call(e)},_.isBoolean=function(e){return"[object Boolean]"==i.call(e)},_.isNumber=function(e){return"[object Number]"==i.call(e)&&/[\d\.]+/.test(String(e))},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},_.safeJSONParse=function(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t},_.decodeURIComponent=function(e){var t=e;try{t=decodeURIComponent(e)}catch(r){t=e}return t},_.encodeDates=function(e){return _.each(e,function(t,r){_.isDate(t)?e[r]=_.formatDate(t):_.isObject(t)&&(e[r]=_.encodeDates(t))}),e},_.mediaQueriesSupported=function(){return void 0!==window.matchMedia||void 0!==window.msMatchMedia},_.getScreenOrientation=function(){var e=screen.msOrientation||screen.mozOrientation||(screen.orientation||{}).type,t="未取到值";if(e)t=e.indexOf("landscape")>-1?"landscape":"portrait";else if(_.mediaQueriesSupported()){var r=window.matchMedia||window.msMatchMedia;r("(orientation: landscape)").matches?t="landscape":r("(orientation: portrait)").matches&&(t="portrait")}return t},_.now=Date.now||function(){return(new Date).getTime()},_.throttle=function(e,t,r){var n,i,o,a=null,s=0;r||(r={});var c=function(){s=!1===r.leading?0:_.now(),a=null,o=e.apply(n,i),a||(n=i=null)};return function(){var u=_.now();s||!1!==r.leading||(s=u);var l=t-(u-s);return n=this,i=arguments,l<=0||l>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(n,i),a||(n=i=null)):a||!1===r.trailing||(a=setTimeout(c,l)),o}},_.hashCode=function(e){if("string"!=typeof e)return 0;var t=0;if(0==e.length)return t;for(var r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t},_.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+t(e.getMilliseconds())},_.searchObjDate=function(e){_.isObject(e)&&_.each(e,function(t,r){_.isObject(t)?_.searchObjDate(e[r]):_.isDate(t)&&(e[r]=_.formatDate(t))})},_.searchZZAppStyle=function(e){void 0!==e.properties.$project&&(e.project=e.properties.$project,delete e.properties.$project),void 0!==e.properties.$token&&(e.token=e.properties.$token,delete e.properties.$token)},_.formatJsonString=function(e){try{return JSON.stringify(e,null,"  ")}catch(t){return JSON.stringify(e)}},_.formatString=function(e){return e.length>sd.para.max_string_length?(sd.log("字符串长度超过限制，已经做截取--"+e),e.slice(0,sd.para.max_string_length)):e},_.searchObjString=function(e){_.isObject(e)&&_.each(e,function(t,r){_.isObject(t)?_.searchObjString(e[r]):_.isString(t)&&(e[r]=_.formatString(t))})},_.parseSuperProperties=function(e){_.isObject(e)&&(_.each(e,function(t,r){if(_.isFunction(t))try{e[r]=t(),_.isFunction(e[r])&&(sd.log("您的属性- "+r+" 格式不满足要求，我们已经将其删除"),delete e[r])}catch(t){delete e[r],sd.log("您的属性- "+r+" 抛出了异常，我们已经将其删除")}}),_.strip_sa_properties(e))},_.filterReservedProperties=function(e){_.isObject(e)&&_.each(["distinct_id","user_id","id","date","datetime","event","events","first_id","original_id","device_id","properties","second_id","time","users"],function(t,r){t in e&&(r<3?(delete e[t],sd.log("您的属性- "+t+"是保留字段，我们已经将其删除")):sd.log("您的属性- "+t+"是保留字段，请避免其作为属性名"))})},_.searchConfigData=function(e){if("object"==(void 0===e?"undefined":_typeof(e))&&e.$option){var t=e.$option;return delete e.$option,t}return{}},_.unique=function(e){for(var t,r=[],n={},i=0;i<e.length;i++)(t=e[i])in n||(n[t]=!0,r.push(t));return r},_.strip_sa_properties=function(e){return _.isObject(e)?(_.each(e,function(t,r){if(_.isArray(t)){var n=[];_.each(t,function(e){_.isString(e)?n.push(e):sd.log("您的数据-",r,t,"的数组里的值必须是字符串,已经将其删除")}),0!==n.length?e[r]=n:(delete e[r],sd.log("已经删除空的数组"))}_.isString(t)||_.isNumber(t)||_.isDate(t)||_.isBoolean(t)||_.isArray(t)||_.isFunction(t)||"$option"===r||(sd.log("您的数据-",r,t,"-格式不满足要求，我们已经将其删除"),delete e[r])}),e):e},_.strip_empty_properties=function(e){var t={};return _.each(e,function(e,r){null!=e&&(t[r]=e)}),t},_.utf8Encode=function(e){var t,r,n,i,o="";for(t=r=0,i=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,n=0;n<i;n++){var a=e.charCodeAt(n),s=null;a<128?r++:s=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),null!==s&&(r>t&&(o+=e.substring(t,r)),o+=s,t=r=n+1)}return r>t&&(o+=e.substring(t,e.length)),o},_.base64Encode=function(e){if("function"==typeof btoa)return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}));var t,r,n,i,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,c=0,u="",l=[];if(!(e=String(e)))return e;e=_.utf8Encode(e);do{t=(o=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,r=o>>12&63,n=o>>6&63,i=63&o,l[c++]=a.charAt(t)+a.charAt(r)+a.charAt(n)+a.charAt(i)}while(s<e.length);switch(u=l.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},_.UUID=function(){var e=function(){for(var e=1*new Date,t=0;e==1*new Date;)t++;return e.toString(16)+t.toString(16)};return function(){var t=String(screen.height*screen.width);t=t&&/\d{5,}/.test(t)?t.toString(16):String(31242*Math.random()).replace(".","").slice(0,8);var r=e()+"-"+Math.random().toString(16).replace(".","")+"-"+function(e){function t(e,t){var r,n=0;for(r=0;r<t.length;r++)n|=o[r]<<8*r;return e^n}var r,n,i=navigator.userAgent,o=[],a=0;for(r=0;r<i.length;r++)n=i.charCodeAt(r),o.unshift(255&n),o.length>=4&&(a=t(a,o),o=[]);return o.length>0&&(a=t(a,o)),a.toString(16)}()+"-"+t+"-"+e();return r||(String(Math.random())+String(Math.random())+String(Math.random())).slice(2,15)}}(),_.getQueryParam=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=_.decodeURIComponent(e);var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===r||r&&"string"!=typeof r[1]&&r[1].length?"":_.decodeURIComponent(r[1])},_.urlParse=function(e){var t=function(e){this._fields={Username:4,Password:5,Port:7,Protocol:2,Host:6,Path:8,URL:0,QueryString:9,Fragment:10},this._values={},this._regex=null,this._regex=/^((\w+):\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/,void 0!==e&&this._parse(e)};return t.prototype.setUrl=function(e){this._parse(e)},t.prototype._initValues=function(){for(var e in this._fields)this._values[e]=""},t.prototype.addQueryString=function(e){if("object"!=(void 0===e?"undefined":_typeof(e)))return!1;var t=this._values.QueryString||"";for(var r in e)t=new RegExp(r+"[^&]+").test(t)?t.replace(new RegExp(r+"[^&]+"),r+"="+e[r]):"&"===t.slice(-1)?t+r+"="+e[r]:""===t?r+"="+e[r]:t+"&"+r+"="+e[r];this._values.QueryString=t},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",e+=this._values.Path,(e+=this._values.QueryString?"?"+this._values.QueryString:"")+(this._values.Fragment?"#"+this._values.Fragment:"")},t.prototype.getUrl=function(){var e="";return e+=this._values.Origin,e+=this._values.Port?":"+this._values.Port:"",(e+=this._values.Path)+(this._values.QueryString?"?"+this._values.QueryString:"")},t.prototype._parse=function(e){this._initValues();var t=this._regex.exec(e);if(!t)throw"DPURLParser::_parse -> Invalid URL";for(var r in this._fields)void 0!==t[this._fields[r]]&&(this._values[r]=t[this._fields[r]]);this._values.Hostname=this._values.Host.replace(/:\d+$/,""),this._values.Origin=this._values.Protocol+"://"+this._values.Hostname},new t(e)},_.addEvent=function(){function e(t){return t&&(t.preventDefault=e.preventDefault,t.stopPropagation=e.stopPropagation,t._getPath=e._getPath),t}e._getPath=function(){var e=this;return this.path||this.composedPath&&this.composedPath()||function(){try{var t=e.target,r=[t];if(null===t||null===t.parentElement)return[];for(;null!==t.parentElement;)t=t.parentElement,r.unshift(t);return r}catch(e){return[]}}()},e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0};(function(t,r,n){var i=!(!_.isObject(sd.para.heatmap)||!sd.para.heatmap.useCapture);if(_.isObject(sd.para.heatmap)&&void 0===sd.para.heatmap.useCapture&&"click"===r&&(i=!0),t&&t.addEventListener)t.addEventListener(r,function(t){t._getPath=e._getPath,n.call(this,t)},i);else{var o="on"+r,a=t[o];t[o]=function(t,r,n){return function(i){if(i=i||e(window.event)){i.target=i.srcElement;var o,a,s=!0;return"function"==typeof n&&(o=n(i)),a=r.call(t,i),!1!==o&&!1!==a||(s=!1),s}}}(t,n,a)}}).apply(null,arguments)},_.addHashEvent=function(e){var t="pushState"in window.history?"popstate":"hashchange";_.addEvent(window,t,e)},_.addSinglePageEvent=function(e){var t=location.href,r=window.history.pushState,n=window.history.replaceState;window.history.pushState=function(){r.apply(window.history,arguments),e(t),t=location.href},window.history.replaceState=function(){n.apply(window.history,arguments),e(t),t=location.href};var i=r?"popstate":"hashchange";_.addEvent(window,i,function(){e(t),t=location.href})},_.cookie={get:function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return _.decodeURIComponent(i.substring(t.length,i.length))}return null},set:function(e,t,r,n,i){n=void 0===n?sd.para.cross_subdomain:n;var o="",a="",s="";if(r=null==r?73e3:r,n){var c=_.getCurrentDomain(location.href);"url解析失败"===c&&(c=""),o=c?"; domain="+c:""}if(0!==r){var u=new Date;"s"===String(r).slice(-1)?u.setTime(u.getTime()+1e3*Number(String(r).slice(0,-1))):u.setTime(u.getTime()+24*r*60*60*1e3),a="; expires="+u.toGMTString()}i&&(s="; secure"),document.cookie=e+"="+encodeURIComponent(t)+a+"; path=/"+o+s},remove:function(e,t){t=void 0===t?sd.para.cross_subdomain:t,_.cookie.set(e,"",-1,t)},getCookieName:function(e,t){var r="";if(t=t||location.href,!1===sd.para.cross_subdomain){try{r=_.URL(t).hostname}catch(e){sd.log(e)}r="string"==typeof r&&""!==r?"sajssdk_2015_"+e+"_"+r.replace(/\./g,"_"):"sajssdk_2015_root_"+e}else r="sajssdk_2015_cross_"+e;return r},getNewUser:function(){return null!==this.get("sensorsdata_is_new_user")||null!==this.get(this.getCookieName("new_user"))}},_.getElementContent=function(e,t){var r="",n="";return e.textContent?r=_.trim(e.textContent):e.innerText&&(r=_.trim(e.innerText)),r&&(r=r.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)),n=r||"","input"!==t&&"INPUT"!==t||("button"===e.type||"submit"===e.type?n=e.value||"":sd.para.heatmap&&"function"==typeof sd.para.heatmap.collect_input&&sd.para.heatmap.collect_input(e)&&(n=e.value||"")),n},_.getEleInfo=function(e){if(!e.target)return!1;var t=e.target,r=t.tagName.toLowerCase(),n={};return n.$element_type=r,n.$element_name=t.getAttribute("name"),n.$element_id=t.getAttribute("id"),n.$element_class_name="string"==typeof t.className?t.className:null,n.$element_target_url=t.getAttribute("href"),n.$element_content=_.getElementContent(t,r),(n=_.strip_empty_properties(n)).$url=location.href,n.$url_path=location.pathname,n.$title=document.title,n.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,n},_.localStorage={get:function(e){return window.localStorage.getItem(e)},parse:function(e){var t;try{t=JSON.parse(_.localStorage.get(e))||null}catch(e){sd.log(e)}return t},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)},isSupport:function(){var e=!0;try{var t="__sensorsdatasupport__",r="testIsSupportStorage";_.localStorage.set(t,r),_.localStorage.get(t)!==r&&(e=!1),_.localStorage.remove(t)}catch(t){e=!1}return e}},_.sessionStorage={isSupport:function(){var e=!0,t="__sensorsdatasupport__",r="testIsSupportStorage";try{sessionStorage&&sessionStorage.setItem?(sessionStorage.setItem(t,r),sessionStorage.removeItem(t,r),e=!0):e=!1}catch(t){e=!1}return e}},_.isSupportCors=function(){return void 0!==window.XMLHttpRequest&&("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest)},_.xhr=function(e){if(e)return void 0!==window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:null;if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){sd.log(e)}}},_.ajax=function(e){function t(e){if(!e)return"";try{return JSON.parse(e)}catch(e){return{}}}e.timeout=e.timeout||2e4,e.credentials=void 0===e.credentials||e.credentials;var r=_.xhr(e.cors);if(!r)return!1;e.type||(e.type=e.data?"POST":"GET"),e=_.extend({success:function(){},error:function(){}},e);try{"object"==(void 0===r?"undefined":_typeof(r))&&"timeout"in r?r.timeout=e.timeout:setTimeout(function(){r.abort()},e.timeout+500)}catch(t){try{setTimeout(function(){r.abort()},e.timeout+500)}catch(e){sd.log(e)}}r.onreadystatechange=function(){try{4==r.readyState&&(r.status>=200&&r.status<300||304==r.status?e.success(t(r.responseText)):e.error(t(r.responseText),r.status),r.onreadystatechange=null,r.onload=null)}catch(e){r.onreadystatechange=null,r.onload=null}},r.open(e.type,e.url,!0);try{if(e.credentials&&(r.withCredentials=!0),_.isObject(e.header))for(var n in e.header)r.setRequestHeader(n,e.header[n]);e.data&&(e.cors||r.setRequestHeader("X-Requested-With","XMLHttpRequest"),"application/json"===e.contentType?r.setRequestHeader("Content-type","application/json; charset=UTF-8"):r.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(e){sd.log(e)}r.send(e.data||null)},_.loadScript=function(e){var t=null;"css"===(e=_.extend({success:function(){},error:function(){},appendCall:function(e){document.getElementsByTagName("head")[0].appendChild(e)}},e)).type&&((t=document.createElement("link")).rel="stylesheet",t.href=e.url),"js"===e.type&&((t=document.createElement("script")).async="async",t.setAttribute("charset","UTF-8"),t.src=e.url,t.type="text/javascript"),t.onload=t.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e.success(),t.onload=t.onreadystatechange=null)},t.onerror=function(){e.error(),t.onerror=null},e.appendCall(t)},_.getHostname=function(e,t){t&&"string"==typeof t||(t="hostname解析异常");var r=null;try{r=_.URL(e).hostname}catch(e){sd.log(e)}return r||t},_.getQueryParamsFromUrl=function(e){var t={},r=e.split("?")[1]||"";return r&&(t=_.getURLSearchParams("?"+r)),t},_.getURLSearchParams=function(e){for(var t=function(e){return decodeURIComponent(e)},r={},n=(e=e||"").substring(1).split("&"),i=0;i<n.length;i++){var o=n[i].indexOf("=");if(-1!==o){var a=n[i].substring(0,o),s=n[i].substring(o+1);a=t(a),s=t(s),r[a]=s}}return r},_.URL=function(e){var t={},r=["hash","host","hostname","href","origin","password","pathname","port","protocol","search","username"];if("function"==typeof window.URL&&function(){try{return"http://modernizr.com/"===new URL("http://modernizr.com/").href}catch(e){return!1}}())(t=new URL(e)).searchParams||(t.searchParams=function(){var e=_.getURLSearchParams(t.search);return{get:function(t){return e[t]}}}());else{if(!1===/^https?:\/\/.+/.test(e))throw"Invalid URL";var n=document.createElement("a");n.href=e;for(var i=r.length-1;i>=0;i--){var o=r[i];t[o]=n[o]}t.hostname&&"string"==typeof t.pathname&&0!==t.pathname.indexOf("/")&&(t.pathname="/"+t.pathname),t.searchParams=function(){var e=_.getURLSearchParams(t.search);return{get:function(t){return e[t]}}}()}return t},_.getCurrentDomain=function(e){var t=sd.para.current_domain;switch(void 0===t?"undefined":_typeof(t)){case"function":var r=t();return""===r||""===_.trim(r)?"url解析失败":-1!==r.indexOf(".")?r:"url解析失败";case"string":return""===t||""===_.trim(t)?"url解析失败":-1!==t.indexOf(".")?t:"url解析失败";default:var n=_.getCookieTopLevelDomain();return""===e?"url解析失败":""===n?"url解析失败":n}},_.getCookieTopLevelDomain=function(e){var t=(e=e||window.location.hostname).split(".");if(_.isArray(t)&&t.length>=2&&!/^(\d+\.)+\d+$/.test(e))for(var r="."+t.splice(t.length-1,1);t.length>0;)if(r="."+t.splice(t.length-1,1)+r,document.cookie="sensorsdata_domain_test=true; path=/; domain="+r,-1!==document.cookie.indexOf("sensorsdata_domain_test=true")){var n=new Date;return n.setTime(n.getTime()-1e3),document.cookie="sensorsdata_domain_test=true; expires="+n.toGMTString()+"; path=/; domain="+r,r}return""},_.isReferralTraffic=function(e){return""===(e=e||document.referrer)||_.getCookieTopLevelDomain(_.getHostname(e))!==_.getCookieTopLevelDomain()},_.ry=function(e){return new _.ry.init(e)},_.ry.init=function(e){this.ele=e},_.ry.init.prototype={addClass:function(e){return-1===(" "+this.ele.className+" ").indexOf(" "+e+" ")&&(this.ele.className=this.ele.className+(""===this.ele.className?"":" ")+e),this},removeClass:function(e){var t=" "+this.ele.className+" ";return-1!==t.indexOf(" "+e+" ")&&(this.ele.className=t.replace(" "+e+" "," ").slice(1,-1)),this},hasClass:function(e){return-1!==(" "+this.ele.className+" ").indexOf(" "+e+" ")},attr:function(e,t){return"string"==typeof e&&_.isUndefined(t)?this.ele.getAttribute(e):("string"==typeof e&&(t=String(t),this.ele.setAttribute(e,t)),this)},offset:function(){var e=this.ele.getBoundingClientRect();if(e.width||e.height){var t=this.ele.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}return{top:0,left:0}},getSize:function(){if(!window.getComputedStyle)return{width:this.ele.offsetWidth,height:this.ele.offsetHeight};try{var e=this.ele.getBoundingClientRect();return{width:e.width,height:e.height}}catch(e){return{width:0,height:0}}},getStyle:function(e){return this.ele.currentStyle?this.ele.currentStyle[e]:this.ele.ownerDocument.defaultView.getComputedStyle(this.ele,null).getPropertyValue(e)},wrap:function(e){var t=document.createElement(e);return this.ele.parentNode.insertBefore(t,this.ele),t.appendChild(this.ele),_.ry(t)},getCssStyle:function(e){var t=this.ele.style.getPropertyValue(e);if(t)return t;var r=null;if("function"==typeof window.getMatchedCSSRules&&(r=getMatchedCSSRules(this.ele)),!r||!_.isArray(r))return null;for(var n=r.length-1;n>=0;n--){if(t=r[n].style.getPropertyValue(e))return t}},sibling:function(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e},next:function(){return this.sibling(this.ele,"nextSibling")},prev:function(e){return this.sibling(this.ele,"previousSibling")},siblings:function(e){return this.siblings((this.ele.parentNode||{}).firstChild,this.ele)},children:function(e){return this.siblings(this.ele.firstChild)},parent:function(){var e=this.ele.parentNode;return e=e&&11!==e.nodeType?e:null,_.ry(e)}},_.strToUnicode=function(e){if("string"!=typeof e)return sd.log("转换unicode错误",e),e;for(var t="",r=0;r<e.length;r++)t+="\\"+e.charCodeAt(r).toString(16);return t},_.getReferrer=function(e){return"string"!=typeof(e=e||document.referrer)?"取值异常_referrer异常_"+String(e):(0===e.indexOf("https://www.baidu.com/")&&(e=e.split("?")[0]),"string"==typeof(e=e.slice(0,sd.para.max_referrer_string_length))?e:"")},_.getKeywordFromReferrer=function(e){e=e||document.referrer;var t=sd.para.source_type.keyword;if(document&&"string"==typeof e){if(0===e.indexOf("http")){var r=_.getReferSearchEngine(e),n=_.getQueryParamsFromUrl(e);if(_.isEmptyObject(n))return"未取到值";var i=null;for(var o in t)if(r===o&&"object"==(void 0===n?"undefined":_typeof(n)))if(i=t[o],_.isArray(i))for(o=0;o<i.length;o++){var a=n[i[o]];if(a)return a}else if(n[i])return n[i];return"未取到值"}return""===e?"未取到值_直接打开":"未取到值_非http的url"}return"取值异常_referrer异常_"+String(e)},_.getReferSearchEngine=function(e){var t=_.getHostname(e);if(!t||"hostname解析异常"===t)return"";var r=(sd.para.source_type.keyword,{baidu:[/^.*\.baidu\.com$/],bing:[/^.*\.bing\.com$/],google:[/^www\.google\.com$/,/^www\.google\.com\.[a-z]{2}$/,/^www\.google\.[a-z]{2}$/],sm:[/^m\.sm\.cn$/],so:[/^.+\.so\.com$/],sogou:[/^.*\.sogou\.com$/],yahoo:[/^.*\.yahoo\.com$/]});for(var n in r)for(var i=r[n],o=0,a=i.length;o<a;o++)if(i[o].test(t))return n;return"未知搜索引擎"},_.getSourceFromReferrer=function(){function e(e,t){for(var r=0;r<e.length;r++)if(-1!==t.split("?")[0].indexOf(e[r]))return!0}var t="("+sd.para.source_type.utm.join("|")+")\\=[^&]+",r=sd.para.source_type.search,n=sd.para.source_type.social,i=document.referrer||"",o=_.info.pageProp.url;if(o){var a=o.match(new RegExp(t));return a&&a[0]?"付费广告流量":e(r,i)?"自然搜索流量":e(n,i)?"社交网站流量":""===i?"直接流量":"引荐流量"}return"获取url异常"},_.info={initPage:function(){var e=_.getReferrer(),t=location.href,r=_.getCurrentDomain(t);r||sd.debug.jssdkDebug("url_domain异常_"+t+"_"+r),this.pageProp={referrer:e,referrer_host:e?_.getHostname(e):"",url:t,url_host:_.getHostname(t,"url_host取值异常"),url_domain:r}},pageProp:{},campaignParams:function(){var e=sd.source_channel_standard.split(" "),t="",r={};return _.isArray(sd.para.source_channel)&&sd.para.source_channel.length>0&&(e=e.concat(sd.para.source_channel),e=_.unique(e)),_.each(e,function(e){(t=_.getQueryParam(location.href,e)).length&&(r[e]=t)}),r},campaignParamsStandard:function(e,t){e=e||"",t=t||"";var r=_.info.campaignParams(),n={},i={};for(var o in r)-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+o+" ")?n[e+o]=r[o]:i[t+o]=r[o];return{$utms:n,otherUtms:i}},properties:function(){return{$screen_height:Number(screen.height)||0,$screen_width:Number(screen.width)||0,$lib:"js",$lib_version:String(sd.lib_version)}},currentProps:{},register:function(e){_.extend(_.info.currentProps,e)}},_.autoExeQueue=function(){return{items:[],enqueue:function(e){this.items.push(e),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){this.items.length>0&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}}},_.trackLink=function(e,t,r){function n(e){function n(){o||(o=!0,location.href=i.href)}e.stopPropagation(),e.preventDefault();var o=!1;setTimeout(n,1e3),sd.track(t,r,n)}var i=null;return(e=e||{}).ele&&(i=e.ele),e.event&&(i=e.target?e.target:e.event.target),r=r||{},!(!i||"object"!=(void 0===i?"undefined":_typeof(i)))&&(!i.href||/^javascript/.test(i.href)||i.target||i.download||i.onclick?(sd.track(t,r),!1):(e.event&&n(e.event),void(e.ele&&_.addEvent(e.ele,"click",function(e){n(e)}))))},_.eventEmitter=function(){this._events=[],this.pendingEvents=[]},_.eventEmitter.prototype={emit:function(e){var t=[].slice.call(arguments,1);_.each(this._events,function(r){r.type===e&&r.callback.apply(r.context,t)})},on:function(e,t,r){"function"==typeof t&&this._events.push({type:e,callback:t,context:r||this})},tempAdd:function(e,t){t&&e&&(this.pendingEvents.push({type:e,data:t}),this.pendingEvents.length>20&&this.pendingEvents.shift())},isReady:function(){var e=this;this.tempAdd=this.emit,0!==this.pendingEvents.length&&(_.each(this.pendingEvents,function(t){e.emit(t.type,t.data)}),this.pendingEvents=[])}}}(),sd.para_default={preset_properties:{latest_utm:!0,latest_traffic_source_type:!0,latest_search_keyword:!0,latest_referrer:!0,latest_referrer_host:!1,latest_landing_page:!1,url:!1,title:!1},img_use_crossorigin:!1,name:"sa",max_referrer_string_length:200,max_string_length:500,cross_subdomain:!0,show_log:!0,is_debug:!1,debug_mode:!1,debug_mode_upload:!1,session_time:0,use_client_time:!1,source_channel:[],send_type:"image",vtrack_ignore:{},auto_init:!0,is_track_single_page:!1,is_single_page:!1,batch_send:!1,source_type:{},callback_timeout:200,datasend_timeout:3e3,queue_timeout:300,is_track_device_id:!1,ignore_oom:!0,app_js_bridge:!1},sd.addReferrerHost=function(e){var t="取值异常";_.isObject(e.properties)&&(e.properties.$first_referrer&&(e.properties.$first_referrer_host=_.getHostname(e.properties.$first_referrer,t)),"track"!==e.type&&"track_signup"!==e.type||("$referrer"in e.properties&&(e.properties.$referrer_host=""===e.properties.$referrer?"":_.getHostname(e.properties.$referrer,t)),sd.para.preset_properties.latest_referrer&&sd.para.preset_properties.latest_referrer_host&&(e.properties.$latest_referrer_host=""===e.properties.$latest_referrer?"":_.getHostname(e.properties.$latest_referrer,t))))},sd.addPropsHook=function(e){sd.para.preset_properties&&sd.para.preset_properties.url&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$url&&(e.properties.$url=window.location.href),sd.para.preset_properties&&sd.para.preset_properties.title&&("track"===e.type||"track_signup"===e.type)&&void 0===e.properties.$title&&(e.properties.$title=document.title)},sd.initPara=function(e){sd.para=e||sd.para||{};var t,r={};if(_.isObject(sd.para.is_track_latest))for(var n in sd.para.is_track_latest)r["latest_"+n]=sd.para.is_track_latest[n];for(t in sd.para.preset_properties=_.extend({},sd.para_default.preset_properties,r,sd.para.preset_properties||{}),sd.para_default)void 0===sd.para[t]&&(sd.para[t]=sd.para_default[t]);"string"==typeof sd.para.server_url&&"://"===sd.para.server_url.slice(0,3)&&(sd.para.server_url=location.protocol.slice(-1)+sd.para.server_url),"string"==typeof sd.para.web_url&&"://"===sd.para.web_url.slice(0,3)&&(sd.para.web_url=location.protocol.slice(-1)+sd.para.web_url),"image"!==sd.para.send_type&&"ajax"!==sd.para.send_type&&"beacon"!==sd.para.send_type&&(sd.para.send_type="image"),sd.bridge.initPara(),sd.bridge.initState();var i={datasend_timeout:6e3,send_interval:6e3,one_send_max_length:6};_.localStorage.isSupport()&&_.isSupportCors()&&"object"==("undefined"==typeof localStorage?"undefined":_typeof(localStorage))?!0===sd.para.batch_send?(sd.para.batch_send=_.extend({},i),sd.para.use_client_time=!0):"object"==_typeof(sd.para.batch_send)&&(sd.para.use_client_time=!0,sd.para.batch_send=_.extend({},i,sd.para.batch_send)):sd.para.batch_send=!1;var o=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],a=["www.baidu.","m.baidu.","m.sm.cn","so.com","sogou.com","youdao.com","google.","yahoo.com/","bing.com/","ask.com/"],s=["weibo.com","renren.com","kaixin001.com","douban.com","qzone.qq.com","zhihu.com","tieba.baidu.com","weixin.qq.com"],c={baidu:["wd","word","kw","keyword"],google:"q",bing:"q",yahoo:"p",sogou:["query","keyword"],so:"q",sm:"q"};if("object"==_typeof(sd.para.source_type)&&(sd.para.source_type.utm=_.isArray(sd.para.source_type.utm)?sd.para.source_type.utm.concat(o):o,sd.para.source_type.search=_.isArray(sd.para.source_type.search)?sd.para.source_type.search.concat(a):a,sd.para.source_type.social=_.isArray(sd.para.source_type.social)?sd.para.source_type.social.concat(s):s,sd.para.source_type.keyword=_.isObject(sd.para.source_type.keyword)?_.extend(c,sd.para.source_type.keyword):c),_.isObject(sd.para.heatmap)&&(sd.para.heatmap.clickmap=sd.para.heatmap.clickmap||"default",sd.para.heatmap.scroll_notice_map=sd.para.heatmap.scroll_notice_map||"default",sd.para.heatmap.scroll_delay_time=sd.para.heatmap.scroll_delay_time||4e3,sd.para.heatmap.scroll_event_duration=sd.para.heatmap.scroll_event_duration||18e3,sd.para.heatmap.renderRefreshTime=sd.para.heatmap.renderRefreshTime||1e3,sd.para.heatmap.loadTimeout=sd.para.heatmap.loadTimeout||1e3),"object"==_typeof(sd.para.server_url)&&sd.para.server_url.length)for(t=0;t<sd.para.server_url.length;t++)/sa\.gif[^\/]*$/.test(sd.para.server_url[t])||(sd.para.server_url[t]=sd.para.server_url[t].replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));else/sa\.gif[^\/]*$/.test(sd.para.server_url)||(sd.para.server_url=sd.para.server_url.replace(/\/sa$/,"/sa.gif").replace(/(\/sa)(\?[^\/]+)$/,"/sa.gif$2"));"string"==typeof sd.para.server_url&&(sd.para.debug_mode_url=sd.para.debug_mode_url||sd.para.server_url.replace("sa.gif","debug")),!0===sd.para.noCache?sd.para.noCache="?"+(new Date).getTime():sd.para.noCache="",sd.para.callback_timeout>sd.para.datasend_timeout&&(sd.para.datasend_timeout=sd.para.callback_timeout),sd.para.callback_timeout>sd.para.queue_timeout&&(sd.para.queue_timeout=sd.para.callback_timeout),sd.para.queue_timeout>sd.para.datasend_timeout&&(sd.para.datasend_timeout=sd.para.queue_timeout)},sd.readyState={state:0,historyState:[],stateType:{1:"1-init未开始",2:"2-init开始",3:"3-store完成"},getState:function(){return this.historyState.join("\n")},setState:function(e){String(e)in this.stateType&&(this.state=e),this.historyState.push(this.stateType[e])}},sd.setPreConfig=function(e){sd.para=e.para,sd._q=e._q},sd.setInitVar=function(){sd._t=sd._t||1*new Date,sd.lib_version="1.15.8",sd.is_first_visitor=!1,sd.source_channel_standard="utm_source utm_medium utm_campaign utm_content utm_term"},sd.log=function(){if((_.sessionStorage.isSupport()&&"true"===sessionStorage.getItem("sensorsdata_jssdk_debug")||sd.para.show_log)&&(!0!==sd.para.show_log&&"string"!==sd.para.show_log&&!1!==sd.para.show_log||(arguments[0]=_.formatJsonString(arguments[0])),"object"==("undefined"==typeof console?"undefined":_typeof(console))&&console.log))try{return console.log.apply(console,arguments)}catch(e){console.log(arguments[0])}},sd.enableLocalLog=function(){if(_.sessionStorage.isSupport())try{sessionStorage.setItem("sensorsdata_jssdk_debug","true")}catch(e){sd.log("enableLocalLog error: "+e.message)}},sd.disableLocalLog=function(){_.sessionStorage.isSupport()&&sessionStorage.removeItem("sensorsdata_jssdk_debug")},sd.debug={distinct_id:function(){},jssdkDebug:function(){},_sendDebug:function(e){sd.track("_sensorsdata2019_debug",{_jssdk_debug_info:e})},apph5:function(e){var t="app_h5打通失败-",r={1:t+"use_app_track为false",2:t+"Android或者iOS，没有暴露相应方法",3.1:t+"Android校验server_url失败",3.2:t+"iOS校验server_url失败",4.1:t+"H5 校验 iOS server_url 失败",4.2:t+"H5 校验 Android server_url 失败"},n=e.output,i=e.step,o=e.data||"";"all"!==n&&"console"!==n||sd.log(r[i]),("all"===n||"code"===n)&&_.isObject(sd.para.is_debug)&&sd.para.is_debug.apph5&&(o.type&&"profile"===o.type.slice(0,7)||(o.properties._jssdk_debug_info="apph5-"+String(i)))},defineMode:function(e){var t={1:{title:"当前页面无法进行可视化全埋点",message:"App SDK 与 Web JS SDK 没有进行打通，请联系贵方技术人员修正 App SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},2:{title:"当前页面无法进行可视化全埋点",message:"App SDK 与 Web JS SDK 没有进行打通，请联系贵方技术人员修正 Web JS SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"},3:{title:"当前页面无法进行可视化全埋点",message:"Web JS SDK 没有开启全埋点配置，请联系贵方工作人员修正 SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_web_all-1573964.html"},4:{title:"当前页面无法进行可视化全埋点",message:"Web JS SDK 配置的数据校验地址与 App SDK 配置的数据校验地址不一致，请联系贵方工作人员修正 SDK 的配置，详细信息请查看文档。",link_text:"配置文档",link_url:"https://manual.sensorsdata.cn/sa/latest/tech_sdk_client_link-1573913.html"}};return!(!e||!t[e])&&t[e]}};var commonWays={setOnlineState:function(e){if(!0===e&&_.isObject(sd.para.jsapp)&&"function"==typeof sd.para.jsapp.getData){sd.para.jsapp.isOnline=!0;var t=sd.para.jsapp.getData();_.isArray(t)&&t.length>0&&_.each(t,function(e){_.isJSONString(e)&&sd.sendState.pushSend(JSON.parse(e))})}else sd.para.jsapp.isOnline=!1},autoTrackIsUsed:!1,isReady:function(e){e()},getUtm:function(){return _.info.campaignParams()},getStayTime:function(){return(new Date-sd._t)/1e3},setProfileLocal:function(e){if(!_.localStorage.isSupport())return sd.setProfile(e),!1;if(!_.isObject(e)||_.isEmptyObject(e))return!1;var t=_.localStorage.parse("sensorsdata_2015_jssdk_profile"),r=!1;if(_.isObject(t)&&!_.isEmptyObject(t)){for(var n in e)!(n in t&&t[n]!==e[n])&&n in t||(t[n]=e[n],r=!0);r&&(_.localStorage.set("sensorsdata_2015_jssdk_profile",JSON.stringify(t)),sd.setProfile(e))}else _.localStorage.set("sensorsdata_2015_jssdk_profile",JSON.stringify(e)),sd.setProfile(e)},setInitReferrer:function(){var e=_.getReferrer();sd.setOnceProfile({_init_referrer:e,_init_referrer_host:_.info.pageProp.referrer_host})},setSessionReferrer:function(){var e=_.getReferrer();store.setSessionPropsOnce({_session_referrer:e,_session_referrer_host:_.info.pageProp.referrer_host})},setDefaultAttr:function(){_.info.register({_current_url:location.href,_referrer:_.getReferrer(),_referring_host:_.info.pageProp.referrer_host})},trackHeatMap:function(e,t,r){if("object"==(void 0===e?"undefined":_typeof(e))&&e.tagName){var n=e.tagName.toLowerCase(),i=e.parentNode.tagName.toLowerCase();"button"===n||"a"===n||"a"===i||"button"===i||"input"===n||"textarea"===n||_.hasAttribute(e,"data-sensors-click")||heatmap.start(null,e,n,t,r)}},trackAllHeatMap:function(e,t,r){if("object"==(void 0===e?"undefined":_typeof(e))&&e.tagName){var n=e.tagName.toLowerCase();heatmap.start(null,e,n,t,r)}},autoTrackSinglePage:function(e,t){function r(){var e=_.info.campaignParams(),t={};for(var r in e)-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=e[r]:t[r]=e[r];return t}function n(e,t){sd.track("$pageview",_.extend({$referrer:i,$url:location.href,$url_path:location.pathname,$title:document.title},e,r()),t),i=location.href}if(this.autoTrackIsUsed)var i=_.info.pageProp.url;else i=_.info.pageProp.referrer;e=_.isObject(e)?e:{},e=_.isObject(e)?e:{},sd.is_first_visitor&&!e.not_set_profile&&(sd.setOnceProfile(_.extend({$first_visit_time:new Date,$first_referrer:_.getReferrer(),$first_browser_language:navigator.language||"取值异常",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"取值异常",$first_traffic_source_type:_.getSourceFromReferrer(),$first_search_keyword:_.getKeywordFromReferrer()},r())),sd.is_first_visitor=!1),e.not_set_profile&&delete e.not_set_profile,n(e,t),this.autoTrackSinglePage=n},autoTrackWithoutProfile:function(e,t){e=_.isObject(e)?e:{},this.autoTrack(_.extend(e,{not_set_profile:!0}),t)},autoTrack:function(e,t){e=_.isObject(e)?e:{};var r=_.info.campaignParams(),n={};for(var i in r)-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+i+" ")?n["$"+i]=r[i]:n[i]=r[i];sd.is_first_visitor&&!e.not_set_profile&&(sd.setOnceProfile(_.extend({$first_visit_time:new Date,$first_referrer:_.getReferrer(),$first_browser_language:navigator.language||"取值异常",$first_browser_charset:"string"==typeof document.charset?document.charset.toUpperCase():"取值异常",$first_traffic_source_type:_.getSourceFromReferrer(),$first_search_keyword:_.getKeywordFromReferrer()},n)),sd.is_first_visitor=!1),e.not_set_profile&&delete e.not_set_profile;var o=location.href;sd.para.is_single_page&&_.addHashEvent(function(){var r=_.getReferrer(o);sd.track("$pageview",_.extend({$referrer:r,$url:location.href,$url_path:location.pathname,$title:document.title},n,e),t),o=location.href}),sd.track("$pageview",_.extend({$referrer:_.getReferrer(),$url:location.href,$url_path:location.pathname,$title:document.title},n,e),t),this.autoTrackIsUsed=!0},getAnonymousID:function(){return _.isEmptyObject(sd.store._state)?"请先初始化SDK":sd.store._state._first_id||sd.store._state.first_id||sd.store._state._distinct_id||sd.store._state.distinct_id},setPlugin:function(e){return!!_.isObject(e)&&void _.each(e,function(e,t){_.isFunction(e)&&(_.isObject(window.SensorsDataWebJSSDKPlugin)&&window.SensorsDataWebJSSDKPlugin[t]?e(window.SensorsDataWebJSSDKPlugin[t]):sd.log(t+"没有获取到,请查阅文档，调整"+t+"的引入顺序！"))})},useModulePlugin:function(){sd.use.apply(sd,arguments)},useAppPlugin:function(){this.setPlugin.apply(this,arguments)}};sd.quick=function(){var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1);return"string"==typeof t&&commonWays[t]?commonWays[t].apply(commonWays,r):void("function"==typeof t?t.apply(sd,r):sd.log("quick方法中没有这个功能"+e[0]))},sd.use=function(e,t){_.isObject(sd.modules)&&_.isObject(sd.modules[e])&&_.isFunction(sd.modules[e].init)&&(t=t||{},sd.modules[e].init(sd,t))},sd.track=function(e,t,r){saEvent.check({event:e,properties:t})&&saEvent.send({type:"track",event:e,properties:t},r)},sd.trackLink=function(e,t,r){"object"==(void 0===e?"undefined":_typeof(e))&&e.tagName?_.trackLink({ele:e},t,r):"object"==(void 0===e?"undefined":_typeof(e))&&e.target&&e.event&&_.trackLink(e,t,r)},sd.trackLinks=function(e,t,r){return r=r||{},!(!e||"object"!=(void 0===e?"undefined":_typeof(e)))&&!(!e.href||/^javascript/.test(e.href)||e.target)&&void _.addEvent(e,"click",function(n){function i(){o||(o=!0,location.href=e.href)}n.preventDefault();var o=!1;setTimeout(i,1e3),sd.track(t,r,i)})},sd.setProfile=function(e,t){saEvent.check({propertiesMust:e})&&saEvent.send({type:"profile_set",properties:e},t)},sd.setOnceProfile=function(e,t){saEvent.check({propertiesMust:e})&&saEvent.send({type:"profile_set_once",properties:e},t)},sd.appendProfile=function(e,t){saEvent.check({propertiesMust:e})&&(_.each(e,function(t,r){_.isString(t)?e[r]=[t]:_.isArray(t)?e[r]=t:(delete e[r],sd.log("appendProfile属性的值必须是字符串或者数组"))}),_.isEmptyObject(e)||saEvent.send({type:"profile_append",properties:e},t))},sd.incrementProfile=function(e,t){var r=e;_.isString(e)&&((e={})[r]=1),saEvent.check({propertiesMust:e})&&(function(e){for(var t in e)if(!/-*\d+/.test(String(e[t])))return!1;return!0}(e)?saEvent.send({type:"profile_increment",properties:e},t):sd.log("profile_increment的值只能是数字"))},sd.deleteProfile=function(e){saEvent.send({type:"profile_delete"},e),store.set("distinct_id",_.UUID()),store.set("first_id","")},sd.unsetProfile=function(e,t){var r=e,n={};_.isString(e)&&(e=[]).push(r),_.isArray(e)?(_.each(e,function(e){_.isString(e)?n[e]=!0:sd.log("profile_unset给的数组里面的值必须时string,已经过滤掉",e)}),saEvent.send({type:"profile_unset",properties:n},t)):sd.log("profile_unset的参数是数组")},sd.identify=function(e,t){"number"==typeof e&&(e=String(e));var r=store.getFirstId();if(void 0===e){var n=_.UUID();r?store.set("first_id",n):store.set("distinct_id",n)}else saEvent.check({distinct_id:e})?!0===t?r?store.set("first_id",e):store.set("distinct_id",e):r?store.change("first_id",e):store.change("distinct_id",e):sd.log("identify的参数必须是字符串")},sd.trackSignup=function(e,t,r,n){if(saEvent.check({distinct_id:e,event:t,properties:r})){var i=store.getFirstId()||store.getDistinctId();store.set("distinct_id",e),saEvent.send({original_id:i,distinct_id:e,type:"track_signup",event:t,properties:r},n)}},sd.trackAbtest=function(e,t){},sd.registerPage=function(e){saEvent.check({properties:e})?_.extend(_.info.currentProps,e):sd.log("register输入的参数有误")},sd.clearAllRegister=function(e){store.clearAllProps(e)},sd.register=function(e){saEvent.check({properties:e})?store.setProps(e):sd.log("register输入的参数有误")},sd.registerOnce=function(e){saEvent.check({properties:e})?store.setPropsOnce(e):sd.log("registerOnce输入的参数有误")},sd.registerSession=function(e){saEvent.check({properties:e})?store.setSessionProps(e):sd.log("registerSession输入的参数有误")},sd.registerSessionOnce=function(e){saEvent.check({properties:e})?store.setSessionPropsOnce(e):sd.log("registerSessionOnce输入的参数有误")},sd.login=function(e,t){if("number"==typeof e&&(e=String(e)),saEvent.check({distinct_id:e})){var r=store.getFirstId(),n=store.getDistinctId();e!==n?(r||store.set("first_id",n),sd.trackSignup(e,"$SignUp",{},t)):t&&t()}else sd.log("login的参数必须是字符串"),t&&t()},sd.logout=function(e){var t=store.getFirstId();if(t)if(store.set("first_id",""),!0===e){var r=_.UUID();store.set("distinct_id",r)}else store.set("distinct_id",t);else sd.log("没有first_id，logout失败")},sd.getPresetProperties=function(){var e={$referrer:_.info.pageProp.referrer||"",$referrer_host:_.info.pageProp.referrer?_.getHostname(_.info.pageProp.referrer):"",$url:location.href,$url_path:location.pathname,$title:document.title||"",_distinct_id:store.getDistinctId()},t=_.extend({},_.info.properties(),sd.store.getProps(),function(){var e=_.info.campaignParams(),t={};for(var r in e)-1!==(" "+sd.source_channel_standard+" ").indexOf(" "+r+" ")?t["$"+r]=e[r]:t[r]=e[r];return t}(),e);return sd.para.preset_properties.latest_referrer&&sd.para.preset_properties.latest_referrer_host&&(t.$latest_referrer_host=""===t.$latest_referrer?"":_.getHostname(t.$latest_referrer)),t},sd.detectMode=function(){function e(){window.sensorsdata_app_call_js=function(e){e&&"visualized"==e&&n("undefined"!=typeof sa_jssdk_app_define_mode)},n(!1),sd.bridge.app_js_bridge_v1(),_.info.initPage(),sd.para.is_track_single_page&&_.addSinglePageEvent(function(e){var t=function(t){t=t||{},e!==location.href&&(_.info.pageProp.referrer=e,sd.quick("autoTrack",_.extend({$url:location.href,$referrer:e},t)))};if("boolean"==typeof sd.para.is_track_single_page)t();else if("function"==typeof sd.para.is_track_single_page){var r=sd.para.is_track_single_page();_.isObject(r)?t(r):!0===r&&t()}}),sd.para.batch_send&&sd.batchSend.batchInterval(),sd.store.init(),sd.readyState.setState(3),sd._q&&_.isArray(sd._q)&&sd._q.length>0&&_.each(sd._q,function(e){sd[e[0]].apply(sd,Array.prototype.slice.call(e[1]))}),_.isObject(sd.para.heatmap)&&(heatmap.initHeatmap(),heatmap.initScrollmap())}var t={searchKeywordMatch:location.search.match(/sa-request-id=([^&#]+)/),isSeachHasKeyword:function(){var e=this.searchKeywordMatch;return e&&e[0]&&e[1]},hasKeywordHandle:function(){var e=this.searchKeywordMatch,t=location.search.match(/sa-request-type=([^&#]+)/),r=location.search.match(/sa-request-url=([^&#]+)/);heatmap.setNotice(r),_.sessionStorage.isSupport()&&(r&&r[0]&&r[1]&&sessionStorage.setItem("sensors_heatmap_url",decodeURIComponent(r[1])),sessionStorage.setItem("sensors_heatmap_id",e[1]),t&&t[0]&&t[1]?"1"===t[1]||"2"===t[1]||"3"===t[1]?(t=t[1],sessionStorage.setItem("sensors_heatmap_type",t)):t=null:t=null!==sessionStorage.getItem("sensors_heatmap_type")?sessionStorage.getItem("sensors_heatmap_type"):null),this.isReady(e[1],t)},isReady:function(e,t,r){sd.para.heatmap_url?_.loadScript({success:function(){setTimeout(function(){"undefined"!=typeof sa_jssdk_heatmap_render&&(sa_jssdk_heatmap_render(sd,e,t,r),"object"==("undefined"==typeof console?"undefined":_typeof(console))&&"function"==typeof console.log&&(sd.heatmap_version&&sd.heatmap_version===sd.lib_version||console.log("heatmap.js与sensorsdata.js版本号不一致，可能存在风险!")))},0)},error:function(){},type:"js",url:sd.para.heatmap_url}):sd.log("没有指定heatmap_url的路径")},isStoregeHasKeyword:function(){return _.sessionStorage.isSupport()&&"string"==typeof sessionStorage.getItem("sensors_heatmap_id")},storageHasKeywordHandle:function(){heatmap.setNotice(),t.isReady(sessionStorage.getItem("sensors_heatmap_id"),sessionStorage.getItem("sensors_heatmap_type"),location.href)}},r={isVtrackMode:!1,loadVtrack:function(){_.loadScript({success:function(){},error:function(){},type:"js",url:location.protocol+"//static.sensorsdata.cn/sdk/"+sd.lib_version+"/vtrack.min.js"})},messageListener:function(e){return"sa-fe"===e.data.source&&void("v-track-mode"===e.data.type&&(e.data.data&&e.data.data.isVtrack&&(r.isVtrackMode=!0,r.loadVtrack()),window.removeEventListener("message",r.messageListener,!1)))},removeMessageHandle:function(){window.removeEventListener&&window.removeEventListener("message",r.messageListener,!1)},verifyVtrackMode:function(){window.addEventListener&&window.addEventListener("message",r.messageListener,!1),window.parent&&window.parent.postMessage&&window.parent.postMessage({source:"sa-web-sdk",type:"v-is-vtrack",data:{}},"*")}},n=function(e){function t(){var e=[];r.touch_app_bridge||e.push(sd.debug.defineMode("1")),_.isObject(sd.para.app_js_bridge)||(e.push(sd.debug.defineMode("2")),r.verify_success=!1),_.isObject(sd.para.heatmap)&&"default"==sd.para.heatmap.clickmap||e.push(sd.debug.defineMode("3")),"fail"===r.verify_success&&e.push(sd.debug.defineMode("4"));var t={callType:"app_alert",data:e};SensorsData_App_Visual_Bridge&&SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info?SensorsData_App_Visual_Bridge.sensorsdata_visualized_alert_info(JSON.stringify(t)):window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify(t))}var r=sd.bridge.initDefineBridgeInfo();if(_.isObject(window.SensorsData_App_Visual_Bridge)&&window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode&&(!0===window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode||window.SensorsData_App_Visual_Bridge.sensorsdata_visualized_mode()))if(_.isObject(sd.para.heatmap)&&"default"==sd.para.heatmap.clickmap)if(_.isObject(sd.para.app_js_bridge)&&"success"===r.verify_success)if(e)sa_jssdk_app_define_mode(sd,e);else{var n=location.protocol;n=_.indexOf(["http:","https:"],n)>-1?n:"https:",_.loadScript({success:function(){setTimeout(function(){"undefined"!=typeof sa_jssdk_app_define_mode&&sa_jssdk_app_define_mode(sd,e)},0)},error:function(){},type:"js",url:n+"//static.sensorsdata.cn/sdk/"+sd.lib_version+"/vapph5define.min.js"})}else t();else t()};t.isSeachHasKeyword()?t.hasKeywordHandle():window.parent!==self?(r.verifyVtrackMode(),setTimeout(function(){return!r.isVtrackMode&&(r.removeMessageHandle(),void(t.isStoregeHasKeyword()?t.storageHasKeywordHandle():e()))},1e3)):e()},BatchSend.prototype={add:function(e){_.isObject(e)&&(this.writeStore(e),"track_signup"!==e.type&&"$pageview"!==e.event||this.sendStrategy())},remove:function(e){this.sendingData>0&&--this.sendingData,_.isArray(e)&&e.length>0&&_.each(e,function(e){_.localStorage.remove(e)})},send:function(e){var t=this,r=_.isArray(sd.para.server_url)?sd.para.server_url[0]:sd.para.server_url;_.ajax({url:r,type:"POST",data:"data_list="+encodeURIComponent(_.base64Encode(JSON.stringify(e.vals))),credentials:!1,timeout:sd.para.batch_send.datasend_timeout,cors:!0,success:function(){t.remove(e.keys)},error:function(){t.sendingData>0&&--t.sendingData}})},sendPrepare:function(e){var t=e.vals,r=sd.para.batch_send.one_send_max_length,n=t.length;if(n>0)if(n<=r)this.send({keys:e.keys,vals:t});else for(var i=0;i*r<n;i++)this.send({keys:e.keys.splice(0,r),vals:t.splice(0,r)})},sendStrategy:function(){var e=this.readStore();e.keys.length>0&&0===this.sendingData&&(this.sendingData=Math.ceil(e.vals.length/sd.para.batch_send.one_send_max_length),this.sendPrepare(e))},batchInterval:function(){var e=this;setInterval(function(){e.sendStrategy()},sd.para.batch_send.send_interval)},readStore:function(){for(var e=[],t=[],r=null,n=(new Date).getTime(),i=localStorage.length,o=0;o<i;o++){var a=localStorage.key(o);0===a.indexOf("sawebjssdk-")&&/^sawebjssdk\-\d+$/.test(a)&&((r=localStorage.getItem(a))?(r=_.safeJSONParse(r))&&_.isObject(r)?(r._flush_time=n,e.push(a),t.push(r)):(localStorage.removeItem(a),sd.log("localStorage-数据parse异常"+r)):(localStorage.removeItem(a),sd.log("localStorage-数据取值异常"+r)))}return{keys:e,vals:t}},writeStore:function(e){var t=String(Math.random()).slice(2,5)+String(Math.random()).slice(2,5)+String((new Date).getTime()).slice(3);localStorage.setItem("sawebjssdk-"+t,JSON.stringify(e))}},sd.batchSend=new BatchSend;var dataSend={getSendUrl:function(e,t){var r=_.base64Encode(t),n="crc="+_.hashCode(r);return-1!==e.indexOf("?")?e+"&data="+encodeURIComponent(r)+"&ext="+encodeURIComponent(n):e+"?data="+encodeURIComponent(r)+"&ext="+encodeURIComponent(n)},getSendData:function(e){var t=_.base64Encode(e),r="crc="+_.hashCode(t);return"data="+encodeURIComponent(t)+"&ext="+encodeURIComponent(r)},getInstance:function(e){var t=new(this[this.getSendType(e)])(e),r=t.start;return t.start=function(){_.isObject(sd.para.is_debug)&&sd.para.is_debug.storage&&sd.store.requests&&sd.store.requests.push({name:this.server_url,initiatorType:this.img?"img":"xmlhttprequest",entryType:"resource",requestData:this.data});var e=this;r.apply(this,arguments),setTimeout(function(){e.isEnd(!0)},sd.para.callback_timeout)},t.end=function(){this.callback&&this.callback();var e=this;setTimeout(function(){e.lastClear&&e.lastClear()},sd.para.datasend_timeout-sd.para.callback_timeout)},t.isEnd=function(e){if(!this.received){this.received=!0,this.end();var t=this;e?sd.para.queue_timeout-sd.para.callback_timeout<=0?t.close():setTimeout(function(){t.close()},sd.para.queue_timeout-sd.para.callback_timeout):t.close()}},t},getSendType:function(e){var t=["image","ajax","beacon"],r=t[0];return"beacon"===(r=e.config&&_.indexOf(t,e.config.send_type)>-1?e.config.send_type:sd.para.send_type)&&"function"!=typeof navigator.sendBeacon&&(r="image"),"ajax"===r&&!1===_.isSupportCors()&&(r="image"),r},image:function(e){this.callback=e.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,sd.para.img_use_crossorigin&&(this.img.crossOrigin="anonymous"),this.data=e.data,this.server_url=dataSend.getSendUrl(e.server_url,e.data)}};dataSend.image.prototype.start=function(){var e=this;sd.para.ignore_oom&&(this.img.onload=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onerror=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()},this.img.onabort=function(){this.onload=null,this.onerror=null,this.onabort=null,e.isEnd()}),this.img.src=this.server_url},dataSend.image.prototype.lastClear=function(){this.img.src=""},dataSend.ajax=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=dataSend.getSendData(e.data)},dataSend.ajax.prototype.start=function(){var e=this;_.ajax({url:this.server_url,type:"POST",data:this.data,credentials:!1,timeout:sd.para.datasend_timeout,cors:!0,success:function(){e.isEnd()},error:function(){e.isEnd()}})},dataSend.beacon=function(e){this.callback=e.callback,this.server_url=e.server_url,this.data=dataSend.getSendData(e.data)},dataSend.beacon.prototype.start=function(){var e=this;"object"==("undefined"==typeof navigator?"undefined":_typeof(navigator))&&"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){e.isEnd()},40)};var sendState={};sd.sendState=sendState,sd.events=new _.eventEmitter,sendState.queue=_.autoExeQueue(),sendState.requestData=null,sendState.getSendCall=function(e,t,r){if(sd.is_heatmap_render_mode)return!1;if(sd.readyState.state<3)return sd.log("初始化没有完成"),!1;e._track_id=Number(String(Math.random()).slice(2,5)+String(Math.random()).slice(2,4)+String((new Date).getTime()).slice(-4)),sd.para.use_client_time&&(e._flush_time=(new Date).getTime());var n=e;return e=JSON.stringify(e),this.requestData={data:n,config:t,callback:r},sd.events.tempAdd("send",n),!sd.para.app_js_bridge&&sd.para.batch_send&&localStorage.length<200?(sd.log(n),sd.batchSend.add(this.requestData.data),!1):(sd.bridge.dataSend(n,this,r),void sd.log(n))},sendState.prepareServerUrl=function(){if("object"==_typeof(this.requestData.config)&&this.requestData.config.server_url)this.sendCall(this.requestData.config.server_url,this.requestData.callback);else if(_.isArray(sd.para.server_url))for(var e=0;e<sd.para.server_url.length;e++)this.sendCall(sd.para.server_url[e]);else this.sendCall(sd.para.server_url,this.requestData.callback)},sendState.sendCall=function(e,t){var r={server_url:e,data:JSON.stringify(this.requestData.data),callback:t,config:this.requestData.config};_.isObject(sd.para.jsapp)&&!sd.para.jsapp.isOnline&&"function"==typeof sd.para.jsapp.setData?(delete r.callback,r=JSON.stringify(r),sd.para.jsapp.setData(r)):this.pushSend(r)},sendState.pushSend=function(e){var t=dataSend.getInstance(e),r=this;t.close=function(){r.queue.close()},this.queue.enqueue(t)};var saEvent={};sd.saEvent=saEvent,saEvent.checkOption={regChecks:{regName:/^((?!^distinct_id$|^original_id$|^time$|^properties$|^id$|^first_id$|^second_id$|^users$|^events$|^event$|^user_id$|^date$|^datetime$)[a-zA-Z_$][a-zA-Z\d_$]{0,99})$/i},checkPropertiesKey:function(e){var t=this,r=!0;return _.each(e,function(e,n){t.regChecks.regName.test(n)||(r=!1)}),r},check:function(e,t){return"string"==typeof this[e]?this[this[e]](t):this[e](t)},str:function(e){return!!_.isString(e)||(sd.log("请检查参数格式,必须是字符串"),!0)},properties:function(e){return _.strip_sa_properties(e),!(e&&(_.isObject(e)?!this.checkPropertiesKey(e)&&(sd.log("properties 里的自定义属性名需要是合法的变量名，不能以数字开头，且只包含：大小写字母、数字、下划线，自定义属性不能以 $ 开头"),0):(sd.log("properties可以没有，但有的话必须是对象"),0)))},propertiesMust:function(e){return _.strip_sa_properties(e),void 0===e||!_.isObject(e)||_.isEmptyObject(e)?(sd.log("properties必须是对象且有值"),!0):!!this.checkPropertiesKey(e)||(sd.log("properties 里的自定义属性名需要是合法的变量名，不能以数字开头，且只包含：大小写字母、数字、下划线，自定义属性不能以 $ 开头"),!0)},event:function(e){return!(!_.isString(e)||!this.regChecks.regName.test(e))||(sd.log("请检查参数格式，eventName 必须是字符串，且需是合法的变量名，即不能以数字开头，且只包含：大小写字母、数字、下划线和 $,其中以 $ 开头的表明是系统的保留字段，自定义事件名请不要以 $ 开头"),!0)},test_id:"str",group_id:"str",distinct_id:function(e){return!(!_.isString(e)||!/^.{1,255}$/.test(e))||(sd.log("distinct_id必须是不能为空，且小于255位的字符串"),!1)}},saEvent.check=function(e){for(var t in e)if(!this.checkOption.check(t,e[t]))return!1;return!0},saEvent.send=function(e,t){var r={distinct_id:store.getDistinctId(),lib:{$lib:"js",$lib_method:"code",$lib_version:String(sd.lib_version)},properties:{}};_.isObject(e)&&_.isObject(e.properties)&&!_.isEmptyObject(e.properties)&&e.properties.$lib_detail&&(r.lib.$lib_detail=e.properties.$lib_detail,delete e.properties.$lib_detail),_.extend(r,sd.store.getUnionId(),e),_.isObject(e.properties)&&!_.isEmptyObject(e.properties)&&_.extend(r.properties,e.properties),e.type&&"profile"===e.type.slice(0,7)||(r.properties=_.extend({},_.info.properties(),store.getProps(),store.getSessionProps(),_.info.currentProps,r.properties),sd.para.preset_properties.latest_referrer&&!_.isString(r.properties.$latest_referrer)&&(r.properties.$latest_referrer="取值异常"),sd.para.preset_properties.latest_search_keyword&&!_.isString(r.properties.$latest_search_keyword)&&(r.properties.$latest_search_keyword="取值异常"),sd.para.preset_properties.latest_traffic_source_type&&!_.isString(r.properties.$latest_traffic_source_type)&&(r.properties.$latest_traffic_source_type="取值异常"),sd.para.preset_properties.latest_landing_page&&!_.isString(r.properties.$latest_landing_page)&&(r.properties.$latest_landing_page="取值异常")),r.properties.$time&&_.isDate(r.properties.$time)?(r.time=1*r.properties.$time,delete r.properties.$time):sd.para.use_client_time&&(r.time=1*new Date),_.parseSuperProperties(r.properties),_.filterReservedProperties(r.properties),_.searchObjDate(r),_.searchObjString(r),_.searchZZAppStyle(r);var n=_.searchConfigData(r.properties);saNewUser.checkIsAddSign(r),saNewUser.checkIsFirstTime(r),sd.addReferrerHost(r),sd.addPropsHook(r),!0===sd.para.debug_mode?(sd.log(r),this.debugPath(JSON.stringify(r),t)):sd.sendState.getSendCall(r,n,t)},saEvent.debugPath=function(e,t){var r,n=e;r=-1!==sd.para.debug_mode_url.indexOf("?")?sd.para.debug_mode_url+"&data="+encodeURIComponent(_.base64Encode(e)):sd.para.debug_mode_url+"?data="+encodeURIComponent(_.base64Encode(e)),_.ajax({url:r,type:"GET",cors:!0,header:{"Dry-Run":String(sd.para.debug_mode_upload)},success:function(e){!0===_.isEmptyObject(e)?alert("debug数据发送成功"+n):alert("debug失败 错误原因"+JSON.stringify(e))}})};var store=sd.store={requests:[],_sessionState:{},_state:{distinct_id:"",first_id:"",props:{}},getProps:function(){return this._state.props||{}},getSessionProps:function(){return this._sessionState},getDistinctId:function(){return this._state._distinct_id||this._state.distinct_id},getUnionId:function(){var e={},t=this._state._first_id||this._state.first_id,r=this._state._distinct_id||this._state.distinct_id;return t&&r?(e.login_id=r,e.anonymous_id=t):e.anonymous_id=r,e},getFirstId:function(){return this._state._first_id||this._state.first_id},toState:function(e){var t=null;if(null!=e&&_.isJSONString(e))if(t=JSON.parse(e),this._state=_.extend(t),t.distinct_id){if("object"==_typeof(t.props)){for(var r in t.props)"string"==typeof t.props[r]&&(t.props[r]=t.props[r].slice(0,sd.para.max_referrer_string_length));this.save()}}else this.set("distinct_id",_.UUID()),sd.debug.distinct_id("1",e);else this.set("distinct_id",_.UUID()),sd.debug.distinct_id("2",e)},initSessionState:function(){var e=_.cookie.get("sensorsdata2015session"),t=null;null!==e&&"object"==_typeof(t=JSON.parse(e))&&(this._sessionState=t||{})},setOnce:function(e,t){e in this._state||this.set(e,t)},set:function(e,t){this._state=this._state||{},"distinct_id"===e&&this._state.distinct_id&&sd.events.tempAdd("changeDistinctId",t),this._state[e]=t,"first_id"===e?delete this._state._first_id:"distinct_id"===e&&delete this._state._distinct_id,this.save()},change:function(e,t){this._state["_"+e]=t},setSessionProps:function(e){var t=this._sessionState;_.extend(t,e),this.sessionSave(t)},setSessionPropsOnce:function(e){var t=this._sessionState;_.coverExtend(t,e),this.sessionSave(t)},setProps:function(e,t){var r={};for(var n in r=t?e:_.extend(this._state.props||{},e))"string"==typeof r[n]&&(r[n]=r[n].slice(0,sd.para.max_referrer_string_length));this.set("props",r)},setPropsOnce:function(e){var t=this._state.props||{};_.coverExtend(t,e),this.set("props",t)},clearAllProps:function(e){if(this._sessionState={},_.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++)_.isString(e[t])&&-1===e[t].indexOf("latest_")&&e[t]in this._state.props&&delete this._state.props[e[t]];else for(var t in this._state.props)1!==t.indexOf("latest_")&&delete this._state.props[t];this.sessionSave({}),this.save()},sessionSave:function(e){this._sessionState=e,_.cookie.set("sensorsdata2015session",JSON.stringify(this._sessionState),0)},save:function(){var e=JSON.parse(JSON.stringify(this._state));delete e._first_id,delete e._distinct_id,_.cookie.set(this.getCookieName(),JSON.stringify(e),73e3,sd.para.cross_subdomain)},getCookieName:function(){var e="";if(!1===sd.para.cross_subdomain){try{e=_.URL(location.href).hostname}catch(e){sd.log(e)}e="string"==typeof e&&""!==e?"sa_jssdk_2015_"+e.replace(/\./g,"_"):"sa_jssdk_2015_root"}else e="sensorsdata2015jssdkcross";return e},init:function(){this.initSessionState();var e=_.UUID(),t=_.cookie.get(this.getCookieName());null===t?(sd.is_first_visitor=!0,this.set("distinct_id",e)):(_.isJSONString(t)&&JSON.parse(t).distinct_id||(sd.is_first_visitor=!0),this.toState(t)),saNewUser.setDeviceId(e),saNewUser.storeInitCheck(),saNewUser.checkIsFirstLatest()}},saNewUser={checkIsAddSign:function(e){"track"===e.type&&(_.cookie.getNewUser()?e.properties.$is_first_day=!0:e.properties.$is_first_day=!1)},is_first_visit_time:!1,checkIsFirstTime:function(e){"track"===e.type&&"$pageview"===e.event&&(this.is_first_visit_time?(e.properties.$is_first_time=!0,this.is_first_visit_time=!1):e.properties.$is_first_time=!1)},setDeviceId:function(e){var t=null,r=_.cookie.get("sensorsdata2015jssdkcross"),n={};null!=r&&_.isJSONString(r)&&((n=JSON.parse(r)).$device_id&&(t=n.$device_id)),t=t||e,!0===sd.para.cross_subdomain?store.set("$device_id",t):(n.$device_id=t,_.cookie.set("sensorsdata2015jssdkcross",JSON.stringify(n),null,!0)),sd.para.is_track_device_id&&(_.info.currentProps.$device_id=t)},storeInitCheck:function(){if(sd.is_first_visitor){var e=new Date,t={h:23-e.getHours(),m:59-e.getMinutes(),s:59-e.getSeconds()};_.cookie.set(_.cookie.getCookieName("new_user"),"1",3600*t.h+60*t.m+t.s+"s"),this.is_first_visit_time=!0}else _.cookie.getNewUser()||(this.checkIsAddSign=function(e){"track"===e.type&&(e.properties.$is_first_day=!1)}),this.checkIsFirstTime=function(e){"track"===e.type&&"$pageview"===e.event&&(e.properties.$is_first_time=!1)}},checkIsFirstLatest:function(){for(var e=_.info.pageProp.url_domain,t=["$utm_source","$utm_medium","$utm_campaign","$utm_content","$utm_term"],r=store.getProps(),n=0;n<t.length;n++)t[n]in r&&delete r[t[n]];store.setProps(r,!0);var i={};if(""===e&&(e="url解析失败"),_.each(sd.para.preset_properties,function(t,r){if(-1===r.indexOf("latest_"))return!1;if(r=r.slice(7),t){if("utm"!==r&&"url解析失败"===e)i["$latest_"+r]="url的domain解析失败";else if(_.isReferralTraffic(document.referrer))switch(r){case"traffic_source_type":i.$latest_traffic_source_type=_.getSourceFromReferrer();break;case"referrer":i.$latest_referrer=_.info.pageProp.referrer;break;case"search_keyword":i.$latest_search_keyword=_.getKeywordFromReferrer();break;case"landing_page":i.$latest_landing_page=location.href}}else if("utm"===r&&sd.store._state.props)for(var n in sd.store._state.props)0!==n.indexOf("$latest_utm")&&0!==n.indexOf("_latest_")||delete sd.store._state.props[n];else sd.store._state.props&&"$latest_"+r in sd.store._state.props&&delete sd.store._state.props["$latest_"+r]}),sd.register(i),sd.para.preset_properties.latest_utm){var o=_.info.campaignParamsStandard("$latest_","_latest_"),a=o.$utms,s=o.otherUtms;_.isEmptyObject(a)||sd.register(a),_.isEmptyObject(s)||sd.register(s)}}};sd.bridge={is_verify_success:!1,initPara:function(){var e={is_send:!0,white_list:[],is_mui:!1};"object"==_typeof(sd.para.app_js_bridge)?sd.para.app_js_bridge=_.extend({},e,sd.para.app_js_bridge):!0===sd.para.use_app_track||!0===sd.para.app_js_bridge||"only"===sd.para.use_app_track?(!1!==sd.para.use_app_track_is_send&&"only"!==sd.para.use_app_track||(e.is_send=!1),sd.para.app_js_bridge=_.extend({},e)):"mui"===sd.para.use_app_track&&(e.is_mui=!0,sd.para.app_js_bridge=_.extend({},e)),!1===sd.para.app_js_bridge.is_send&&sd.log("设置了 is_send:false,如果打通失败，数据将被丢弃！")},initState:function(){function e(e){function t(e){var t={hostname:"",project:""};try{t.hostname=_.URL(e).hostname,t.project=_.URL(e).searchParams.get("project")||"default"}catch(e){sd.log(e)}return t}var r=t(e),n=t(sd.para.server_url);if(r.hostname===n.hostname&&r.project===n.project)return!0;if(sd.para.app_js_bridge.white_list.length>0)for(var i=0;i<sd.para.app_js_bridge.white_list.length;i++){var o=t(sd.para.app_js_bridge.white_list[i]);if(o.hostname===r.hostname&&o.project===r.project)return!0}return!1}if(_.isObject(sd.para.app_js_bridge)&&!sd.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&_.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)e(window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)&&(sd.bridge.is_verify_success=!0);else if(_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track){var t=window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url();t&&e(t)&&(sd.bridge.is_verify_success=!0)}},initDefineBridgeInfo:function(){var e={touch_app_bridge:!0,verify_success:!1};return window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&_.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url?sd.bridge.is_verify_success?e.verify_success="success":e.verify_success="fail":_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track?sd.bridge.is_verify_success?e.verify_success="success":e.verify_success="fail":"object"==("undefined"==typeof SensorsData_APP_JS_Bridge?"undefined":_typeof(SensorsData_APP_JS_Bridge))&&(SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify||SensorsData_APP_JS_Bridge.sensorsdata_track)?SensorsData_APP_JS_Bridge.sensorsdata_verify&&SensorsData_APP_JS_Bridge.sensorsdata_visual_verify?SensorsData_APP_JS_Bridge.sensorsdata_visual_verify(JSON.stringify({server_url:sd.para.server_url}))?e.verify_success="success":e.verify_success="fail":e.verify_success="success":!/sensors-verify/.test(navigator.userAgent)&&!/sa-sdk-ios/.test(navigator.userAgent)||window.MSStream?e.touch_app_bridge=!1:sd.bridge.iOS_UA_bridge()?e.verify_success="success":e.verify_success="fail",e},iOS_UA_bridge:function(){if(/sensors-verify/.test(navigator.userAgent)){var e=navigator.userAgent.match(/sensors-verify\/([^\s]+)/);if(e&&e[0]&&"string"==typeof e[1]&&2===e[1].split("?").length){e=e[1].split("?");var t=null,r=null;try{t=_.URL(sd.para.server_url).hostname,r=_.URL(sd.para.server_url).searchParams.get("project")||"default"}catch(e){sd.log(e)}return!(!t||t!==e[0]||!r||r!==e[1])}return!1}return!!/sa-sdk-ios/.test(navigator.userAgent)},dataSend:function(e,t,r){if(_.isObject(sd.para.app_js_bridge)&&!sd.para.app_js_bridge.is_mui)if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.sensorsdataNativeTracker&&window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage&&_.isObject(window.SensorsData_iOS_JS_Bridge)&&window.SensorsData_iOS_JS_Bridge.sensorsdata_app_server_url)sd.bridge.is_verify_success?(window.webkit.messageHandlers.sensorsdataNativeTracker.postMessage(JSON.stringify({callType:"app_h5_track",data:_.extend({server_url:sd.para.server_url},e)})),"function"==typeof r&&r()):sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"4.1",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r();else if(_.isObject(window.SensorsData_APP_New_H5_Bridge)&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_get_server_url&&window.SensorsData_APP_New_H5_Bridge.sensorsdata_track)sd.bridge.is_verify_success?(SensorsData_APP_New_H5_Bridge.sensorsdata_track(JSON.stringify(_.extend({server_url:sd.para.server_url},e))),"function"==typeof r&&r()):sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"4.2",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r();else if("object"==("undefined"==typeof SensorsData_APP_JS_Bridge?"undefined":_typeof(SensorsData_APP_JS_Bridge))&&(SensorsData_APP_JS_Bridge.sensorsdata_verify||SensorsData_APP_JS_Bridge.sensorsdata_track))SensorsData_APP_JS_Bridge.sensorsdata_verify?SensorsData_APP_JS_Bridge.sensorsdata_verify(JSON.stringify(_.extend({server_url:sd.para.server_url},e)))?"function"==typeof r&&r():sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"3.1",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r():(SensorsData_APP_JS_Bridge.sensorsdata_track(JSON.stringify(_.extend({server_url:sd.para.server_url},e))),"function"==typeof r&&r());else if(!/sensors-verify/.test(navigator.userAgent)&&!/sa-sdk-ios/.test(navigator.userAgent)||window.MSStream)_.isObject(sd.para.app_js_bridge)&&!0===sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"2",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r();else{var n=null;sd.bridge.iOS_UA_bridge()?((n=document.createElement("iframe")).setAttribute("src","sensorsanalytics://trackEvent?event="+encodeURIComponent(JSON.stringify(_.extend({server_url:sd.para.server_url},e)))),document.documentElement.appendChild(n),n.parentNode.removeChild(n),n=null,"function"==typeof r&&r()):sd.para.app_js_bridge.is_send?(sd.debug.apph5({data:e,step:"3.2",output:"all"}),t.prepareServerUrl()):"function"==typeof r&&r()}else _.isObject(sd.para.app_js_bridge)&&sd.para.app_js_bridge.is_mui?_.isObject(window.plus)&&window.plus.SDAnalytics&&window.plus.SDAnalytics.trackH5Event?(window.plus.SDAnalytics.trackH5Event(data),"function"==typeof r&&r()):_.isObject(sd.para.app_js_bridge)&&!0===sd.para.app_js_bridge.is_send?t.prepareServerUrl():"function"==typeof r&&r():(sd.debug.apph5({data:e,step:"1",output:"code"}),t.prepareServerUrl())},app_js_bridge_v1:function(){var e=null,t=null;window.sensorsdata_app_js_bridge_call_js=function(r){!function(r){e=r,_.isJSONString(e)&&(e=JSON.parse(e)),t&&(t(e),t=null,e=null)}(r)},sd.getAppStatus=function(r){return function(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var e=document.createElement("iframe");e.setAttribute("src","sensorsanalytics://getAppInfo"),document.documentElement.appendChild(e),e.parentNode.removeChild(e),e=null}}(),"object"==_typeof(window.SensorsData_APP_JS_Bridge)&&window.SensorsData_APP_JS_Bridge.sensorsdata_call_app&&(e=SensorsData_APP_JS_Bridge.sensorsdata_call_app(),_.isJSONString(e)&&(e=JSON.parse(e))),r?void(null===e?t=r:(r(e),e=null)):e}}};var heatmap=sd.heatmap={setNotice:function(e){sd.is_heatmap_render_mode=!0,sd.para.heatmap||(sd.errorMsg="您SDK没有配置开启点击图，可能没有数据！"),e&&e[0]&&e[1]&&"http:"===e[1].slice(0,5)&&"https:"===location.protocol&&(sd.errorMsg="您的当前页面是https的地址，神策分析环境也必须是https！"),sd.para.heatmap_url||(sd.para.heatmap_url=location.protocol+"//static.sensorsdata.cn/sdk/"+sd.lib_version+"/heatmap.min.js")},getDomIndex:function(e){if(!e.parentNode)return-1;for(var t=0,r=e.tagName,n=e.parentNode.children,i=0;i<n.length;i++)if(n[i].tagName===r){if(e===n[i])return t;t++}return-1},selector:function(e){var t=e.parentNode&&9==e.parentNode.nodeType?-1:this.getDomIndex(e);return e.getAttribute&&e.getAttribute("id")&&(!sd.para.heatmap||sd.para.heatmap&&"not_use_id"!==sd.para.heatmap.element_selector)?"#"+e.getAttribute("id"):e.tagName.toLowerCase()+(~t?":nth-of-type("+(t+1)+")":"")},getDomSelector:function(e,t){if(!e||!e.parentNode||!e.parentNode.children)return!1;t=t&&t.join?t:[];var r=e.nodeName.toLowerCase();return e&&"body"!==r&&1==e.nodeType?(t.unshift(this.selector(e)),e.getAttribute&&e.getAttribute("id")&&sd.para.heatmap&&"not_use_id"!==sd.para.heatmap.element_selector?t.join(" > "):this.getDomSelector(e.parentNode,t)):(t.unshift("body"),t.join(" > "))},na:function(){var e=document.documentElement.scrollLeft||window.pageXOffset;return parseInt(isNaN(e)?0:e,10)},i:function(){var e=0;try{e=o.documentElement&&o.documentElement.scrollTop||m.pageYOffset,e=isNaN(e)?0:e}catch(t){e=0}return parseInt(e,10)},getBrowserWidth:function(){var e=window.innerWidth||document.body.clientWidth;return isNaN(e)?0:parseInt(e,10)},getBrowserHeight:function(){var e=window.innerHeight||document.body.clientHeight;return isNaN(e)?0:parseInt(e,10)},getScrollWidth:function(){var e=parseInt(document.body.scrollWidth,10);return isNaN(e)?0:e},W:function(e){var t=parseInt(+e.clientX+ +this.na(),10);e=parseInt(+e.clientY+ +this.i(),10);return{x:isNaN(t)?0:t,y:isNaN(e)?0:e}},start:function(e,t,r,n,i){var o=_.isObject(n)?n:{},a=_.isFunction(i)?i:_.isFunction(n)?n:void 0;if(sd.para.heatmap&&sd.para.heatmap.collect_element&&!sd.para.heatmap.collect_element(t))return!1;var s=this.getDomSelector(t),c=_.getEleInfo({target:t});if(c.$element_selector=s||"",sd.para.heatmap&&sd.para.heatmap.custom_property){var u=sd.para.heatmap.custom_property(t);_.isObject(u)&&(c=_.extend(c,u))}c=_.extend(c,o),"a"===r&&sd.para.heatmap&&!0===sd.para.heatmap.isTrackLink?_.trackLink({event:e,target:t},"$WebClick",c):sd.track("$WebClick",c,a)},hasElement:function(e){var t=e._getPath();if(_.isArray(t)&&t.length>0)for(var r=0;r<t.length;r++)if(t[r]&&t[r].tagName&&"a"===t[r].tagName.toLowerCase())return t[r];return!1},initScrollmap:function(){if(!_.isObject(sd.para.heatmap)||"default"!==sd.para.heatmap.scroll_notice_map)return!1;var e=function(){return!(sd.para.scrollmap&&_.isFunction(sd.para.scrollmap.collect_url)&&!sd.para.scrollmap.collect_url())},t=function(e){var t={};return t.timeout=e.timeout||1e3,t.func=e.func,t.hasInit=!1,t.inter=null,t.main=function(e,t){this.func(e,t),this.inter=null},t.go=function(e){var r={};this.inter||(r.$viewport_position=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,r.$viewport_position=Math.round(r.$viewport_position)||0,r.$viewport_height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,r.$viewport_width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,e?t.main(r,!0):this.inter=setTimeout(function(){t.main(r)},this.timeout))},t}({timeout:1e3,func:function(e,t){var r=document.documentElement&&document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop||0,n=new Date,i=n-this.current_time;(i>sd.para.heatmap.scroll_delay_time&&r-e.$viewport_position!=0||t)&&(e.$url=location.href,e.$title=document.title,e.$url_path=location.pathname,e.event_duration=Math.min(sd.para.heatmap.scroll_event_duration,parseInt(i)/1e3),sd.track("$WebStay",e)),this.current_time=n}});t.current_time=new Date,_.addEvent(window,"scroll",function(){return!!e()&&void t.go()}),_.addEvent(window,"unload",function(){return!!e()&&void t.go("notime")})},initHeatmap:function(){var e=this;return!(!_.isObject(sd.para.heatmap)||"default"!==sd.para.heatmap.clickmap)&&!(_.isFunction(sd.para.heatmap.collect_url)&&!sd.para.heatmap.collect_url())&&("all"===sd.para.heatmap.collect_elements?sd.para.heatmap.collect_elements="all":sd.para.heatmap.collect_elements="interact",void("all"===sd.para.heatmap.collect_elements?_.addEvent(document,"click",function(t){var r=t||window.event;if(!r)return!1;var n=r.target||r.srcElement;if("object"!=(void 0===n?"undefined":_typeof(n)))return!1;if("string"!=typeof n.tagName)return!1;var i=n.tagName.toLowerCase();if("body"===i||"html"===i)return!1;if(!n||!n.parentNode||!n.parentNode.children)return!1;var o=n.parentNode.tagName.toLowerCase();"a"===o||"button"===o?e.start(r,n.parentNode,o):e.start(r,n,i)}):_.addEvent(document,"click",function(t){var r=t||window.event;if(!r)return!1;var n=r.target||r.srcElement;if("object"!=(void 0===n?"undefined":_typeof(n)))return!1;if("string"!=typeof n.tagName)return!1;var i=n.tagName.toLowerCase();if("body"===i.toLowerCase()||"html"===i.toLowerCase())return!1;if(!n||!n.parentNode||!n.parentNode.children)return!1;var o=n.parentNode;if("a"===i||"button"===i||"input"===i||"textarea"===i||_.hasAttribute(n,"data-sensors-click"))e.start(r,n,i);else if("button"===o.tagName.toLowerCase()||"a"===o.tagName.toLowerCase())e.start(r,o,n.parentNode.tagName.toLowerCase());else if("area"===i&&"map"===o.tagName.toLowerCase()&&_.ry(o).prev().tagName&&"img"===_.ry(o).prev().tagName.toLowerCase())e.start(r,_.ry(o).prev(),_.ry(o).prev().tagName.toLowerCase());else{var a=e.hasElement(t);a&&e.start(r,a,a.tagName.toLowerCase())}})))}};sd.init=function(e){return!(sd.readyState&&sd.readyState.state&&sd.readyState.state>=2)&&(sd.setInitVar(),sd.readyState.setState(2),sd.initPara(e),void sd.detectMode())};var methods=["track","quick","register","registerPage","registerOnce","trackSignup","setProfile","setOnceProfile","appendProfile","incrementProfile","deleteProfile","unsetProfile","identify","login","logout","trackLink","clearAllRegister"];if(_.each(methods,function(e){var t=sd[e];sd[e]=function(){if(sd.readyState.state<3)return _.isArray(sd._q)||(sd._q=[]),sd._q.push([e,arguments]),!1;if(sd.readyState.getState())return t.apply(sd,arguments);try{console.error("请先初始化神策JS SDK")}catch(e){sd.log(e)}}}),"string"!=typeof window.sensorsDataAnalytic201505)return void 0===window.sensorsDataAnalytic201505?(window.sensorsDataAnalytic201505=sd,sd):window.sensorsDataAnalytic201505;sd.setPreConfig(window[sensorsDataAnalytic201505]),window[sensorsDataAnalytic201505]=sd,window.sensorsDataAnalytic201505=sd,sd.init()}catch(e){if("object"==("undefined"==typeof console?"undefined":_typeof(console))&&console.log)try{console.log(e)}catch(e){sd.log(e)}}})}).call(this,__webpack_require__(36)(module))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=f(r(189)),a=f(r(130)),s=f(r(263)),c=(f(r(48)),f(r(90)),f(r(138)),f(r(264))),u=f(r(137)),l=f(r(266));function f(e){return e&&e.__esModule?e:{default:e}}var p=new c.default,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gettoken=t&&t.api&&t.api.gettoken||"/vos/api/gettoken",this.notifier=t&&t.api&&t.api.notifier||"/vos/api/notifier",this.exists=t&&t.api&&t.api.exists||"/vos/api/exists",this["vos-client"]=t&&t.client||"vos-js.sdk 1.0.0.0",this["vos-trace-id"]=t&&t["vos-trace-id"]||(0,s.default)(),this.clouds=t&&t.clouds||["kodo","oss","cos"],this.cover=!(!t||t&&void 0===t.cover)&&t.cover,this.files=[],this.secretKey=(0,s.default)(),this.httpQueue=[]}return i(e,[{key:"_setHeader",value:function(e){var t=this,r=a.default.CancelToken.source(),i=a.default.create({cancelToken:r.token});return i.interceptors.request.use(function(r){return r.headers=n({},r.headers,{"vos-access-timestamp":Math.round((new Date).getTime()/1e3).toString(),"vos-client":t["vos-client"],"vos-trace-id":t["vos-trace-id"]},e),r},function(e){console&&console.log(e)}),this.httpQueue.push(r),i}},{key:"addfiles",value:function(e){this.files=this.files.concat(e)}},{key:"progress",value:function(e){return e||function(){}}},{key:"submit",value:function(e,t,r){var i=e.headers,a=void 0===i?{}:i,s=e.gettoken,c=void 0===s?{}:s,f=e.notifier,d=void 0===f?{}:f,h=e.exists,m=void 0===h?{}:h,v=this,_=this._setHeader(a);(0,u.default)([function(e){v.cover?e(null,v.files):(0,l.default)(Object.keys(v.files),20,function(e,t,r){var i=v.files[e],o=(i.path||"")+i.name;_.post(v.exists,n(m,{key:o})).then(function(r){var n=r.data;if(n&&n.exists)return console&&console.log("<<<文件已经存在:"+o+"跳过上传"),v.files[e]=null,void t(null,!1);t(null,e)}).catch(function(e){t(null,!1)})},function(t,r){var n=v.files.filter(function(e){return e});n.length?e(t,n):e({msg:"上传列表为空"})})},function(e,t){_.post(v.gettoken,n(c,{requestToken:p.requestToken({header:{},payload:{requestId:v["vos-trace-id"],client:v["vos-client"],clouds:v.clouds,tag:sessionStorage.getItem("x-vos-tag")||null},secretKey:v.secretKey}),keys:e.map(function(t,r){return t.key||(t.key=t.name,t.path&&(t.key=t.path+t.key)),e[r]&&(e[r].key=t.key),t.key})})).then(function(r){if(!r.data||r.data.accessToken&&r.data.keys){var n=p.parseToken(r.data.accessToken);t(null,{expires:n[0],data:n[1],encodeKey:n[2],keys:r.data.keys,accessToken:r.data.accessToken},e)}else t(r.data)}).catch(function(e){console.log("err:",e),t(e)})},function(e,t,i){t.map(function(r,n){r.key=e.keys[r.key]||r.key,t[n]&&(t[n].key=r.key)});var a=e.expires.expires,s=void 0===a?900:a;(v.vos=new o.default(n({},e.data,{expires:s}))).put(t,function(t,r){i(t,r,e)},r)},function(e,t,r){_.post(v.notifier,n(d,{keys:e.filter(function(e){return e}).map(function(e){return e.name}),accessToken:t.accessToken})).then(function(e){r(null,e)}).catch(function(e){r(e)})}],t)}},{key:"abort",value:function(){this.httpQueue.map(function(e){e.cancel()}),this.vos&&this.vos.abort&&this.vos.abort()}},{key:"clear",value:function(){this.files=[]}}]),e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=s(r(190)),o=s(r(226)),a=s(r(243));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=null;switch(t.cloud){case"oss":r=JSON.parse(t.token),this.opcld=new i.default({region:t.region,accessKeyId:r.accessKeyId,accessKeySecret:r.accessKeySecret,stsToken:r.securityToken,endpoint:t.endpoint,bucket:t.bucket});break;case"cos":var n=r=JSON.parse(t.token),s=n.sessionToken,c=n.tmpSecretId,u=n.tmpSecretKey,l=t.bucket,f=t.region,p=t.expires;this.opcld=new o.default({bucket:l,region:f,expires:p,sessionToken:s,tmpSecretId:c,tmpSecretKey:u});break;case"kodo":this.opcld=new a.default({bucket:t.bucket,token:t.token});break;default:throw new Error("无法识别第三方云")}}return n(e,[{key:"put",value:function(e,t,r){this.opcld.put(e,t,r)}},{key:"notifier",value:function(e,t){t(e)}},{key:"abort",value:function(){this.opcld.abort()}}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(r(191)),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(194)),a=c(r(81)),s=c(r(84));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),s=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}("next")})}}var l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.client=new o.default(t),this.blockSize=4194304}return i(e,[{key:"directUpFile",value:function(){var e=u(n.default.mark(function e(t,r,i){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.put(t.key,t,i);case 2:o=e.sent,i(null,{percent:1}),r(null,o);case 5:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"sliceUpFile",value:function(){var e=u(n.default.mark(function e(t,r,i){var o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.multipartUpload(t.key,t,{progress:function(e){i(null,{percent:e})}});case 2:o=e.sent,r(null,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"put",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};(0,s.default)(e,function(e,t){(0,a.default)({times:3,interval:1e3},function(t){e.size<r.blockSize?r.directUpFile(e,t,n):r.sliceUpFile(e,t,n)},t)},t)}}]),e}();t.default=l},function(e,t,r){"use strict";e.exports=r(192)},function(e,t,r){"use strict";var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(193),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){var n,i=Object.prototype,o=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag",l="object"===t(e),f=r.regeneratorRuntime;if(f)l&&(e.exports=f);else{(f=r.regeneratorRuntime=l?e.exports:{}).wrap=w;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",v={},_={};_[s]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==i&&o.call(y,s)&&(_=y);var b=k.prototype=x.prototype=Object.create(_);E.prototype=b.constructor=k,k.constructor=E,k[u]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},T(R.prototype),R.prototype[c]=function(){return this},f.AsyncIterator=R,f.async=function(e,t,r,n){var i=new R(w(e,t,r,n));return f.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},T(b),b[u]="Generator",b[s]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=M,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:M(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(e,t,r,n){var i=t&&t.prototype instanceof x?t:x,o=Object.create(i.prototype),a=new O(n||[]);return o._invoke=function(e,t,r){var n=p;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=S(e,t,r);if("normal"===c.type){if(n=r.done?m:d,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=m,r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function S(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function E(){}function k(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function R(e){var r;this._invoke=function(n,i){function a(){return new Promise(function(r,a){!function r(n,i,a,s){var c=S(e[n],e,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===(void 0===l?"undefined":t(l))&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):Promise.resolve(l).then(function(e){u.value=e,a(u)},s)}s(c.arg)}(n,i,r,a)})}return r=r?r.then(a,a):a()}}function C(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=S(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}).call(this,r(36)(e))},function(e,t,r){"use strict";(function(r){var n,i,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){"object"===s(t)&&void 0!==e?e.exports=r():(i=[],void 0===(o="function"==typeof(n=r)?n.apply(t,i):n)||(e.exports=o))}(function(){return function(){return function e(t,r,n){function i(s,c){if(!r[s]){if(!t[s]){if(!c&&"function"==typeof a&&a)return a(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){return i(t[s][1][e]||e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof a&&a,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(e,t,r){var n=e("./browser/client");n.Buffer=e("buffer").Buffer,n.urllib=e("../shims/xhr"),n.version=e("./browser/version").version,t.exports=n},{"../shims/xhr":242,"./browser/client":2,"./browser/version":5,buffer:37}],2:[function(e,t,r){(function(r,n){var i=c(e("babel-runtime/core-js/promise")),o=c(e("babel-runtime/regenerator")),a=c(e("babel-runtime/core-js/object/assign")),s=c(e("babel-runtime/core-js/object/keys"));function c(e){return e&&e.__esModule?e:{default:e}}var u=e("debug")("ali-oss"),l=e("./../../shims/crypto/crypto.js"),f=e("path"),p=e("copy-to"),d=e("mime"),h=e("xml2js"),m=e("humanize-ms"),v=e("agentkeepalive"),_=e("merge-descriptors"),g=e("url"),y=e("is-type-of"),b=e("platform"),w=e("utility"),S=e("urllib"),x=e("./version"),E=e("dateformat"),k=e("bowser"),T=e("../common/signUtils"),R=e("../common/utils"),C=new v;function A(e,t){if(!(this instanceof A))return new A(e,t);e&&e.inited?this.options=e:this.options=A.initOptions(e),this.options.cancelFlag=!1,this.options.urllib?this.urllib=this.options.urllib:(this.urllib=S,this.agent=this.options.agent||C),this.ctx=t,this.userAgent=this._getUserAgent(),this.options.amendTimeSkewed=0}t.exports=A,A.initOptions=function(e){if(!e||!e.accessKeyId||!e.accessKeySecret)throw new Error("require accessKeyId, accessKeySecret");var t={region:"oss-cn-hangzhou",internal:!1,secure:document&&document.location&&"https:"===document.location.protocol,bucket:null,endpoint:null,cname:!1,isRequestPay:!1,useFetch:!0};if((0,s.default)(e).forEach(function(r){void 0!==e[r]&&(t[r]=e[r])}),t.accessKeyId=t.accessKeyId.trim(),t.accessKeySecret=t.accessKeySecret.trim(),t.timeout&&(t.timeout=m(t.timeout)),t.endpoint)t.endpoint=function(e,t){var r=g.parse(e);if(!r.protocol){var n=t?"https://":"http://";r=g.parse(n+e)}if("http:"!==r.protocol&&"https:"!==r.protocol)throw new Error("Endpoint protocol must be http or https.");return r}(t.endpoint,t.secure);else{if(!t.region)throw new Error("require options.endpoint or options.region");t.endpoint=function(e,t,r){var n=r?"https://":"http://",i=t?"-internal.aliyuncs.com":".aliyuncs.com";return"vpc100-oss-cn-"===e.substr(0,"vpc100-oss-cn-".length)&&(i=".aliyuncs.com"),g.parse(n+e+i)}(t.region,t.internal,t.secure)}return t.inited=!0,t};var P=A.prototype;P.debug=u,_(P,e("./object")),_(P,e("./managed-upload")),_(P,e("../common/multipart")),_(P,e("../common/parallel")),P.signature=function(e){return this.debug("authorization stringToSign: %s",e,"info"),T.computeSignature(this.options.accessKeySecret,e)},P.authorization=function(e,t,r,n){var i=T.buildCanonicalString(e.toUpperCase(),t,{headers:n,parameters:r});return T.authorization(this.options.accessKeyId,this.options.accessKeySecret,i)},P.createRequest=function(e){var t={"x-oss-date":E(+new Date+this.options.amendTimeSkewed,"UTC:ddd, dd mmm yyyy HH:MM:ss 'GMT'"),"x-oss-user-agent":this.userAgent};this.options.isRequestPay&&(0,a.default)(t,{"x-oss-request-payer":"requester"}),this.options.stsToken&&(t["x-oss-security-token"]=this.options.stsToken),p(e.headers).to(t),function(e,t){return e[t]||e[t.toLowerCase()]}(t,"Content-Type")||(e.mime===d.default_type&&(e.mime=""),e.mime&&e.mime.indexOf("/")>0?t["Content-Type"]=e.mime:t["Content-Type"]=d.getType(e.mime||f.extname(e.object||""))||"application/octet-stream"),e.content&&(t["Content-Md5"]=l.createHash("md5").update(new n(e.content,"utf8")).digest("base64"),t["Content-Length"]||(t["Content-Length"]=e.content.length));var r=this._getResource(e);t.authorization=this.authorization(e.method,r,e.subres,t);var i=this._getReqUrl(e);this.debug("request %s %s, with headers %j, !!stream: %s",e.method,i,t,!!e.stream,"info");var o=e.timeout||this.options.timeout;return{url:i,params:{agent:this.agent,method:e.method,content:e.content,stream:e.stream,headers:t,timeout:o,writeStream:e.writeStream,customResponse:e.customResponse,ctx:e.ctx||this.ctx}}},P.request=function(e){var t,r,n,i,a;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return t=this.createRequest(e),this.options.useFetch||(t.params.mode="disable-fetch"),r=void 0,n=void 0,s.prev=4,s.next=7,o.default.awrap(this.urllib.request(t.url,t.params));case 7:r=s.sent,this.debug("response %s %s, got %s, headers: %j",e.method,t.url,r.status,r.headers,"info"),s.next=14;break;case 11:s.prev=11,s.t0=s.catch(4),n=s.t0;case 14:if(i=void 0,!r||!e.successStatuses||-1!==e.successStatuses.indexOf(r.status)){s.next=27;break}return s.next=18,o.default.awrap(this.requestError(r));case 18:if("RequestTimeTooSkewed"!==(i=s.sent).code){s.next=24;break}return this.options.amendTimeSkewed=+new Date(i.serverTime)-new Date,s.next=23,o.default.awrap(this.request(e));case 23:return s.abrupt("return",s.sent);case 24:i.params=e,s.next=31;break;case 27:if(!n){s.next=31;break}return s.next=30,o.default.awrap(this.requestError(n));case 30:i=s.sent;case 31:if(!i){s.next=33;break}throw i;case 33:if(!e.xmlResponse){s.next=38;break}return s.next=36,o.default.awrap(this.parseXML(r.data));case 36:a=s.sent,r.data=a;case 38:return s.abrupt("return",r);case 39:case"end":return s.stop()}},null,this,[[4,11]])},P._getResource=function(e){var t="/";return e.bucket&&(t+=e.bucket+"/"),e.object&&(t+=e.object),t},P._isIP=function(e){return R._isIP(e)},P._escape=function(e){return w.encodeURIComponent(e).replace(/%2F/g,"/")},P._getReqUrl=function(e){var t={};p(this.options.endpoint).to(t);var r=this._isIP(t.hostname),n=this.options.cname;!e.bucket||n||r||(t.host=e.bucket+"."+t.host);var i="/";e.bucket&&r&&(i+=e.bucket+"/"),e.object&&(i+=this._escape(e.object).replace(/\+/g,"%2B")),t.pathname=i;var o={};if(e.query&&_(o,e.query),e.subres){var a={};y.string(e.subres)?a[e.subres]="":y.array(e.subres)?e.subres.forEach(function(e){a[e]=""}):a=e.subres,_(o,a)}return t.query=o,g.format(t)},P._getUserAgent=function(){var e="aliyun-sdk-"+(r&&r.browser?"js":"nodejs")+"/"+x.version,t=b.description;return!t&&r&&(t="Node.js "+r.version.slice(1)+" on "+r.platform+" "+r.arch),this._checkUserAgent(e+" "+t)},P._checkUserAgent=function(e){return e.replace(/\u03b1/,"alpha").replace(/\u03b2/,"beta")},P.checkBrowserAndVersion=function(e,t){return k.name===e&&k.version.split(".")[0]===t},P.parseXML=function(e){return new i.default(function(t,r){n.isBuffer(e)&&(e=e.toString()),h.parseString(e,{explicitRoot:!1,explicitArray:!1},function(e,n){e?r(e):t(n)})})},P.requestError=function(e){var t,r,n,i;return o.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=null,e.data&&e.data.length){a.next=5;break}-1===e.status||-2===e.status?((t=new Error(e.message)).name=e.name,t.status=e.status,t.code=e.name):(404===e.status?((t=new Error("Object not exists")).name="NoSuchKeyError",t.status=404,t.code="NoSuchKey"):412===e.status?((t=new Error("Pre condition failed")).name="PreconditionFailedError",t.status=412,t.code="PreconditionFailed"):((t=new Error("Unknow error, status: "+e.status)).name="UnknowError",t.status=e.status),t.requestId=e.headers["x-oss-request-id"],t.host=""),a.next=33;break;case 5:return r=String(e.data),this.debug("request response error data: %s",r,"error"),n=void 0,a.prev=8,a.next=11,o.default.awrap(this.parseXML(r));case 11:if(a.t0=a.sent,a.t0){a.next=14;break}a.t0={};case 14:n=a.t0,a.next=24;break;case 17:return a.prev=17,a.t1=a.catch(8),this.debug(r,"error"),a.t1.message+="\nraw xml: "+r,a.t1.status=e.status,a.t1.requestId=e.headers["x-oss-request-id"],a.abrupt("return",a.t1);case 24:i=n.Message||"unknow request error, status: "+e.status,n.Condition&&(i+=" (condition: "+n.Condition+")"),(t=new Error(i)).name=n.Code?n.Code+"Error":"UnknowError",t.status=e.status,t.code=n.Code,t.requestId=n.RequestId,t.hostId=n.HostId,t.serverTime=n.ServerTime;case 33:return this.debug("generate error %j",t,"error"),a.abrupt("return",t);case 35:case"end":return a.stop()}},null,this,[[8,17]])}}).call(this,e("_process"),e("buffer").Buffer)},{"../common/multipart":7,"../common/parallel":8,"../common/signUtils":9,"../common/utils":10,"./../../shims/crypto/crypto.js":235,"./managed-upload":3,"./object":4,"./version":5,_process:171,agentkeepalive:11,"babel-runtime/core-js/object/assign":17,"babel-runtime/core-js/object/keys":22,"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32,bowser:34,buffer:37,"copy-to":40,dateformat:151,debug:153,"humanize-ms":158,"is-type-of":163,"merge-descriptors":166,mime:240,path:168,platform:169,url:201,urllib:242,utility:241,xml2js:211}],3:[function(e,t,r){(function(t){var n=a(e("babel-runtime/core-js/array/from")),i=a(e("babel-runtime/core-js/promise")),o=a(e("babel-runtime/regenerator"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("is-type-of"),c=e("util"),u=e("path"),l=e("mime"),f=e("copy-to"),p=r;p.multipartUpload=function(e,t,r){var n,i,a,c,f,p,d,h,m;return o.default.async(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.resetCancelFlag(),!(r=r||{}).checkpoint||!r.checkpoint.uploadId){v.next=6;break}return v.next=5,o.default.awrap(this._resumeMultipart(r.checkpoint,r));case 5:return v.abrupt("return",v.sent);case 6:return n=102400,r.mime||(s.file(t)?r.mime=l.getType(u.extname(t.name)):s.blob(t)?r.mime=t.type:r.mime=l.getType(u.extname(t))),r.headers=r.headers||{},this._convertMetaToHeaders(r.meta,r.headers),v.next=12,o.default.awrap(this._getFileSize(t));case 12:if(!((i=v.sent)<n)){v.next=25;break}return a=this._createStream(t,0,i),r.contentLength=i,v.next=18,o.default.awrap(this.putStream(e,a,r));case 18:if(c=v.sent,!r||!r.progress){v.next=22;break}return v.next=22,o.default.awrap(r.progress(1));case 22:return f={res:c.res,bucket:this.options.bucket,name:e,etag:c.res.headers.etag},(r.headers&&r.headers["x-oss-callback"]||r.callback)&&(f.data=c.data),v.abrupt("return",f);case 25:if(!r.partSize||parseInt(r.partSize,10)===r.partSize){v.next=27;break}throw new Error("partSize must be int number");case 27:if(!(r.partSize&&r.partSize<n)){v.next=29;break}throw new Error("partSize must not be smaller than "+n);case 29:return v.next=31,o.default.awrap(this.initMultipartUpload(e,r));case 31:if(p=v.sent,d=p.uploadId,h=this._getPartSize(i,r.partSize),m={file:t,name:e,fileSize:i,partSize:h,uploadId:d,doneParts:[]},!r||!r.progress){v.next=38;break}return v.next=38,o.default.awrap(r.progress(0,m,p.res));case 38:return v.next=40,o.default.awrap(this._resumeMultipart(m,r));case 40:return v.abrupt("return",v.sent);case 41:case"end":return v.stop()}},null,this)},p._resumeMultipart=function(e,t){var r,a,s,c,u,l,p,d,h,m,v,_,g,y,b,w,S,x;return o.default.async(function(E){for(;;)switch(E.prev=E.next){case 0:if(r=this,!this.isCancel()){E.next=3;break}throw this._makeCancelEvent();case 3:return a=e.file,s=e.fileSize,c=e.partSize,u=e.uploadId,l=e.doneParts,p=e.name,d=[],l.length>0&&f(l).to(d),h=this._divideParts(s,c),m=h.length,v=!1,_=function(r,n){var s=this;return new i.default(function(i,c){var d,_,g,y;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,r.isCancel()){s.next=18;break}return d=h[n-1],_={stream:r._createStream(a,d.start,d.end),size:d.end-d.start},s.next=6,o.default.awrap(r._uploadPart(p,u,n,_));case 6:if(g=s.sent,r.isCancel()||v){s.next=15;break}if(e.doneParts.push({number:n,etag:g.res.headers.etag}),!t.progress){s.next=12;break}return s.next=12,o.default.awrap(t.progress(l.length/m,e,g.res));case 12:i({number:n,etag:g.res.headers.etag}),s.next=16;break;case 15:i();case 16:s.next=19;break;case 18:i();case 19:s.next=30;break;case 21:s.prev=21,s.t0=s.catch(0),(y=new Error).name=s.t0.name,y.message=s.t0.message,y.stack=s.t0.stack,y.partNum=n,f(s.t0).to(y),c(y);case 30:case"end":return s.stop()}},null,s,[[0,21]])})},g=(0,n.default)(new Array(m),function(e,t){return t+1}),y=d.map(function(e){return e.number}),b=g.filter(function(e){return y.indexOf(e)<0}),w=5,S=t.parallel||w,E.next=17,o.default.awrap(this._parallel(b,S,function(e){return new i.default(function(t,n){_(r,e).then(function(e){e&&d.push(e),t()}).catch(function(e){n(e)})})}));case 17:if(x=E.sent,v=!0,!this.isCancel()){E.next=22;break}throw _=null,this._makeCancelEvent();case 22:if(!(x&&x.length>0)){E.next=25;break}throw x[0].message="Failed to upload some parts with error: "+x[0].toString()+" part_num: "+x[0].partNum,x[0];case 25:return E.next=27,o.default.awrap(this.completeMultipartUpload(p,u,d,t));case 27:return E.abrupt("return",E.sent);case 28:case"end":return E.stop()}},null,this)},s.file=function(e){return"undefined"!=typeof File&&e instanceof File},s.blob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},p._getFileSize=function(e){var t;return o.default.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!s.buffer(e)){r.next=4;break}return r.abrupt("return",e.length);case 4:if(!s.blob(e)&&!s.file(e)){r.next=6;break}return r.abrupt("return",e.size);case 6:if(!s.string(e)){r.next=11;break}return r.next=9,o.default.awrap(this._statFile(e));case 9:return t=r.sent,r.abrupt("return",t.size);case 11:throw new Error("_getFileSize requires Buffer/File/String.");case 12:case"end":return r.stop()}},null,this)};var d=e("stream").Readable;function h(e,t){if(!(this instanceof h))return new h(e,t);d.call(this,t),this.file=e,this.reader=new FileReader,this.start=0,this.finish=!1,this.fileBuffer=null}c.inherits(h,d),h.prototype.readFileAndPush=function(e){if(this.fileBuffer)for(var t=!0;t&&this.fileBuffer&&this.start<this.fileBuffer.length;){var r=this.start,n=r+e;n=n>this.fileBuffer.length?this.fileBuffer.length:n,this.start=n,t=this.push(this.fileBuffer.slice(r,n))}},h.prototype._read=function(e){if(this.file&&this.start>=this.file.size||this.fileBuffer&&this.start>=this.fileBuffer.length||this.finish||0===this.start&&!this.file)return this.finish||(this.fileBuffer=null,this.finish=!0),void this.push(null);e=e||16384;var r=this;this.reader.onload=function(n){r.fileBuffer=new t(new Uint8Array(n.target.result)),r.file=null,r.readFileAndPush(e)},0===this.start?this.reader.readAsArrayBuffer(this.file):this.readFileAndPush(e)},p._createStream=function(e,t,r){if(s.blob(e)||s.file(e))return new h(e.slice(t,r));throw new Error("_createStream requires File/String.")},p._getPartSize=function(e,t){return t?Math.max(Math.ceil(e/1e4),t):1048576},p._divideParts=function(e,t){for(var r=Math.ceil(e/t),n=[],i=0;i<r;i++){var o=t*i,a=Math.min(o+t,e);n.push({start:o,end:a})}return n}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/array/from":15,"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32,buffer:37,"copy-to":40,"is-type-of":163,mime:240,path:168,stream:193,util:205}],4:[function(e,t,r){var n=a(e("babel-runtime/core-js/promise")),i=a(e("babel-runtime/core-js/object/keys")),o=a(e("babel-runtime/regenerator"));function a(e){return e&&e.__esModule?e:{default:e}}var s=e("utility"),c=e("fs"),u=e("is-type-of"),l=e("url"),f=e("copy-to"),p=e("path"),d=e("mime"),h=e("../common/callback"),m=e("../common/signUtils"),v=r;v.append=function(e,t,r){var n;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return void 0===(r=r||{}).position&&(r.position="0"),r.subres={append:"",position:r.position},r.method="POST",i.next=6,o.default.awrap(this.put(e,t,r));case 6:return(n=i.sent).nextAppendPosition=n.res.headers["x-oss-next-append-position"],i.abrupt("return",n);case 9:case"end":return i.stop()}},null,this)},v.put=function(e,t,r){var n,i,a,s,c,l,f;return o.default.async(function(m){for(;;)switch(m.prev=m.next){case 0:if(n=void 0,r=r||{},!u.buffer(t)){m.next=6;break}n=t,m.next=19;break;case 6:if(!u.blob(t)&&!u.file(t)){m.next=18;break}return r.mime||(u.file(t)?r.mime=d.getType(p.extname(t.name)):r.mime=t.type),i=this._createStream(t,0,t.size),m.next=11,o.default.awrap(this._getFileSize(t));case 11:return r.contentLength=m.sent,m.next=14,o.default.awrap(this.putStream(e,i,r));case 14:return a=m.sent,m.abrupt("return",a);case 18:throw new TypeError("Must provide Buffer/Blob for put.");case 19:return r.headers=r.headers||{},this._convertMetaToHeaders(r.meta,r.headers),s=r.method||"PUT",c=this._objectRequestParams(s,e,r),h.encodeCallback(c,r),c.mime=r.mime,c.content=n,c.successStatuses=[200],m.next=29,o.default.awrap(this.request(c));case 29:return l=m.sent,f={name:e,url:this._objectUrl(e),res:l.res},c.headers&&c.headers["x-oss-callback"]&&(f.data=JSON.parse(l.data.toString())),m.abrupt("return",f);case 33:case"end":return m.stop()}},null,this)},v.putStream=function(e,t,r){var n,i,a,s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return(r=r||{}).headers=r.headers||{},r.contentLength?r.headers["Content-Length"]=r.contentLength:r.headers["Transfer-Encoding"]="chunked",this._convertMetaToHeaders(r.meta,r.headers),n=r.method||"PUT",i=this._objectRequestParams(n,e,r),h.encodeCallback(i,r),i.mime=r.mime,i.stream=t,i.successStatuses=[200],c.next=12,o.default.awrap(this.request(i));case 12:return a=c.sent,s={name:e,url:this._objectUrl(e),res:a.res},i.headers&&i.headers["x-oss-callback"]&&(s.data=JSON.parse(a.data.toString())),c.abrupt("return",s);case 16:case"end":return c.stop()}},null,this)},v.head=function(e,t){var r,n,a;return o.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return(r=this._objectRequestParams("HEAD",e,t)).successStatuses=[200,304],s.next=4,o.default.awrap(this.request(r));case 4:return n=s.sent,a={meta:null,res:n.res,status:n.status},200===n.status&&(0,i.default)(n.headers).forEach(function(e){0===e.indexOf("x-oss-meta-")&&(a.meta||(a.meta={}),a.meta[e.substring(11)]=n.headers[e])}),s.abrupt("return",a);case 8:case"end":return s.stop()}},null,this)},v.get=function(e,t,r){var n,i,a,s;return o.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return n=null,i=!1,u.writableStream(t)?n=t:u.string(t)?(n=c.createWriteStream(t),i=!0):r=t,(r=r||{}).process&&(r.subres=r.subres||{},r.subres["x-oss-process"]=r.process),a=void 0,l.prev=6,(s=this._objectRequestParams("GET",e,r)).writeStream=n,s.successStatuses=[200,206,304],l.next=12,o.default.awrap(this.request(s));case 12:a=l.sent,i&&n.destroy(),l.next=24;break;case 16:if(l.prev=16,l.t0=l.catch(6),!i){l.next=23;break}return n.destroy(),this.debug("get error: %s, delete the exists file %s",l.t0,t,"error"),l.next=23,o.default.awrap(this._deleteFileSafe(t));case 23:throw l.t0;case 24:return l.abrupt("return",{res:a.res,content:a.data});case 25:case"end":return l.stop()}},null,this,[[6,16]])},v.delete=function(e,t){var r,n;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return(r=this._objectRequestParams("DELETE",e,t)).successStatuses=[204],i.next=4,o.default.awrap(this.request(r));case 4:return n=i.sent,i.abrupt("return",{res:n.res});case 6:case"end":return i.stop()}},null,this)},v.deleteMulti=function(e,t){var r,n,i,a,c,u;return o.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:for(r='<?xml version="1.0" encoding="UTF-8"?>\n<Delete>\n',(t=t||{}).quiet?r+="  <Quiet>true</Quiet>\n":r+="  <Quiet>false</Quiet>\n",n=0;n<e.length;n++)r+="  <Object><Key>"+s.escape(this._objectName(e[n]))+"</Key></Object>\n";return r+="</Delete>",this.debug("delete multi objects: %s",r,"info"),t.subres="delete",(i=this._objectRequestParams("POST","",t)).mime="xml",i.content=r,i.xmlResponse=!0,i.successStatuses=[200],l.next=14,o.default.awrap(this.request(i));case 14:return a=l.sent,c=a.data,(u=c&&c.Deleted||null)&&(Array.isArray(u)||(u=[u]),u=u.map(function(e){return e.Key})),l.abrupt("return",{res:a.res,deleted:u});case 19:case"end":return l.stop()}},null,this)},v.copy=function(e,t,r){var n,a,s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return(r=r||{}).headers=r.headers||{},(0,i.default)(r.headers).forEach(function(e){r.headers["x-oss-copy-source-"+e.toLowerCase()]=r.headers[e]}),r.meta&&(r.headers["x-oss-metadata-directive"]="REPLACE"),this._convertMetaToHeaders(r.meta,r.headers),t="/"!==t[0]?"/"+this.options.bucket+"/"+encodeURIComponent(t):"/"+encodeURIComponent(t.slice(1)),r.headers["x-oss-copy-source"]=t,(n=this._objectRequestParams("PUT",e,r)).xmlResponse=!0,n.successStatuses=[200,304],c.next=12,o.default.awrap(this.request(n));case 12:return a=c.sent,(s=a.data)&&(s={etag:s.ETag,lastModified:s.LastModified}),c.abrupt("return",{data:s,res:a.res});case 16:case"end":return c.stop()}},null,this)},v.putMeta=function(e,t,r){var n;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.default.awrap(this.copy(e,e,{meta:t||{},timeout:r&&r.timeout,ctx:r&&r.ctx}));case 2:return n=i.sent,i.abrupt("return",n);case 4:case"end":return i.stop()}},null,this)},v.list=function(e,t){var r,n,i,a,s;return o.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return(r=this._objectRequestParams("GET","",t)).query=e,r.xmlResponse=!0,r.successStatuses=[200],c.next=6,o.default.awrap(this.request(r));case 6:return n=c.sent,i=n.data.Contents,a=this,i&&(Array.isArray(i)||(i=[i]),i=i.map(function(e){return{name:e.Key,url:a._objectUrl(e.Key),lastModified:e.LastModified,etag:e.ETag,type:e.Type,size:Number(e.Size),storageClass:e.StorageClass,owner:{id:e.Owner.ID,displayName:e.Owner.DisplayName}}})),(s=n.data.CommonPrefixes||null)&&(Array.isArray(s)||(s=[s]),s=s.map(function(e){return e.Prefix})),c.abrupt("return",{res:n.res,objects:i,prefixes:s,nextMarker:n.data.NextMarker||null,isTruncated:"true"===n.data.IsTruncated});case 13:case"end":return c.stop()}},null,this)},v.putACL=function(e,t,r){var n,i;return o.default.async(function(a){for(;;)switch(a.prev=a.next){case 0:return(r=r||{}).subres="acl",r.headers=r.headers||{},r.headers["x-oss-object-acl"]=t,e=this._objectName(e),(n=this._objectRequestParams("PUT",e,r)).successStatuses=[200],a.next=9,o.default.awrap(this.request(n));case 9:return i=a.sent,a.abrupt("return",{res:i.res});case 11:case"end":return a.stop()}},null,this)},v.getACL=function(e,t){var r,n;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return(t=t||{}).subres="acl",e=this._objectName(e),(r=this._objectRequestParams("GET",e,t)).successStatuses=[200],r.xmlResponse=!0,i.next=8,o.default.awrap(this.request(r));case 8:return n=i.sent,i.abrupt("return",{acl:n.data.AccessControlList.Grant,owner:{id:n.data.Owner.ID,displayName:n.data.Owner.DisplayName},res:n.res});case 10:case"end":return i.stop()}},null,this)},v.restore=function(e,t){var r,n;return o.default.async(function(i){for(;;)switch(i.prev=i.next){case 0:return(t=t||{}).subres="restore",(r=this._objectRequestParams("POST",e,t)).successStatuses=[202],i.next=6,o.default.awrap(this.request(r));case 6:return n=i.sent,i.abrupt("return",{res:n.res});case 8:case"end":return i.stop()}},null,this)},v.signatureUrl=function(e,t){t=t||{},e=this._objectName(e),t.method=t.method||"GET";var r=s.timestamp()+(t.expires||1800),n={bucket:this.options.bucket,object:e},i=this._getResource(n);this.options.stsToken&&(t["security-token"]=this.options.stsToken);var o=m._signatureForURL(this.options.accessKeySecret,t,i,r),a=l.parse(this._getReqUrl(n));return a.query={OSSAccessKeyId:this.options.accessKeyId,Expires:r,Signature:o.Signature},f(o.subResource).to(a.query),a.format()},v.getObjectUrl=function(e,t){return t?"/"!==t[t.length-1]&&(t+="/"):t=this.options.endpoint.format(),t+this._escape(this._objectName(e))},v._objectUrl=function(e){return this._getReqUrl({bucket:this.options.bucket,object:e})},v.generateObjectUrl=function(e,t){if(t)"/"!==t[t.length-1]&&(t+="/");else{t=this.options.endpoint.format();var r=l.parse(t),n=this.options.bucket;r.hostname=n+"."+r.hostname,r.host=n+"."+r.host,t=r.format()}return t+this._escape(this._objectName(e))},v._objectRequestParams=function(e,t,r){if(!this.options.bucket)throw new Error("Please create a bucket first");r=r||{};var n={object:t=this._objectName(t),bucket:this.options.bucket,method:e,subres:r&&r.subres,timeout:r&&r.timeout,ctx:r&&r.ctx};return r.headers&&(n.headers={},f(r.headers).to(n.headers)),n},v._objectName=function(e){return e.replace(/^\/+/,"")},v._statFile=function(e){return new n.default(function(t,r){c.stat(e,function(e,n){e?r(e):t(n)})})},v._convertMetaToHeaders=function(e,t){e&&(0,i.default)(e).forEach(function(r){t["x-oss-meta-"+r]=e[r]})},v._deleteFileSafe=function(e){var t=this;return new n.default(function(r){c.exists(e,function(n){n?c.unlink(e,function(n){n&&t.debug("unlink %j error: %s",e,n,"error"),r()}):r()})})}},{"../common/callback":6,"../common/signUtils":9,"babel-runtime/core-js/object/keys":22,"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32,"copy-to":40,fs:35,"is-type-of":163,mime:240,path:168,url:201,utility:241}],5:[function(e,t,r){r.version="6.1.1"},{}],6:[function(e,t,r){(function(t){var n=o(e("babel-runtime/core-js/object/keys")),i=o(e("babel-runtime/core-js/json/stringify"));function o(e){return e&&e.__esModule?e:{default:e}}r.encodeCallback=function(e,r){if(e.headers=e.headers||{},!Object.prototype.hasOwnProperty.call(e.headers,"x-oss-callback")&&r.callback){var o={callbackUrl:encodeURI(r.callback.url),callbackBody:r.callback.body};r.callback.host&&(o.callbackHost=r.callback.host),r.callback.contentType&&(o.callbackBodyType=r.callback.contentType);var a=new t((0,i.default)(o)).toString("base64");if(e.headers["x-oss-callback"]=a,r.callback.customValue){var s={};(0,n.default)(r.callback.customValue).forEach(function(e){s["x:"+e]=r.callback.customValue[e]}),e.headers["x-oss-callback-var"]=new t((0,i.default)(s)).toString("base64")}}}}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":16,"babel-runtime/core-js/object/keys":22,buffer:37}],7:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/regenerator"));var i=e("copy-to"),o=e("./callback"),a=r;a.listUploads=function(e,t){var r,o,a,s;return n.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return r={},i(t=t||{}).to(r),r.subres="uploads",(o=this._objectRequestParams("GET","",r)).query=e,o.xmlResponse=!0,o.successStatuses=[200],c.next=10,n.default.awrap(this.request(o));case 10:return a=c.sent,s=a.data.Upload||[],Array.isArray(s)||(s=[s]),s=s.map(function(e){return{name:e.Key,uploadId:e.UploadId,initiated:e.Initiated}}),c.abrupt("return",{res:a.res,uploads:s,bucket:a.data.Bucket,nextKeyMarker:a.data.NextKeyMarker,nextUploadIdMarker:a.data.NextUploadIdMarker,isTruncated:"true"===a.data.IsTruncated});case 15:case"end":return c.stop()}},null,this)},a.listParts=function(e,t,r,o){var a,s,c;return n.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return a={},i(o=o||{}).to(a),a.subres={uploadId:t},(s=this._objectRequestParams("GET",e,a)).query=r,s.xmlResponse=!0,s.successStatuses=[200],u.next=10,n.default.awrap(this.request(s));case 10:return c=u.sent,u.abrupt("return",{res:c.res,uploadId:c.data.UploadId,bucket:c.data.Bucket,name:c.data.Key,partNumberMarker:c.data.PartNumberMarker,nextPartNumberMarker:c.data.NextPartNumberMarker,maxParts:c.data.MaxParts,isTruncated:c.data.IsTruncated,parts:c.data.Part||[]});case 12:case"end":return u.stop()}},null,this)},a.abortMultipartUpload=function(e,t,r){var o,a,s;return n.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:return this._stop(),o={},i(r=r||{}).to(o),o.subres={uploadId:t},(a=this._objectRequestParams("DELETE",e,o)).successStatuses=[204],c.next=9,n.default.awrap(this.request(a));case 9:return s=c.sent,c.abrupt("return",{res:s.res});case 11:case"end":return c.stop()}},null,this)},a.initMultipartUpload=function(e,t){var r,o,a;return n.default.async(function(s){for(;;)switch(s.prev=s.next){case 0:return r={},i(t=t||{}).to(r),r.headers=r.headers||{},this._convertMetaToHeaders(t.meta,r.headers),r.subres="uploads",(o=this._objectRequestParams("POST",e,r)).mime=t.mime,o.xmlResponse=!0,o.successStatuses=[200],s.next=12,n.default.awrap(this.request(o));case 12:return a=s.sent,s.abrupt("return",{res:a.res,bucket:a.data.Bucket,name:a.data.Key,uploadId:a.data.UploadId});case 14:case"end":return s.stop()}},null,this)},a.uploadPart=function(e,t,r,i,o,a,s){var c;return n.default.async(function(u){for(;;)switch(u.prev=u.next){case 0:return c={stream:this._createStream(i,o,a),size:a-o},u.next=3,n.default.awrap(this._uploadPart(e,t,r,c,s));case 3:return u.abrupt("return",u.sent);case 4:case"end":return u.stop()}},null,this)},a.completeMultipartUpload=function(e,t,r,a){var s,c,u,l,f,p,d,h;return n.default.async(function(m){for(;;)switch(m.prev=m.next){case 0:for(s=r.concat().sort(function(e,t){return e.number-t.number}).filter(function(e,t,r){return!t||e.number!==r[t-1].number}),c='<?xml version="1.0" encoding="UTF-8"?>\n<CompleteMultipartUpload>\n',u=0;u<s.length;u++)l=s[u],c+="<Part>\n",c+="<PartNumber>"+l.number+"</PartNumber>\n",c+="<ETag>"+l.etag+"</ETag>\n",c+="</Part>\n";return c+="</CompleteMultipartUpload>",f={},i(a=a||{}).to(f),f.subres={uploadId:t},p=this._objectRequestParams("POST",e,f),o.encodeCallback(p,f),p.mime="xml",p.content=c,p.headers&&p.headers["x-oss-callback"]||(p.xmlResponse=!0),p.successStatuses=[200],m.next=16,n.default.awrap(this.request(p));case 16:return d=m.sent,h={res:d.res,bucket:p.bucket,name:e,etag:d.res.headers.etag},p.headers&&p.headers["x-oss-callback"]&&(h.data=JSON.parse(d.data.toString())),m.abrupt("return",h);case 20:case"end":return m.stop()}},null,this)},a._uploadPart=function(e,t,r,o,a){var s,c,u;return n.default.async(function(l){for(;;)switch(l.prev=l.next){case 0:return s={},i(a=a||{}).to(s),s.headers={"Content-Length":o.size},s.subres={partNumber:r,uploadId:t},(c=this._objectRequestParams("PUT",e,s)).mime=s.mime,c.stream=o.stream,c.successStatuses=[200],l.next=11,n.default.awrap(this.request(c));case 11:return u=l.sent,o.stream=null,c.stream=null,l.abrupt("return",{name:e,etag:u.res.headers.etag,res:u.res});case 15:case"end":return l.stop()}},null,this)}},{"./callback":6,"babel-runtime/regenerator":32,"copy-to":40}],8:[function(e,t,r){var n=o(e("babel-runtime/regenerator")),i=o(e("babel-runtime/core-js/promise"));function o(e){return e&&e.__esModule?e:{default:e}}var a=r;a._parallelNode=function(e,t,r,o){var a,s,c,u,l,f,p,d;return n.default.async(function(h){for(;;)switch(h.prev=h.next){case 0:a=this,s=[],c=[],u=e.length/t,l=e.length%t,f=0===l?u:(e.length-l)/t+1,p=1,d=0;case 8:if(!(d<e.length)){h.next=26;break}if(!a.isCancel()){h.next=11;break}return h.abrupt("break",26);case 11:if(o?c.push(r(a,e[d],o)):c.push(r(a,e[d])),c.length!==t&&(p!==f||d!==e.length-1)){h.next=23;break}return h.prev=13,p+=1,h.next=17,n.default.awrap(i.default.all(c));case 17:h.next=22;break;case 19:h.prev=19,h.t0=h.catch(13),s.push(h.t0);case 22:c=[];case 23:d++,h.next=8;break;case 26:return h.abrupt("return",s);case 27:case"end":return h.stop()}},null,this,[[13,19]])},a._parallel=function(e,t,r){var n=this;return new i.default(function(i){var o=[];if(t<=0||!e)i(o);else{var a=function(e){var t=-1,r=e.length;return function(){return++t<r&&!n.isCancel()?{value:e[t],key:t}:null}}(e),s=!1,c=0,u=!1;d()}function l(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}function f(e,t){c-=1,e?(s=!0,o.push(e),i(o)):t==={}||s&&c<=0?(s=!0,i(o)):u||(n.isCancel()?i(o):d())}function p(e,t){r(e).then(function(e){t(null,e)}).catch(function(e){t(e)})}function d(){for(u=!0;c<t&&!s&&!n.isCancel();){var e=a();if(null===e||o.length>0)return s=!0,void(c<=0&&i(o));c+=1,p(e.value,l(f))}u=!1}})},a.cancel=function(e){this.options.cancelFlag=!0,e&&this.abortMultipartUpload(e.name,e.uploadId,e.options)},a.isCancel=function(){return this.options.cancelFlag},a.resetCancelFlag=function(){this.options.cancelFlag=!1},a._stop=function(){this.options.cancelFlag=!0},a._makeCancelEvent=function(){return{status:0,name:"cancel"}}},{"babel-runtime/core-js/promise":23,"babel-runtime/regenerator":32}],9:[function(e,t,r){(function(t){var n=o(e("babel-runtime/core-js/json/stringify")),i=o(e("babel-runtime/core-js/object/keys"));function o(e){return e&&e.__esModule?e:{default:e}}var a=e("./../../shims/crypto/crypto.js"),s=e("is-type-of");r.buildCanonicalizedResource=function(e,t){var r=""+e,n="?";if(s.string(t)&&""!==t.trim())r+=n+t;else if(s.array(t))t.sort(),r+=n+t.join("&");else if(t){(0,i.default)(t).sort(function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0}).forEach(function(e){r+=n+e,t[e]&&(r+="="+t[e]),n="&"})}return r},r.buildCanonicalString=function(e,t,r,n){var o=(r=r||{}).headers||{},a=[],s={},c=[e.toUpperCase(),o["Content-Md5"]||"",o["Content-Type"]||o["Content-Type".toLowerCase()],n||o["x-oss-date"]];return(0,i.default)(o).forEach(function(e){var t=e.toLowerCase();0===t.indexOf("x-oss-")&&(s[t]=String(o[e]).trim())}),(0,i.default)(s).sort().forEach(function(e){a.push(e+":"+s[e])}),(c=c.concat(a)).push(this.buildCanonicalizedResource(t,r.parameters)),c.join("\n")},r.computeSignature=function(e,r){return a.createHmac("sha1",e).update(new t(r,"utf8")).digest("base64")},r.authorization=function(e,t,r){return"OSS "+e+":"+this.computeSignature(t,r)},r._signatureForURL=function(e,r,o,a){var s={},c={};if(r.process){c["x-oss-process"]=r.process}if(r.response&&(0,i.default)(r.response).forEach(function(e){var t="response-"+e.toLowerCase();c[t]=r.response[e]}),(0,i.default)(r).forEach(function(e){var t=e.toLowerCase(),n=r[e];0===t.indexOf("x-oss-")?s[t]=n:0===t.indexOf("content-md5")?s[e]=n:0===t.indexOf("content-type")?s[e]=n:"expires"!==t&&"response"!==t&&"process"!==t&&"method"!==t&&(c[t]=n)}),Object.prototype.hasOwnProperty.call(r,"security-token")&&(c["security-token"]=r["security-token"]),Object.prototype.hasOwnProperty.call(r,"callback")){var u={callbackUrl:encodeURI(r.callback.url),callbackBody:r.callback.body};if(r.callback.host&&(u.callbackHost=r.callback.host),r.callback.contentType&&(u.callbackBodyType=r.callback.contentType),c.callback=new t((0,n.default)(u)).toString("base64"),r.callback.customValue){var l={};(0,i.default)(r.callback.customValue).forEach(function(e){l["x:"+e]=r.callback.customValue[e]}),c["callback-var"]=new t((0,n.default)(l)).toString("base64")}}var f=this.buildCanonicalString(r.method,o,{headers:s,parameters:c},a.toString());return{Signature:this.computeSignature(e,f),subResource:c}}}).call(this,e("buffer").Buffer)},{"./../../shims/crypto/crypto.js":235,"babel-runtime/core-js/json/stringify":16,"babel-runtime/core-js/object/keys":22,buffer:37,"is-type-of":163}],10:[function(e,t,r){r._isIP=function(e){return/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}$/.test(e)||/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/.test(e)}},{}],11:[function(e,t,r){function n(){}t.exports=n,t.exports.HttpsAgent=n},{}],12:[function(e,t,r){t.exports=e("./register")().Promise},{"./register":14}],13:[function(e,t,r){var n=null;t.exports=function(e,t){return function(r,i){r=r||null;var o=!1!==(i=i||{}).global;if(null===n&&o&&(n=e["@@any-promise/REGISTRATION"]||null),null!==n&&null!==r&&n.implementation!==r)throw new Error('any-promise already defined as "'+n.implementation+'".  You can only register an implementation before the first  call to require("any-promise") and an implementation cannot be changed');return null===n&&(n=null!==r&&void 0!==i.Promise?{Promise:i.Promise,implementation:r}:t(r),o&&(e["@@any-promise/REGISTRATION"]=n)),n}}},{}],14:[function(e,t,r){t.exports=e("./loader")(window,function(){if(void 0===window.Promise)throw new Error("any-promise browser requires a polyfill or explicit registration e.g: require('any-promise/register/bluebird')");return{Promise:window.Promise,implementation:"window.Promise"}})},{"./loader":13}],15:[function(e,t,r){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":41}],16:[function(e,t,r){t.exports={default:e("core-js/library/fn/json/stringify"),__esModule:!0}},{"core-js/library/fn/json/stringify":42}],17:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":43}],18:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/create"),__esModule:!0}},{"core-js/library/fn/object/create":44}],19:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":45}],20:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-own-property-names"),__esModule:!0}},{"core-js/library/fn/object/get-own-property-names":46}],21:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/get-prototype-of"),__esModule:!0}},{"core-js/library/fn/object/get-prototype-of":47}],22:[function(e,t,r){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":48}],23:[function(e,t,r){t.exports={default:e("core-js/library/fn/promise"),__esModule:!0}},{"core-js/library/fn/promise":49}],24:[function(e,t,r){t.exports={default:e("core-js/library/fn/set-immediate"),__esModule:!0}},{"core-js/library/fn/set-immediate":50}],25:[function(e,t,r){t.exports={default:e("core-js/library/fn/string/from-code-point"),__esModule:!0}},{"core-js/library/fn/string/from-code-point":51}],26:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":53}],27:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/has-instance"),__esModule:!0}},{"core-js/library/fn/symbol/has-instance":52}],28:[function(e,t,r){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":54}],29:[function(e,t,r){r.__esModule=!0,r.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],30:[function(e,t,r){r.__esModule=!0;var n=function(e){return e&&e.__esModule?e:{default:e}}(e("../core-js/object/define-property"));r.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(e,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},{"../core-js/object/define-property":19}],31:[function(e,t,r){r.__esModule=!0;var n=a(e("../core-js/symbol/iterator")),i=a(e("../core-js/symbol")),o="function"==typeof i.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":s(e)};function a(e){return e&&e.__esModule?e:{default:e}}r.default="function"==typeof i.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},{"../core-js/symbol":26,"../core-js/symbol/iterator":28}],32:[function(e,t,r){t.exports=e("regenerator-runtime")},{"regenerator-runtime":189}],33:[function(e,t,r){r.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){for(var t,r=u(e),n=r[0],a=r[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,n,a)),c=0,l=a>0?n-4:n,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;2===a&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[c++]=255&t);1===a&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t);return s},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function f(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(n));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],34:[function(e,t,r){
/*!
 * Bowser - a browser detector
 * https://github.com/ded/bowser
 * MIT License | (c) Dustin Diaz 2015
 */
!function(e,r,n){void 0!==t&&t.exports?t.exports=n():e.bowser=n()}(this,0,function(){var e=!0;function t(t){function r(e){var r=t.match(e);return r&&r.length>1&&r[1]||""}function n(e){var r=t.match(e);return r&&r.length>1&&r[2]||""}var i,a=r(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),c=/nexus\s*[0-6]\s*/i.test(t),u=!c&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),f=/silk/i.test(t),p=/sailfish/i.test(t),d=/tizen/i.test(t),h=/(web|hpw)(o|0)s/i.test(t),m=/windows phone/i.test(t),v=(/SamsungBrowser/i.test(t),!m&&/windows/i.test(t)),_=!a&&!f&&/macintosh/i.test(t),g=!s&&!p&&!d&&!h&&/linux/i.test(t),y=n(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=r(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),S=!w&&/[^-]mobi/i.test(t),x=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:b||r(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:r(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:b||r(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:r(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:r(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:b||r(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:r(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:b||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:r(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:r(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:r(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:r(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:r(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:r(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:m?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},y?(i.msedge=e,i.version=y):(i.msie=e,i.version=r(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:y}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:r(/vivaldi\/(\d+(\.\d+)?)/i)||b}:p?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):f?i={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:r(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:b||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:h?(i={name:"WebOS",osname:"WebOS",webos:e,version:b||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}:d?i={name:"Tizen",osname:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:r(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:r(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},b&&(i.version=b)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},b&&(i.version=b)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:r(/googlebot\/(\d+(\.\d+))/i)||b}:{name:r(/^(.*)\/(.*) /),version:n(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&b&&(i.version=b)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||r(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=e,i.ios=e,i.osname="iOS"):_?(i.mac=e,i.osname="macOS"):x?(i.xbox=e,i.osname="Xbox"):v?(i.windows=e,i.osname="Windows"):g&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var E="";i.windows?E=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(r(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?E=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?E=(E=r(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?E=(E=r(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?E=r(/android[ \/-](\d+(\.\d+)*)/i):i.webos?E=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?E=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?E=r(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(E=r(/tizen[\/\s](\d+(\.\d+)*)/i)),E&&(i.osversion=E);var k=!i.windows&&E.split(".")[0];return w||u||"ipad"==a||s&&(3==k||k>=4&&!S)||i.silk?i.tablet=e:(S||"iphone"==a||"ipod"==a||s||c||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var r=t("undefined"!=typeof navigator&&navigator.userAgent||"");function n(e){return e.split(".").length}function i(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n.push(t(e[r]));return n}function o(e){for(var t=Math.max(n(e[0]),n(e[1])),r=i(e,function(e){var r=t-n(e);return i((e+=new Array(r+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--t>=0;){if(r[0][t]>r[1][t])return 1;if(r[0][t]!==r[1][t])return-1;if(0===t)return 0}}function a(e,n,i){var a=r;"string"==typeof n&&(i=n,n=void 0),void 0===n&&(n=!1),i&&(a=t(i));var s=""+a.version;for(var c in e)if(e.hasOwnProperty(c)&&a[c]){if("string"!=typeof e[c])throw new Error("Browser version in the minVersion map should be a string: "+c+": "+String(e));return o([s,e[c]])<0}return n}return r.test=function(e){for(var t=0;t<e.length;++t){var n=e[t];if("string"==typeof n&&n in r)return!0}return!1},r.isUnsupportedBrowser=a,r.compareVersions=o,r.check=function(e,t,r){return!a(e,t,r)},r._detect=t,r.detect=t,r})},{}],35:[function(e,t,r){},{}],36:[function(e,t,r){var n=e("buffer").Buffer,i=n.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var o=r.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),function(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=s;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=a)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function a(e){return e.toString(this.encoding)}function s(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function c(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}o.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(e=e.slice(r,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var n=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,n),n-=this.charReceived);var i;n=(t+=e.toString(this.encoding,0,n)).length-1;if((i=t.charCodeAt(n))>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,n)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(t<=2&&r>>4==14){this.charLength=3;break}if(t<=3&&r>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},{buffer:37}],37:[function(e,t,n){(function(t,r){var i=e("base64-js"),o=e("ieee754"),a=e("isarray");function s(){return r.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return r.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=r.prototype:(null===e&&(e=new r(t)),e.length=t),e}function r(e,t,n){if(!(r.TYPED_ARRAY_SUPPORT||this instanceof r))return new r(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,i){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,i){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,n):new Uint8Array(t,n,i);r.TYPED_ARRAY_SUPPORT?(e=t).__proto__=r.prototype:e=p(e,t);return e}(e,t,n,i):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!r.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(t,n),o=(e=c(e,i)).write(t,n);o!==i&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(r.isBuffer(t)){var n=0|d(t.length);return 0===(e=c(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?c(e,0):p(e,t);if("Buffer"===t.type&&a(t.data))return p(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=c(e,t<0?0:0|d(t)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var r=t.length<0?0:0|d(t.length);e=c(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function h(e,t){if(r.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(i)return U(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=r.from(t,i)),r.isBuffer(t))return 0===t.length?-1:_(e,t,n,i,o);if("number"==typeof t)return t&=255,r.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,i,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,i){var o,a=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var f=!0,p=0;p<c;p++)if(u(e,o+p)!==u(t,p)){f=!1;break}if(f)return o}return-1}function g(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function y(e,t,r,n){return q(U(t,e.length-r),e,r,n)}function b(e,t,r,n){return q(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function S(e,t,r,n){return q(H(t),e,r,n)}function x(e,t,r,n){return q(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,c,u=e[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=r)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}n.Buffer=r,n.SlowBuffer=function(e){+e!=e&&(e=0);return r.alloc(+e)},n.INSPECT_MAX_BYTES=50,r.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=s(),r.poolSize=8192,r._augment=function(e){return e.__proto__=r.prototype,e},r.from=function(e,t,r){return u(null,e,t,r)},r.TYPED_ARRAY_SUPPORT&&(r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0})),r.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?c(e,t):void 0!==r?"string"==typeof n?c(e,t).fill(r,n):c(e,t).fill(r):c(e,t)}(null,e,t,r)},r.allocUnsafe=function(e){return f(null,e)},r.allocUnsafeSlow=function(e){return f(null,e)},r.isBuffer=function(e){return!(null==e||!e._isBuffer)},r.compare=function(e,t){if(!r.isBuffer(e)||!r.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,i=t.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==t[o]){n=e[o],i=t[o];break}return n<i?-1:i<n?1:0},r.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return r.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var i=r.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!r.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,o),o+=s.length}return i},r.byteLength=h,r.prototype._isBuffer=!0,r.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},r.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},r.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},r.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},r.prototype.equals=function(e){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===r.compare(this,e)},r.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},r.prototype.compare=function(e,t,n,i,o){if(!r.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),t<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&t>=n)return 0;if(i>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var a=o-i,s=n-t,c=Math.min(a,s),u=this.slice(i,o),l=e.slice(t,n),f=0;f<c;++f)if(u[f]!==l[f]){a=u[f],s=l[f];break}return a<s?-1:s<a?1:0},r.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},r.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},r.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},r.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return g(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function A(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F(e[o]);return i}function P(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,i,o,a){if(!r.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,i){return i||j(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||j(e,0,r,8),o.write(e,t,r,n,52,8),r+8}r.prototype.slice=function(e,t){var n,i=this.length;if(e=~~e,t=void 0===t?i:~~t,e<0?(e+=i)<0&&(e=0):e>i&&(e=i),t<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e),r.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=r.prototype;else{var o=t-e;n=new r(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},r.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},r.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},r.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},r.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},r.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},r.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},r.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},r.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},r.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},r.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},r.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},r.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},r.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},r.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},r.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!0,23,4)},r.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),o.read(this,e,!1,23,4)},r.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!0,52,8)},r.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),o.read(this,e,!1,52,8)},r.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},r.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||M(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},r.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},r.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},r.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},r.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},r.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},r.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},r.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);M(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},r.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),r.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},r.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},r.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},r.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},r.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),r.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},r.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},r.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},r.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},r.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},r.prototype.copy=function(e,t,n,i){if(n||(n=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);var o,a=i-n;if(this===e&&n<t&&t<i)for(o=a-1;o>=0;--o)e[o+t]=this[o+n];else if(a<1e3||!r.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},r.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!r.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=r.isBuffer(e)?e:U(new r(e,i).toString()),c=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%c]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function H(e){return i.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"base64-js":33,buffer:37,ieee754:159,isarray:164}],38:[function(e,t,r){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],39:[function(e,t,r){t.exports={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:512,O_EXCL:2048,O_NOCTTY:131072,O_TRUNC:1024,O_APPEND:8,O_DIRECTORY:1048576,O_NOFOLLOW:256,O_SYNC:128,O_SYMLINK:2097152,O_NONBLOCK:4,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,E2BIG:7,EACCES:13,EADDRINUSE:48,EADDRNOTAVAIL:49,EAFNOSUPPORT:47,EAGAIN:35,EALREADY:37,EBADF:9,EBADMSG:94,EBUSY:16,ECANCELED:89,ECHILD:10,ECONNABORTED:53,ECONNREFUSED:61,ECONNRESET:54,EDEADLK:11,EDESTADDRREQ:39,EDOM:33,EDQUOT:69,EEXIST:17,EFAULT:14,EFBIG:27,EHOSTUNREACH:65,EIDRM:90,EILSEQ:92,EINPROGRESS:36,EINTR:4,EINVAL:22,EIO:5,EISCONN:56,EISDIR:21,ELOOP:62,EMFILE:24,EMLINK:31,EMSGSIZE:40,EMULTIHOP:95,ENAMETOOLONG:63,ENETDOWN:50,ENETRESET:52,ENETUNREACH:51,ENFILE:23,ENOBUFS:55,ENODATA:96,ENODEV:19,ENOENT:2,ENOEXEC:8,ENOLCK:77,ENOLINK:97,ENOMEM:12,ENOMSG:91,ENOPROTOOPT:42,ENOSPC:28,ENOSR:98,ENOSTR:99,ENOSYS:78,ENOTCONN:57,ENOTDIR:20,ENOTEMPTY:66,ENOTSOCK:38,ENOTSUP:45,ENOTTY:25,ENXIO:6,EOPNOTSUPP:102,EOVERFLOW:84,EPERM:1,EPIPE:32,EPROTO:100,EPROTONOSUPPORT:43,EPROTOTYPE:41,ERANGE:34,EROFS:30,ESPIPE:29,ESRCH:3,ESTALE:70,ETIME:101,ETIMEDOUT:60,ETXTBSY:26,EWOULDBLOCK:35,EXDEV:18,SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:10,SIGFPE:8,SIGKILL:9,SIGUSR1:30,SIGSEGV:11,SIGUSR2:31,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGCHLD:20,SIGCONT:19,SIGSTOP:17,SIGTSTP:18,SIGTTIN:21,SIGTTOU:22,SIGURG:16,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:23,SIGSYS:12,SSL_OP_ALL:2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION:262144,SSL_OP_CIPHER_SERVER_PREFERENCE:4194304,SSL_OP_CISCO_ANYCONNECT:32768,SSL_OP_COOKIE_EXCHANGE:8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG:2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS:2048,SSL_OP_EPHEMERAL_RSA:0,SSL_OP_LEGACY_SERVER_CONNECT:4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER:32,SSL_OP_MICROSOFT_SESS_ID_BUG:1,SSL_OP_MSIE_SSLV2_RSA_PADDING:0,SSL_OP_NETSCAPE_CA_DN_BUG:536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG:2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG:1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG:8,SSL_OP_NO_COMPRESSION:131072,SSL_OP_NO_QUERY_MTU:4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION:65536,SSL_OP_NO_SSLv2:16777216,SSL_OP_NO_SSLv3:33554432,SSL_OP_NO_TICKET:16384,SSL_OP_NO_TLSv1:67108864,SSL_OP_NO_TLSv1_1:268435456,SSL_OP_NO_TLSv1_2:134217728,SSL_OP_PKCS1_CHECK_1:0,SSL_OP_PKCS1_CHECK_2:0,SSL_OP_SINGLE_DH_USE:1048576,SSL_OP_SINGLE_ECDH_USE:524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG:128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG:0,SSL_OP_TLS_BLOCK_PADDING_BUG:512,SSL_OP_TLS_D5_BUG:256,SSL_OP_TLS_ROLLBACK_BUG:8388608,ENGINE_METHOD_DSA:2,ENGINE_METHOD_DH:4,ENGINE_METHOD_RAND:8,ENGINE_METHOD_ECDH:16,ENGINE_METHOD_ECDSA:32,ENGINE_METHOD_CIPHERS:64,ENGINE_METHOD_DIGESTS:128,ENGINE_METHOD_STORE:256,ENGINE_METHOD_PKEY_METHS:512,ENGINE_METHOD_PKEY_ASN1_METHS:1024,ENGINE_METHOD_ALL:65535,ENGINE_METHOD_NONE:0,DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_UDP_REUSEADDR:4}},{}],40:[function(e,t,r){var n=Array.prototype.slice;function i(e,t){if(!(this instanceof i))return new i(e,t);this.src=e,this._withAccess=t}function o(e,t){return void 0===e[t]&&void 0===e.__lookupGetter__(t)&&void 0===e.__lookupSetter__(t)}t.exports=i,i.prototype.withAccess=function(e){return this._withAccess=!1!==e,this},i.prototype.pick=function(e){return Array.isArray(e)||(e=n.call(arguments)),e.length&&(this.keys=e),this},i.prototype.to=function(e){if(e=e||{},!this.src)return e;var t=this.keys||Object.keys(this.src);if(!this._withAccess){for(var r=0;r<t.length;r++)void 0===e[n=t[r]]&&(e[n]=this.src[n]);return e}for(r=0;r<t.length;r++){var n=t[r];if(o(e,n)){var i=this.src.__lookupGetter__(n),a=this.src.__lookupSetter__(n);i&&e.__defineGetter__(n,i),a&&e.__defineSetter__(n,a),i||a||(e[n]=this.src[n])}}return e},i.prototype.toCover=function(e){for(var t=this.keys||Object.keys(this.src),r=0;r<t.length;r++){var n=t[r];delete e[n];var i=this.src.__lookupGetter__(n),o=this.src.__lookupSetter__(n);i&&e.__defineGetter__(n,i),o&&e.__defineSetter__(n,o),i||o||(e[n]=this.src[n])}},i.prototype.override=i.prototype.toCover,i.prototype.and=function(e){var t={};return this.to(t),this.src=e,this.to(t),this.src=t,this}},{}],41:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/_core":62,"../../modules/es6.array.from":130,"../../modules/es6.string.iterator":142}],42:[function(e,t,r){var n=e("../../modules/_core"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(e){return i.stringify.apply(i,arguments)}},{"../../modules/_core":62}],43:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":62,"../../modules/es6.object.assign":133}],44:[function(e,t,r){e("../../modules/es6.object.create");var n=e("../../modules/_core").Object;t.exports=function(e,t){return n.create(e,t)}},{"../../modules/_core":62,"../../modules/es6.object.create":134}],45:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":62,"../../modules/es6.object.define-property":135}],46:[function(e,t,r){e("../../modules/es6.object.get-own-property-names");var n=e("../../modules/_core").Object;t.exports=function(e){return n.getOwnPropertyNames(e)}},{"../../modules/_core":62,"../../modules/es6.object.get-own-property-names":136}],47:[function(e,t,r){e("../../modules/es6.object.get-prototype-of"),t.exports=e("../../modules/_core").Object.getPrototypeOf},{"../../modules/_core":62,"../../modules/es6.object.get-prototype-of":137}],48:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":62,"../../modules/es6.object.keys":138}],49:[function(e,t,r){e("../modules/es6.object.to-string"),e("../modules/es6.string.iterator"),e("../modules/web.dom.iterable"),e("../modules/es6.promise"),e("../modules/es7.promise.finally"),e("../modules/es7.promise.try"),t.exports=e("../modules/_core").Promise},{"../modules/_core":62,"../modules/es6.object.to-string":139,"../modules/es6.promise":140,"../modules/es6.string.iterator":142,"../modules/es7.promise.finally":144,"../modules/es7.promise.try":145,"../modules/web.dom.iterable":148}],50:[function(e,t,r){e("../modules/web.immediate"),t.exports=e("../modules/_core").setImmediate},{"../modules/_core":62,"../modules/web.immediate":149}],51:[function(e,t,r){e("../../modules/es6.string.from-code-point"),t.exports=e("../../modules/_core").String.fromCodePoint},{"../../modules/_core":62,"../../modules/es6.string.from-code-point":141}],52:[function(e,t,r){e("../../modules/es6.function.has-instance"),t.exports=e("../../modules/_wks-ext").f("hasInstance")},{"../../modules/_wks-ext":127,"../../modules/es6.function.has-instance":132}],53:[function(e,t,r){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":62,"../../modules/es6.object.to-string":139,"../../modules/es6.symbol":143,"../../modules/es7.symbol.async-iterator":146,"../../modules/es7.symbol.observable":147}],54:[function(e,t,r){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":127,"../../modules/es6.string.iterator":142,"../../modules/web.dom.iterable":148}],55:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],56:[function(e,t,r){t.exports=function(){}},{}],57:[function(e,t,r){t.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},{}],58:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":82}],59:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-absolute-index");t.exports=function(e){return function(t,r,a){var s,c=n(t),u=i(c.length),l=o(a,u);if(e&&r!=r){for(;u>l;)if((s=c[l++])!=s)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},{"./_to-absolute-index":118,"./_to-iobject":120,"./_to-length":121}],60:[function(e,t,r){var n=e("./_cof"),i=e("./_wks")("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(e){var t,r,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},{"./_cof":61,"./_wks":128}],61:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],62:[function(e,t,r){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},{}],63:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,r){t in e?n.f(e,t,i(0,r)):e[t]=r}},{"./_object-dp":95,"./_property-desc":108}],64:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":55}],65:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],66:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":71}],67:[function(e,t,r){var n=e("./_is-object"),i=e("./_global").document,o=n(i)&&n(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_global":73,"./_is-object":82}],68:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],69:[function(e,t,r){var n=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie");t.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),c=o.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},{"./_object-gops":100,"./_object-keys":103,"./_object-pie":104}],70:[function(e,t,r){var n=e("./_global"),i=e("./_core"),o=e("./_ctx"),a=e("./_hide"),s=e("./_has"),c=function e(t,r,c){var u,l,f,p=t&e.F,d=t&e.G,h=t&e.S,m=t&e.P,v=t&e.B,_=t&e.W,g=d?i:i[r]||(i[r]={}),y=g.prototype,b=d?n:h?n[r]:(n[r]||{}).prototype;for(u in d&&(c=r),c)(l=!p&&b&&void 0!==b[u])&&s(g,u)||(f=l?b[u]:c[u],g[u]=d&&"function"!=typeof b[u]?c[u]:v&&l?o(f,n):_&&b[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((g.virtual||(g.virtual={}))[u]=f,t&e.R&&y&&!y[u]&&a(y,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},{"./_core":62,"./_ctx":64,"./_global":73,"./_has":74,"./_hide":75}],71:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],72:[function(e,t,r){var n=e("./_ctx"),i=e("./_iter-call"),o=e("./_is-array-iter"),a=e("./_an-object"),s=e("./_to-length"),c=e("./core.get-iterator-method"),u={},l={};(r=t.exports=function(e,t,r,f,p){var d,h,m,v,_=p?function(){return e}:c(e),g=n(r,f,t?2:1),y=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(o(_)){for(d=s(e.length);d>y;y++)if((v=t?g(a(h=e[y])[0],h[1]):g(e[y]))===u||v===l)return v}else for(m=_.call(e);!(h=m.next()).done;)if((v=i(m,g,h.value,t))===u||v===l)return v}).BREAK=u,r.RETURN=l},{"./_an-object":58,"./_ctx":64,"./_is-array-iter":80,"./_iter-call":83,"./_to-length":121,"./core.get-iterator-method":129}],73:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],74:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],75:[function(e,t,r){var n=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":66,"./_object-dp":95,"./_property-desc":108}],76:[function(e,t,r){var n=e("./_global").document;t.exports=n&&n.documentElement},{"./_global":73}],77:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":66,"./_dom-create":67,"./_fails":71}],78:[function(e,t,r){t.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},{}],79:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":61}],80:[function(e,t,r){var n=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},{"./_iterators":88,"./_wks":128}],81:[function(e,t,r){var n=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":61}],82:[function(e,t,r){t.exports=function(e){return"object"===(void 0===e?"undefined":s(e))?null!==e:"function"==typeof e}},{}],83:[function(e,t,r){var n=e("./_an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},{"./_an-object":58}],84:[function(e,t,r){var n=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},{"./_hide":75,"./_object-create":94,"./_property-desc":108,"./_set-to-string-tag":112,"./_wks":128}],85:[function(e,t,r){var n=e("./_library"),i=e("./_export"),o=e("./_redefine"),a=e("./_hide"),s=e("./_iterators"),c=e("./_iter-create"),u=e("./_set-to-string-tag"),l=e("./_object-gpo"),f=e("./_wks")("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(e,t,r,h,m,v,_){c(r,t,h);var g,y,b,w=function(e){if(!p&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",x="values"==m,E=!1,k=e.prototype,T=k[f]||k["@@iterator"]||m&&k[m],R=T||w(m),C=m?x?w("entries"):R:void 0,A="Array"==t&&k.entries||T;if(A&&(b=l(A.call(new e)))!==Object.prototype&&b.next&&(u(b,S,!0),n||"function"==typeof b[f]||a(b,f,d)),x&&T&&"values"!==T.name&&(E=!0,R=function(){return T.call(this)}),n&&!_||!p&&!E&&k[f]||a(k,f,R),s[t]=R,s[S]=d,m)if(g={values:x?R:w("values"),keys:v?R:w("keys"),entries:C},_)for(y in g)y in k||o(k,y,g[y]);else i(i.P+i.F*(p||E),t,g);return g}},{"./_export":70,"./_hide":75,"./_iter-create":84,"./_iterators":88,"./_library":89,"./_object-gpo":101,"./_redefine":110,"./_set-to-string-tag":112,"./_wks":128}],86:[function(e,t,r){var n=e("./_wks")("iterator"),i=!1;try{var o=[7][n]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:r=!0}},o[n]=function(){return a},e(o)}catch(e){}return r}},{"./_wks":128}],87:[function(e,t,r){t.exports=function(e,t){return{value:t,done:!!e}}},{}],88:[function(e,t,r){t.exports={}},{}],89:[function(e,t,r){t.exports=!0},{}],90:[function(e,t,r){var n=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),a=e("./_object-dp").f,c=0,u=Object.isExtensible||function(){return!0},l=!e("./_fails")(function(){return u(Object.preventExtensions({}))}),f=function(e){a(e,n,{value:{i:"O"+ ++c,w:{}}})},p=t.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==(void 0===e?"undefined":s(e))?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!u(e))return"F";if(!t)return"E";f(e)}return e[n].i},getWeak:function(e,t){if(!o(e,n)){if(!u(e))return!0;if(!t)return!1;f(e)}return e[n].w},onFreeze:function(e){return l&&p.NEED&&u(e)&&!o(e,n)&&f(e),e}}},{"./_fails":71,"./_has":74,"./_is-object":82,"./_object-dp":95,"./_uid":124}],91:[function(e,t,r){var n=e("./_global"),i=e("./_task").set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==e("./_cof")(a);t.exports=function(){var e,t,r,u=function(){var n,i;for(c&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(u)}}else r=function(){i.call(n,u)};else{var f=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),r=function(){p.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},{"./_cof":61,"./_global":73,"./_task":117}],92:[function(e,t,r){var n=e("./_a-function");t.exports.f=function(e){return new function(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}(e)}},{"./_a-function":55}],93:[function(e,t,r){var n=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie"),a=e("./_to-object"),s=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var r=a(e),c=arguments.length,u=1,l=i.f,f=o.f;c>u;)for(var p,d=s(arguments[u++]),h=l?n(d).concat(l(d)):n(d),m=h.length,v=0;m>v;)f.call(d,p=h[v++])&&(r[p]=d[p]);return r}:c},{"./_fails":71,"./_iobject":79,"./_object-gops":100,"./_object-keys":103,"./_object-pie":104,"./_to-object":122}],94:[function(e,t,r){var n=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),a=e("./_shared-key")("IE_PROTO"),s=function(){},c=function(){var t,r=e("./_dom-create")("iframe"),n=o.length;for(r.style.display="none",e("./_html").appendChild(r),r.src="javascript:",(t=r.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;n--;)delete c.prototype[o[n]];return c()};t.exports=Object.create||function(e,t){var r;return null!==e?(s.prototype=n(e),r=new s,s.prototype=null,r[a]=e):r=c(),void 0===t?r:i(r,t)}},{"./_an-object":58,"./_dom-create":67,"./_enum-bug-keys":68,"./_html":76,"./_object-dps":96,"./_shared-key":113}],95:[function(e,t,r){var n=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":58,"./_descriptors":66,"./_ie8-dom-define":77,"./_to-primitive":123}],96:[function(e,t,r){var n=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){i(e);for(var r,a=o(t),s=a.length,c=0;s>c;)n.f(e,r=a[c++],t[r]);return e}},{"./_an-object":58,"./_descriptors":66,"./_object-dp":95,"./_object-keys":103}],97:[function(e,t,r){var n=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),c=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;r.f=e("./_descriptors")?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},{"./_descriptors":66,"./_has":74,"./_ie8-dom-define":77,"./_object-pie":104,"./_property-desc":108,"./_to-iobject":120,"./_to-primitive":123}],98:[function(e,t,r){var n=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,a="object"==("undefined"==typeof window?"undefined":s(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(n(e))}},{"./_object-gopn":99,"./_to-iobject":120}],99:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"./_enum-bug-keys":68,"./_object-keys-internal":102}],100:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],101:[function(e,t,r){var n=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":74,"./_shared-key":113,"./_to-object":122}],102:[function(e,t,r){var n=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),a=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);for(;t.length>c;)n(s,r=t[c++])&&(~o(u,r)||u.push(r));return u}},{"./_array-includes":59,"./_has":74,"./_shared-key":113,"./_to-iobject":120}],103:[function(e,t,r){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":68,"./_object-keys-internal":102}],104:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],105:[function(e,t,r){var n=e("./_export"),i=e("./_core"),o=e("./_fails");t.exports=function(e,t){var r=(i.Object||{})[e]||Object[e],a={};a[e]=t(r),n(n.S+n.F*o(function(){r(1)}),"Object",a)}},{"./_core":62,"./_export":70,"./_fails":71}],106:[function(e,t,r){t.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},{}],107:[function(e,t,r){var n=e("./_an-object"),i=e("./_is-object"),o=e("./_new-promise-capability");t.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},{"./_an-object":58,"./_is-object":82,"./_new-promise-capability":92}],108:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],109:[function(e,t,r){var n=e("./_hide");t.exports=function(e,t,r){for(var i in t)r&&e[i]?e[i]=t[i]:n(e,i,t[i]);return e}},{"./_hide":75}],110:[function(e,t,r){t.exports=e("./_hide")},{"./_hide":75}],111:[function(e,t,r){var n=e("./_global"),i=e("./_core"),o=e("./_object-dp"),a=e("./_descriptors"),s=e("./_wks")("species");t.exports=function(e){var t="function"==typeof i[e]?i[e]:n[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},{"./_core":62,"./_descriptors":66,"./_global":73,"./_object-dp":95,"./_wks":128}],112:[function(e,t,r){var n=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},{"./_has":74,"./_object-dp":95,"./_wks":128}],113:[function(e,t,r){var n=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":114,"./_uid":124}],114:[function(e,t,r){var n=e("./_core"),i=e("./_global"),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:e("./_library")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},{"./_core":62,"./_global":73,"./_library":89}],115:[function(e,t,r){var n=e("./_an-object"),i=e("./_a-function"),o=e("./_wks")("species");t.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},{"./_a-function":55,"./_an-object":58,"./_wks":128}],116:[function(e,t,r){var n=e("./_to-integer"),i=e("./_defined");t.exports=function(e){return function(t,r){var o,a,s=String(i(t)),c=n(r),u=s.length;return c<0||c>=u?e?"":void 0:(o=s.charCodeAt(c))<55296||o>56319||c+1===u||(a=s.charCodeAt(c+1))<56320||a>57343?e?s.charAt(c):o:e?s.slice(c,c+2):a-56320+(o-55296<<10)+65536}}},{"./_defined":65,"./_to-integer":119}],117:[function(e,t,r){var n,i,o,a=e("./_ctx"),s=e("./_invoke"),c=e("./_html"),u=e("./_dom-create"),l=e("./_global"),f=l.process,p=l.setImmediate,d=l.clearImmediate,h=l.MessageChannel,m=l.Dispatch,v=0,_={},g=function(){var e=+this;if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},y=function(e){g.call(e.data)};p&&d||(p=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return _[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},d=function(e){delete _[e]},"process"==e("./_cof")(f)?n=function(e){f.nextTick(a(g,e,1))}:m&&m.now?n=function(e){m.now(a(g,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=y,n=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(n=function(e){l.postMessage(e+"","*")},l.addEventListener("message",y,!1)):n="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),g.call(e)}}:function(e){setTimeout(a(g,e,1),0)}),t.exports={set:p,clear:d}},{"./_cof":61,"./_ctx":64,"./_dom-create":67,"./_global":73,"./_html":76,"./_invoke":78}],118:[function(e,t,r){var n=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":119}],119:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],120:[function(e,t,r){var n=e("./_iobject"),i=e("./_defined");t.exports=function(e){return n(i(e))}},{"./_defined":65,"./_iobject":79}],121:[function(e,t,r){var n=e("./_to-integer"),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./_to-integer":119}],122:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":65}],123:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":82}],124:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],125:[function(e,t,r){var n=e("./_global").navigator;t.exports=n&&n.userAgent||""},{"./_global":73}],126:[function(e,t,r){var n=e("./_global"),i=e("./_core"),o=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_core":62,"./_global":73,"./_library":89,"./_object-dp":95,"./_wks-ext":127}],127:[function(e,t,r){r.f=e("./_wks")},{"./_wks":128}],128:[function(e,t,r){var n=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=n},{"./_global":73,"./_shared":114,"./_uid":124}],129:[function(e,t,r){var n=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},{"./_classof":60,"./_core":62,"./_iterators":88,"./_wks":128}],130:[function(e,t,r){var n=e("./_ctx"),i=e("./_export"),o=e("./_to-object"),a=e("./_iter-call"),s=e("./_is-array-iter"),c=e("./_to-length"),u=e("./_create-property"),l=e("./core.get-iterator-method");i(i.S+i.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,p=o(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,_=0,g=l(p);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(r=new d(t=c(p.length));t>_;_++)u(r,_,v?m(p[_],_):p[_]);else for(f=g.call(p),r=new d;!(i=f.next()).done;_++)u(r,_,v?a(f,m,[i.value,_],!0):i.value);return r.length=_,r}})},{"./_create-property":63,"./_ctx":64,"./_export":70,"./_is-array-iter":80,"./_iter-call":83,"./_iter-detect":86,"./_to-length":121,"./_to-object":122,"./core.get-iterator-method":129}],131:[function(e,t,r){var n=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":56,"./_iter-define":85,"./_iter-step":87,"./_iterators":88,"./_to-iobject":120}],132:[function(e,t,r){var n=e("./_is-object"),i=e("./_object-gpo"),o=e("./_wks")("hasInstance"),a=Function.prototype;o in a||e("./_object-dp").f(a,o,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},{"./_is-object":82,"./_object-dp":95,"./_object-gpo":101,"./_wks":128}],133:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":70,"./_object-assign":93}],134:[function(e,t,r){var n=e("./_export");n(n.S,"Object",{create:e("./_object-create")})},{"./_export":70,"./_object-create":94}],135:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":66,"./_export":70,"./_object-dp":95}],136:[function(e,t,r){e("./_object-sap")("getOwnPropertyNames",function(){return e("./_object-gopn-ext").f})},{"./_object-gopn-ext":98,"./_object-sap":105}],137:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-gpo");e("./_object-sap")("getPrototypeOf",function(){return function(e){return i(n(e))}})},{"./_object-gpo":101,"./_object-sap":105,"./_to-object":122}],138:[function(e,t,r){var n=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(n(e))}})},{"./_object-keys":103,"./_object-sap":105,"./_to-object":122}],139:[function(e,t,r){arguments[4][35][0].apply(r,arguments)},{dup:35}],140:[function(e,t,r){var n,i,o,a,s=e("./_library"),c=e("./_global"),u=e("./_ctx"),l=e("./_classof"),f=e("./_export"),p=e("./_is-object"),d=e("./_a-function"),h=e("./_an-instance"),m=e("./_for-of"),v=e("./_species-constructor"),_=e("./_task").set,g=e("./_microtask")(),y=e("./_new-promise-capability"),b=e("./_perform"),w=e("./_user-agent"),S=e("./_promise-resolve"),x=c.TypeError,E=c.process,k=E&&E.versions,T=k&&k.v8||"",R=c.Promise,C="process"==l(E),A=function(){},P=i=y.f,O=!!function(){try{var t=R.resolve(1),r=(t.constructor={})[e("./_wks")("species")]=function(e){e(A,A)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof r&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),M=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},I=function(e,t){if(!e._n){e._n=!0;var r=e._c;g(function(){for(var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{s?(i||(2==e._h&&D(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),a=!0)),r===t.promise?u(x("Promise-chain cycle")):(o=M(r))?o.call(r,c,u):c(r)):u(n)}catch(e){l&&!a&&l.exit(),u(e)}};r.length>o;)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){_.call(c,function(){var t,r,n,i=e._v,o=j(e);if(o&&(t=b(function(){C?E.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=C||j(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){_.call(c,function(){var t;C?E.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),I(t,!0))},L=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw x("Promise can't be resolved itself");(r=M(t))?g(function(){var i={_w:n,_d:!1};try{r.call(t,u(e,i,1),u(B,i,1))}catch(e){B.call(i,e)}}):(n._v=t,n._s=1,I(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};O||(R=function(e){h(this,R,"Promise","_h"),d(e),n.call(this);try{e(u(L,this,1),u(B,this,1))}catch(e){B.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=e("./_redefine-all")(R.prototype,{then:function(e,t){var r=P(v(this,R));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&I(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=u(L,e,1),this.reject=u(B,e,1)},y.f=P=function(e){return e===R||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!O,{Promise:R}),e("./_set-to-string-tag")(R,"Promise"),e("./_set-species")("Promise"),a=e("./_core").Promise,f(f.S+f.F*!O,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(e){return S(s&&this===a?R:this,e)}}),f(f.S+f.F*!(O&&e("./_iter-detect")(function(e){R.all(e).catch(A)})),"Promise",{all:function(e){var t=this,r=P(t),n=r.resolve,i=r.reject,o=b(function(){var r=[],o=0,a=1;m(e,!1,function(e){var s=o++,c=!1;r.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=P(t),n=r.reject,i=b(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},{"./_a-function":55,"./_an-instance":57,"./_classof":60,"./_core":62,"./_ctx":64,"./_export":70,"./_for-of":72,"./_global":73,"./_is-object":82,"./_iter-detect":86,"./_library":89,"./_microtask":91,"./_new-promise-capability":92,"./_perform":106,"./_promise-resolve":107,"./_redefine-all":109,"./_set-species":111,"./_set-to-string-tag":112,"./_species-constructor":115,"./_task":117,"./_user-agent":125,"./_wks":128}],141:[function(e,t,r){var n=e("./_export"),i=e("./_to-absolute-index"),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},{"./_export":70,"./_to-absolute-index":118}],142:[function(e,t,r){var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":85,"./_string-at":116}],143:[function(e,t,r){var n=e("./_global"),i=e("./_has"),o=e("./_descriptors"),a=e("./_export"),c=e("./_redefine"),u=e("./_meta").KEY,l=e("./_fails"),f=e("./_shared"),p=e("./_set-to-string-tag"),d=e("./_uid"),h=e("./_wks"),m=e("./_wks-ext"),v=e("./_wks-define"),_=e("./_enum-keys"),g=e("./_is-array"),y=e("./_an-object"),b=e("./_is-object"),w=e("./_to-iobject"),S=e("./_to-primitive"),x=e("./_property-desc"),E=e("./_object-create"),k=e("./_object-gopn-ext"),T=e("./_object-gopd"),R=e("./_object-dp"),C=e("./_object-keys"),A=T.f,P=R.f,O=k.f,M=n.Symbol,I=n.JSON,N=I&&I.stringify,j=h("_hidden"),D=h("toPrimitive"),B={}.propertyIsEnumerable,L=f("symbol-registry"),F=f("symbols"),U=f("op-symbols"),H=Object.prototype,q="function"==typeof M,V=n.QObject,z=!V||!V.prototype||!V.prototype.findChild,G=o&&l(function(){return 7!=E(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=A(H,t);n&&delete H[t],P(e,t,r),n&&e!==H&&P(H,t,n)}:P,X=function(e){var t=F[e]=E(M.prototype);return t._k=e,t},K=q&&"symbol"==s(M.iterator)?function(e){return"symbol"==(void 0===e?"undefined":s(e))}:function(e){return e instanceof M},W=function(e,t,r){return e===H&&W(U,t,r),y(e),t=S(t,!0),y(r),i(F,t)?(r.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),r=E(r,{enumerable:x(0,!1)})):(i(e,j)||P(e,j,x(1,{})),e[j][t]=!0),G(e,t,r)):P(e,t,r)},Y=function(e,t){y(e);for(var r,n=_(t=w(t)),i=0,o=n.length;o>i;)W(e,r=n[i++],t[r]);return e},$=function(e){var t=B.call(this,e=S(e,!0));return!(this===H&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,j)&&this[j][e])||t)},J=function(e,t){if(e=w(e),t=S(t,!0),e!==H||!i(F,t)||i(U,t)){var r=A(e,t);return!r||!i(F,t)||i(e,j)&&e[j][t]||(r.enumerable=!0),r}},Q=function(e){for(var t,r=O(w(e)),n=[],o=0;r.length>o;)i(F,t=r[o++])||t==j||t==u||n.push(t);return n},Z=function(e){for(var t,r=e===H,n=O(r?U:w(e)),o=[],a=0;n.length>a;)!i(F,t=n[a++])||r&&!i(H,t)||o.push(F[t]);return o};q||(c((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0);return o&&z&&G(H,e,{configurable:!0,set:function t(r){this===H&&t.call(U,r),i(this,j)&&i(this[j],e)&&(this[j][e]=!1),G(this,e,x(1,r))}}),X(e)}).prototype,"toString",function(){return this._k}),T.f=J,R.f=W,e("./_object-gopn").f=k.f=Q,e("./_object-pie").f=$,e("./_object-gops").f=Z,o&&!e("./_library")&&c(H,"propertyIsEnumerable",$,!0),m.f=function(e){return X(h(e))}),a(a.G+a.W+a.F*!q,{Symbol:M});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var re=C(h.store),ne=0;re.length>ne;)v(re[ne++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=M(e)},keyFor:function(e){if(!K(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?E(e):Y(E(e),t)},defineProperty:W,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),I&&a(a.S+a.F*(!q||l(function(){var e=M();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!K(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!K(t))return t}),n[1]=t,N.apply(I,n)}}),M.prototype[D]||e("./_hide")(M.prototype,D,M.prototype.valueOf),p(M,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},{"./_an-object":58,"./_descriptors":66,"./_enum-keys":69,"./_export":70,"./_fails":71,"./_global":73,"./_has":74,"./_hide":75,"./_is-array":81,"./_is-object":82,"./_library":89,"./_meta":90,"./_object-create":94,"./_object-dp":95,"./_object-gopd":97,"./_object-gopn":99,"./_object-gopn-ext":98,"./_object-gops":100,"./_object-keys":103,"./_object-pie":104,"./_property-desc":108,"./_redefine":110,"./_set-to-string-tag":112,"./_shared":114,"./_to-iobject":120,"./_to-primitive":123,"./_uid":124,"./_wks":128,"./_wks-define":126,"./_wks-ext":127}],144:[function(e,t,r){var n=e("./_export"),i=e("./_core"),o=e("./_global"),a=e("./_species-constructor"),s=e("./_promise-resolve");n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},{"./_core":62,"./_export":70,"./_global":73,"./_promise-resolve":107,"./_species-constructor":115}],145:[function(e,t,r){var n=e("./_export"),i=e("./_new-promise-capability"),o=e("./_perform");n(n.S,"Promise",{try:function(e){var t=i.f(this),r=o(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},{"./_export":70,"./_new-promise-capability":92,"./_perform":106}],146:[function(e,t,r){e("./_wks-define")("asyncIterator")},{"./_wks-define":126}],147:[function(e,t,r){e("./_wks-define")("observable")},{"./_wks-define":126}],148:[function(e,t,r){e("./es6.array.iterator");for(var n=e("./_global"),i=e("./_hide"),o=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var u=s[c],l=n[u],f=l&&l.prototype;f&&!f[a]&&i(f,a,u),o[u]=o.Array}},{"./_global":73,"./_hide":75,"./_iterators":88,"./_wks":128,"./es6.array.iterator":131}],149:[function(e,t,r){var n=e("./_export"),i=e("./_task");n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":70,"./_task":117}],150:[function(e,t,r){(function(t){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/helpers/typeof"));function i(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":(0,n.default)(e))},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===i(e)},r.isObject=function(e){return"object"===(void 0===e?"undefined":(0,n.default)(e))&&null!==e},r.isDate=function(e){return"[object Date]"===i(e)},r.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":(0,n.default)(e))||void 0===e},r.isBuffer=t.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":161,"babel-runtime/helpers/typeof":31}],151:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/helpers/typeof"));!function(e){var i=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g;return function(a,s,c,u){if(1!==arguments.length||"string"!==function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("object"!==(void 0===e?"undefined":(0,n.default)(e)))return void 0===e?"undefined":(0,n.default)(e);if(Array.isArray(e))return"array";return{}.toString.call(e).slice(8,-1).toLowerCase()}(a)||/\d/.test(a)||(s=a,a=void 0),(a=a||new Date)instanceof Date||(a=new Date(a)),isNaN(a))throw TypeError("Invalid date");var l=(s=String(i.masks[s]||s||i.masks.default)).slice(0,4);"UTC:"!==l&&"GMT:"!==l||(s=s.slice(4),c=!0,"GMT:"===l&&(u=!0));var f=c?"getUTC":"get",p=a[f+"Date"](),d=a[f+"Day"](),h=a[f+"Month"](),m=a[f+"FullYear"](),v=a[f+"Hours"](),_=a[f+"Minutes"](),g=a[f+"Seconds"](),y=a[f+"Milliseconds"](),b=c?0:a.getTimezoneOffset(),w=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=t.getTimezoneOffset()-r.getTimezoneOffset();t.setHours(t.getHours()-n);var i=(t-r)/6048e5;return 1+Math.floor(i)}(a),S=function(e){var t=e.getDay();0===t&&(t=7);return t}(a),x={d:p,dd:o(p),ddd:i.i18n.dayNames[d],dddd:i.i18n.dayNames[d+7],m:h+1,mm:o(h+1),mmm:i.i18n.monthNames[h],mmmm:i.i18n.monthNames[h+12],yy:String(m).slice(2),yyyy:m,h:v%12||12,hh:o(v%12||12),H:v,HH:o(v),M:_,MM:o(_),s:g,ss:o(g),l:o(y,3),L:o(Math.round(y/10)),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:u?"GMT":c?"UTC":(String(a).match(t)||[""]).pop().replace(r,""),o:(b>0?"-":"+")+o(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:w,N:S};return s.replace(e,function(e){return e in x?x[e]:e.slice(1,e.length-1)})}}();function o(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}i.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},i.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"object"===(void 0===r?"undefined":(0,n.default)(r))?t.exports=i:e.dateFormat=i}(void 0)},{"babel-runtime/helpers/typeof":31}],152:[function(e,t,r){var n=1e3,i=60*n,o=60*i,a=24*o,c=365.25*a;function u(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}t.exports=function(e,t){t=t||{};var r=void 0===e?"undefined":s(e);if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*c;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&!1===isNaN(e))return t.long?function(e){return u(e,a,"day")||u(e,o,"hour")||u(e,i,"minute")||u(e,n,"second")||e+" ms"}(e):function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=i)return Math.round(e/i)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],153:[function(e,t,r){(function(n){function i(){var e;try{e=r.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e}(r=t.exports=e("./debug")).log=function(){return"object"===("undefined"==typeof console?"undefined":s(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+r.humanize(this.diff),!t)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),e.splice(o,0,n)},r.save=function(e){try{null==e?r.storage.removeItem("debug"):r.storage.debug=e}catch(e){}},r.load=i,r.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},r.enable(i())}).call(this,e("_process"))},{"./debug":154,_process:171}],154:[function(e,t,r){var n;function i(e){function t(){if(t.enabled){var e=t,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=r.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var c=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(t,n){if("%%"===t)return t;c++;var i=r.formatters[n];if("function"==typeof i){var o=a[c];t=i.call(e,o),a.splice(c,1),c--}return t}),r.formatArgs.call(e,a),(t.log||r.log||console.log.bind(console)).apply(e,a)}}return t.namespace=e,t.enabled=r.enabled(e),t.useColors=r.useColors(),t.color=function(e){var t,n=0;for(t in e)n=(n<<5)-n+e.charCodeAt(t),n|=0;return r.colors[Math.abs(n)%r.colors.length]}(e),"function"==typeof r.init&&r.init(t),t}(r=t.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},r.disable=function(){r.enable("")},r.enable=function(e){r.save(e),r.names=[],r.skips=[];for(var t=("string"==typeof e?e:"").split(/[\s,]+/),n=t.length,i=0;i<n;i++)t[i]&&("-"===(e=t[i].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")))},r.enabled=function(e){var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=e("ms"),r.names=[],r.skips=[],r.formatters={}},{ms:152}],155:[function(e,t,r){var n=/["'&<>]/;t.exports=function(e){var t,r=""+e,i=n.exec(r);if(!i)return r;var o="",a=0,s=0;for(a=i.index;a<r.length;a++){switch(r.charCodeAt(a)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==a&&(o+=r.substring(s,a)),s=a+1,o+=t}return s!==a?o+r.substring(s,a):o}},{}],156:[function(e,t,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(a(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(o(r))for(s=Array.prototype.slice.call(arguments,1),n=(u=r.slice()).length,c=0;c<n;c++)u[c].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var r,n,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],157:[function(e,t,r){var n=e("http"),i=t.exports;for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);i.request=function(e,t){return e||(e={}),e.scheme="https",e.protocol="https:",n.request.call(this,e,t)}},{http:194}],158:[function(e,t,r){var n=e("util"),i=e("ms");t.exports=function(e){if("number"==typeof e)return e;var t=i(e);if(void 0===t){var r=new Error(n.format("humanize-ms(%j) result undefined",e));console.warn(r.stack)}return t}},{ms:167,util:205}],159:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=r?i-1:0,p=r?-1:1,d=e[t+f];for(f+=p,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=u}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?p/c:p*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+d]=255&a,d+=h,a/=256,u-=8);e[r+d-h]|=128*m}},{}],160:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],161:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},{}],162:[function(e,t,r){!function(e){var n=Function.prototype.toString;function i(e){return"function"==typeof e&&(/^class(?:\s|{)/.test(n.call(e))||/^.*classCallCheck\(/.test(function(e){return n.call(e).replace(/^[^{]*{\s*/,"").replace(/\s*}[^}]*$/,"")}(e)))}void 0!==r?(void 0!==t&&t.exports&&(r=t.exports=i),r.isClass=i):e.isClass=i}(this)},{}],163:[function(e,t,r){var n=e("core-util-is"),i=e("isstream"),o=e("is-class-hotfix");Object.keys(n).map(function(e){r[function(e){var t=e.slice(2);return t=t[0].toLowerCase()+t.slice(1)}(e)]=n[e]}),r.stream=i,r.readableStream=i.isReadable,r.writableStream=i.isWritable,r.duplexStream=i.isDuplex,r.class=o,r.finite=Number.isFinite,r.NaN=Number.isNaN,r.generator=function(e){return e&&"function"==typeof e.next&&"function"==typeof e.throw},r.generatorFunction=function(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name},r.asyncFunction=function(e){return e&&e.constructor&&"AsyncFunction"===e.constructor.name},r.promise=function(e){return e&&"function"==typeof e.then};var a=Math.pow(2,31);r.int=function(e){return n.isNumber(e)&&e%1==0},r.int32=function(e){return r.int(e)&&e<a&&e>=-a},r.long=function(e){return r.int(e)&&(e>=a||e<-a)},r.Long=function(e){return r.object(e)&&r.number(e.high)&&r.number(e.low)},r.double=function(e){return n.isNumber(e)&&!isNaN(e)&&e%1!=0},r.date=function(e){return e instanceof Date},r.regExp=function(e){return e instanceof RegExp},r.regexp=r.regExp,r.error=function(e){return e instanceof Error},r.array=Array.isArray},{"core-util-is":150,"is-class-hotfix":162,isstream:165}],164:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],165:[function(e,t,r){var n=e("stream");function i(e){return e instanceof n.Stream}function o(e){return i(e)&&"function"==typeof e._read&&"object"==s(e._readableState)}function a(e){return i(e)&&"function"==typeof e._write&&"object"==s(e._writableState)}t.exports=i,t.exports.isReadable=o,t.exports.isWritable=a,t.exports.isDuplex=function(e){return o(e)&&a(e)}},{stream:193}],166:[function(e,t,r){t.exports=function(e,t,r){if(!e)throw new TypeError("argument dest is required");if(!t)throw new TypeError("argument src is required");void 0===r&&(r=!0);return Object.getOwnPropertyNames(t).forEach(function(i){if(r||!n.call(e,i)){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,o)}}),e};var n=Object.prototype.hasOwnProperty},{}],167:[function(e,t,r){var n=1e3,i=60*n,o=60*i,a=24*o,c=7*a,u=365.25*a;function l(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}t.exports=function(e,t){t=t||{};var r=void 0===e?"undefined":s(e);if("string"===r&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*u;case"weeks":case"week":case"w":return r*c;case"days":case"day":case"d":return r*a;case"hours":case"hour":case"hrs":case"hr":case"h":return r*o;case"minutes":case"minute":case"mins":case"min":case"m":return r*i;case"seconds":case"second":case"secs":case"sec":case"s":return r*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}(e);if("number"===r&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=a)return l(e,t,a,"day");if(t>=o)return l(e,t,o,"hour");if(t>=i)return l(e,t,i,"minute");if(t>=n)return l(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=a)return Math.round(e/a)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],168:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,i="/"===a.charAt(0))}return r=t(n(r.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+r||"."},r.normalize=function(e){var o=r.isAbsolute(e),a="/"===i(e,-1);return(e=t(n(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),o=n(t.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},r.basename=function(e,t){var r=function(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;a>=0;--a){var s=e.charCodeAt(a);if(47!==s)-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=a+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:171}],169:[function(e,t,n){(function(e){(function(){var r={function:!0,object:!0},i=r["undefined"==typeof window?"undefined":s(window)]&&window||this,o=r[void 0===n?"undefined":s(n)]&&n,a=r[void 0===t?"undefined":s(t)]&&t&&!t.nodeType&&t,c=o&&a&&"object"==(void 0===e?"undefined":s(e))&&e;!c||c.global!==c&&c.window!==c&&c.self!==c||(i=c);var u=Math.pow(2,53)-1,l=/\bOpera/,f=Object.prototype,p=f.hasOwnProperty,d=f.toString;function h(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function m(e){return e=b(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:h(e)}function v(e,t){for(var r in e)p.call(e,r)&&t(e[r],r,e)}function _(e){return null==e?h(e):d.call(e).slice(8,-1)}function g(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function y(e,t){var r=null;return function(e,t){var r=-1,n=e?e.length:0;if("number"==typeof n&&n>-1&&n<=u)for(;++r<n;)t(e[r],r,e);else v(e,t)}(e,function(n,i){r=t(r,n,i,e)}),r}function b(e){return String(e).replace(/^ +| +$/g,"")}var w=function e(t){var r=i,n=t&&"object"==(void 0===t?"undefined":s(t))&&"String"!=_(t);n&&(r=t,t=null);var o=r.navigator||{},a=o.userAgent||"";t||(t=a);var c,u,f=n?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(d.toString()),p=n?"Object":"ScriptBridgingProxyObject",h=n?"Object":"Environment",w=n&&r.java?"JavaPackage":_(r.java),S=n?"Object":"RuntimeObject",x=/\bJava/.test(w)&&r.java,E=x&&_(r.environment)==h,k=x?"a":"α",T=x?"b":"β",R=r.document||{},C=r.operamini||r.opera,A=l.test(A=n&&C?C["[[Class]]"]:_(C))?A:C=null,P=t,O=[],M=null,I=t==a,N=I&&C&&"function"==typeof C.version&&C.version(),j=function(e){return y(e,function(e,r){return e||RegExp("\\b"+(r.pattern||g(r))+"\\b","i").exec(t)&&(r.label||r)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),D=function(e){return y(e,function(e,r){return e||RegExp("\\b"+(r.pattern||g(r))+"\\b","i").exec(t)&&(r.label||r)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),B=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),L=function(e){return y(e,function(e,r,n){return e||(r[B]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(B)]||RegExp("\\b"+g(n)+"(?:\\b|\\w*\\d)","i").exec(t))&&n})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),F=function(e){return y(e,function(e,r){var n=r.pattern||g(r);return!e&&(e=RegExp("\\b"+n+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,r){var n={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(n=n[/[\d.]+$/.exec(e)])&&(e="Windows "+n),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),e=m(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,n,r.label||r)),e})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return y(e,function(e,r){var n=r.pattern||g(r);return!e&&(e=RegExp("\\b"+n+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+n+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+n+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(n,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=m(e[0].replace(RegExp(n,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e})}if(j&&(j=[j]),L&&!B&&(B=U([L])),(c=/\bGoogle TV\b/.exec(B))&&(B=c[0]),/\bSimulator\b/i.test(t)&&(B=(B?B+" ":"")+"Simulator"),"Opera Mini"==D&&/\bOPiOS\b/.test(t)&&O.push("running in Turbo/Uncompressed mode"),"IE"==D&&/\blike iPhone OS\b/.test(t)?(L=(c=e(t.replace(/like iPhone OS/,""))).manufacturer,B=c.product):/^iP/.test(B)?(D||(D="Safari"),F="iOS"+((c=/ OS ([\d_]+)/i.exec(t))?" "+c[1].replace(/_/g,"."):"")):"Konqueror"!=D||/buntu/i.test(F)?L&&"Google"!=L&&(/Chrome/.test(D)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(B))||/\bAndroid\b/.test(F)&&/^Chrome/.test(D)&&/\bVersion\//i.test(t)?(D="Android Browser",F=/\bAndroid\b/.test(F)?F:"Android"):"Silk"==D?(/\bMobi/i.test(t)||(F="Android",O.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&O.unshift("accelerated")):"PaleMoon"==D&&(c=/\bFirefox\/([\d.]+)\b/.exec(t))?O.push("identifying as Firefox "+c[1]):"Firefox"==D&&(c=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(F||(F="Firefox OS"),B||(B=c[1])):!D||(c=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(D))?(D&&!B&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(c+"/")+8))&&(D=null),(c=B||L||F)&&(B||L||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(F))&&(D=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(F)?F:c)+" Browser")):"Electron"==D&&(c=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&O.push("Chromium "+c):F="Kubuntu",N||(N=function(e){return y(e,function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",g(D),"(?:Firefox|Minefield|NetFront)"])),(c=("iCab"==j&&parseFloat(N)>3?"WebKit":/\bOpera\b/.test(D)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==F?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(D)&&"NetFront")&&(j=[c]),"IE"==D&&(c=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(D+=" Mobile",F="Windows Phone "+(/\+$/.test(c)?c:c+".x"),O.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(D="IE Mobile",F="Windows Phone 8.x",O.unshift("desktop mode"),N||(N=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=D&&"Trident"==j&&(c=/\brv:([\d.]+)/.exec(t))&&(D&&O.push("identifying as "+D+(N?" "+N:"")),D="IE",N=c[1]),I){if(function(e,t){var r=null!=e?s(e[t]):"number";return!(/^(?:boolean|number|string|undefined)$/.test(r)||"object"==r&&!e[t])}(r,"global"))if(x&&(P=(c=x.lang.System).getProperty("os.arch"),F=F||c.getProperty("os.name")+" "+c.getProperty("os.version")),E){try{N=r.require("ringo/engine").version.join("."),D="RingoJS"}catch(e){(c=r.system)&&c.global.system==r.system&&(D="Narwhal",F||(F=c[0].os||null))}D||(D="Rhino")}else"object"==s(r.process)&&!r.process.browser&&(c=r.process)&&("object"==s(c.versions)&&("string"==typeof c.versions.electron?(O.push("Node "+c.versions.node),D="Electron",N=c.versions.electron):"string"==typeof c.versions.nw&&(O.push("Chromium "+N,"Node "+c.versions.node),D="NW.js",N=c.versions.nw)),D||(D="Node.js",P=c.arch,F=c.platform,N=(N=/[\d.]+/.exec(c.version))?N[0]:null));else _(c=r.runtime)==p?(D="Adobe AIR",F=c.flash.system.Capabilities.os):_(c=r.phantom)==S?(D="PhantomJS",N=(c=c.version||null)&&c.major+"."+c.minor+"."+c.patch):"number"==typeof R.documentMode&&(c=/\bTrident\/(\d+)/i.exec(t))?(N=[N,R.documentMode],(c=+c[1]+4)!=N[1]&&(O.push("IE "+N[1]+" mode"),j&&(j[1]=""),N[1]=c),N="IE"==D?String(N[1].toFixed(1)):N[0]):"number"==typeof R.documentMode&&/^(?:Chrome|Firefox)\b/.test(D)&&(O.push("masking as "+D+" "+N),D="IE",N="11.0",j=["Trident"],F="Windows");F=F&&m(F)}if(N&&(c=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(N)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(I&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(M=/b/i.test(c)?"beta":"alpha",N=N.replace(RegExp(c+"\\+?$"),"")+("beta"==M?T:k)+(/\d+\+?/.exec(c)||"")),"Fennec"==D||"Firefox"==D&&/\b(?:Android|Firefox OS)\b/.test(F))D="Firefox Mobile";else if("Maxthon"==D&&N)N=N.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(B))"Xbox 360"==B&&(F=null),"Xbox 360"==B&&/\bIEMobile\b/.test(t)&&O.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(D)&&(!D||B||/Browser|Mobi/.test(D))||"Windows CE"!=F&&!/Mobi/i.test(t))if("IE"==D&&I)try{null===r.external&&O.unshift("platform preview")}catch(e){O.unshift("embedded")}else(/\bBlackBerry\b/.test(B)||/\bBB10\b/.test(t))&&(c=(RegExp(B.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||N)?(F=((c=[c,/BB10/.test(t)])[1]?(B=null,L="BlackBerry"):"Device Software")+" "+c[0],N=null):this!=v&&"Wii"!=B&&(I&&C||/Opera/.test(D)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==D&&/\bOS X (?:\d+\.){2,}/.test(F)||"IE"==D&&(F&&!/^Win/.test(F)&&N>5.5||/\bWindows XP\b/.test(F)&&N>8||8==N&&!/\bTrident\b/.test(t)))&&!l.test(c=e.call(v,t.replace(l,"")+";"))&&c.name&&(c="ing as "+c.name+((c=c.version)?" "+c:""),l.test(D)?(/\bIE\b/.test(c)&&"Mac OS"==F&&(F=null),c="identify"+c):(c="mask"+c,D=A?m(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(c)&&(F=null),I||(N=null)),j=["Presto"],O.push(c));else D+=" Mobile";(c=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(c=[parseFloat(c.replace(/\.(\d)$/,".0$1")),c],"Safari"==D&&"+"==c[1].slice(-1)?(D="WebKit Nightly",M="alpha",N=c[1].slice(0,-1)):N!=c[1]&&N!=(c[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(N=null),c[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==c[0]&&537.36==c[2]&&parseFloat(c[1])>=28&&"WebKit"==j&&(j=["Blink"]),I&&(f||c[1])?(j&&(j[1]="like Chrome"),c=c[1]||((c=c[0])<530?1:c<532?2:c<532.05?3:c<533?4:c<534.03?5:c<534.07?6:c<534.1?7:c<534.13?8:c<534.16?9:c<534.24?10:c<534.3?11:c<535.01?12:c<535.02?"13+":c<535.07?15:c<535.11?16:c<535.19?17:c<536.05?18:c<536.1?19:c<537.01?20:c<537.11?"21+":c<537.13?23:c<537.18?24:c<537.24?25:c<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),c=(c=c[0])<400?1:c<500?2:c<526?3:c<533?4:c<534?"4+":c<535?5:c<537?6:c<538?7:c<601?8:"8"),j&&(j[1]+=" "+(c+="number"==typeof c?".x":/[.+]/.test(c)?"":"+")),"Safari"==D&&(!N||parseInt(N)>45)&&(N=c)),"Opera"==D&&(c=/\bzbov|zvav$/.exec(F))?(D+=" ",O.unshift("desktop mode"),"zvav"==c?(D+="Mini",N=null):D+="Mobile",F=F.replace(RegExp(" *"+c+"$"),"")):"Safari"==D&&/\bChrome\b/.exec(j&&j[1])&&(O.unshift("desktop mode"),D="Chrome Mobile",N=null,/\bOS X\b/.test(F)?(L="Apple",F="iOS 4.3+"):F=null),N&&0==N.indexOf(c=/[\d.]+$/.exec(F))&&t.indexOf("/"+c+"-")>-1&&(F=b(F.replace(c,""))),j&&!/\b(?:Avant|Nook)\b/.test(D)&&(/Browser|Lunascape|Maxthon/.test(D)||"Safari"!=D&&/^iOS/.test(F)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(D)&&j[1])&&(c=j[j.length-1])&&O.push(c),O.length&&(O=["("+O.join("; ")+")"]),L&&B&&B.indexOf(L)<0&&O.push("on "+L),B&&O.push((/^on /.test(O[O.length-1])?"":"on ")+B),F&&(c=/ ([\d.+]+)$/.exec(F),u=c&&"/"==F.charAt(F.length-c[0].length-1),F={architecture:32,family:c&&!u?F.replace(c[0],""):F,version:c?c[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(c=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(P))&&!/\bi686\b/i.test(P)?(F&&(F.architecture=64,F.family=F.family.replace(RegExp(" *"+c),"")),D&&(/\bWOW64\b/i.test(t)||I&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&O.unshift("32-bit")):F&&/^OS X/.test(F.family)&&"Chrome"==D&&parseFloat(N)>=39&&(F.architecture=64),t||(t=null);var H={};return H.description=t,H.layout=j&&j[0],H.manufacturer=L,H.name=D,H.prerelease=M,H.product=B,H.ua=t,H.version=D&&N,H.os=F||{architecture:null,family:null,version:null,toString:function(){return"null"}},H.parse=e,H.toString=function(){return this.description||""},H.version&&O.unshift(N),H.name&&O.unshift(D),F&&D&&(F!=String(F).split(" ")[0]||F!=D.split(" ")[0]&&!B)&&O.push(B?"("+F+")":"on "+F),O.length&&(H.description=O.join(" ")),H}();o&&a?v(w,function(e,t){o[t]=e}):i.platform=w}).call(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],170:[function(e,t,r){(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,r,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,r)});case 3:return e.nextTick(function(){t.call(null,r,n)});case 4:return e.nextTick(function(){t.call(null,r,n,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}}:t.exports=e}).call(this,e("_process"))},{_process:171}],171:[function(e,t,r){var n,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var u,l=[],f=!1,p=-1;function d(){f&&u&&(f=!1,u.length?l=u.concat(l):p=-1,l.length&&h())}function h(){if(!f){var e=c(d);f=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new m(e,t)),1!==l.length||f||c(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],172:[function(e,t,n){(function(e){!function(r){var i="object"==(void 0===n?"undefined":s(n))&&n&&!n.nodeType&&n,o="object"==(void 0===t?"undefined":s(t))&&t&&!t.nodeType&&t,a="object"==(void 0===e?"undefined":s(e))&&e;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var c,u,l=2147483647,f=36,p=1,d=26,h=38,m=700,v=72,_=128,g="-",y=/^xn--/,b=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=f-p,E=Math.floor,k=String.fromCharCode;function T(e){throw new RangeError(S[e])}function R(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+R((e=e.replace(w,".")).split("."),t).join(".")}function A(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function P(e){return R(e,function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)}).join("")}function O(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:f}function M(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,r){var n=0;for(e=r?E(e/m):e>>1,e+=E(e/t);e>x*d>>1;n+=f)e=E(e/x);return E(n+(x+1)*e/(e+h))}function N(e){var t,r,n,i,o,a,s,c,u,h,m=[],y=e.length,b=0,w=_,S=v;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&T("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<y;){for(o=b,a=1,s=f;i>=y&&T("invalid-input"),((c=O(e.charCodeAt(i++)))>=f||c>E((l-b)/a))&&T("overflow"),b+=c*a,!(c<(u=s<=S?p:s>=S+d?d:s-S));s+=f)a>E(l/(h=f-u))&&T("overflow"),a*=h;S=I(b-o,t=m.length+1,0==o),E(b/t)>l-w&&T("overflow"),w+=E(b/t),b%=t,m.splice(b++,0,w)}return P(m)}function j(e){var t,r,n,i,o,a,s,c,u,h,m,y,b,w,S,x=[];for(y=(e=A(e)).length,t=_,r=0,o=v,a=0;a<y;++a)(m=e[a])<128&&x.push(k(m));for(n=i=x.length,i&&x.push(g);n<y;){for(s=l,a=0;a<y;++a)(m=e[a])>=t&&m<s&&(s=m);for(s-t>E((l-r)/(b=n+1))&&T("overflow"),r+=(s-t)*b,t=s,a=0;a<y;++a)if((m=e[a])<t&&++r>l&&T("overflow"),m==t){for(c=r,u=f;!(c<(h=u<=o?p:u>=o+d?d:u-o));u+=f)S=c-h,w=f-h,x.push(k(M(h+S%w,0))),c=E(S/w);x.push(k(M(c,0))),o=I(r,b,n==i),r=0,++n}++r,++t}return x.join("")}if(c={version:"1.4.1",ucs2:{decode:A,encode:P},decode:N,encode:j,toASCII:function(e){return C(e,function(e){return b.test(e)?"xn--"+j(e):e})},toUnicode:function(e){return C(e,function(e){return y.test(e)?N(e.slice(4).toLowerCase()):e})}},i&&o)if(t.exports==i)o.exports=c;else for(u in c)c.hasOwnProperty(u)&&(i[u]=c[u]);else r.punycode=c}(this)}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],173:[function(e,t,r){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,p,d,h,m=e[l].replace(s,"%20"),v=m.indexOf(r);v>=0?(f=m.substr(0,v),p=m.substr(v+1)):(f=m,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),n(a,d)?i(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],174:[function(e,t,r){var n=function(e){switch(void 0===e?"undefined":s(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,c){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":s(e))?o(a(e),function(a){var s=encodeURIComponent(n(a))+r;return i(e[a])?o(e[a],function(e){return s+encodeURIComponent(n(e))}).join(t):s+encodeURIComponent(n(e[a]))}).join(t):c?encodeURIComponent(n(c))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],175:[function(e,t,r){r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":173,"./encode":174}],176:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":177}],177:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/keys"));var i=e("process-nextick-args"),o=n.default||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=p;var a=e("core-util-is");a.inherits=e("inherits");var s=e("./_stream_readable"),c=e("./_stream_writable");a.inherits(p,s);for(var u=o(c.prototype),l=0;l<u.length;l++){var f=u[l];p.prototype[f]||(p.prototype[f]=c.prototype[f])}function p(e){if(!(this instanceof p))return new p(e);s.call(this,e),c.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),p.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},{"./_stream_readable":179,"./_stream_writable":181,"babel-runtime/core-js/object/keys":22,"core-util-is":150,inherits:160,"process-nextick-args":170}],178:[function(e,t,r){t.exports=o;var n=e("./_stream_transform"),i=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":180,"core-util-is":150,inherits:160}],179:[function(e,t,n){(function(r,n){var i=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/get-prototype-of"));var o=e("process-nextick-args");t.exports=b;var a,s=e("isarray");b.ReadableState=y;e("events").EventEmitter;var c=function(e,t){return e.listeners(t).length},u=e("./internal/streams/stream"),l=e("safe-buffer").Buffer,f=n.Uint8Array||function(){};var p=e("core-util-is");p.inherits=e("inherits");var d=e("util"),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var m,v=e("./internal/streams/BufferList"),_=e("./internal/streams/destroy");p.inherits(b,u);var g=["error","close","destroy","pause","resume"];function y(t,r){a=a||e("./_stream_duplex"),t=t||{};var n=r instanceof a;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(m||(m=e("string_decoder/").StringDecoder),this.decoder=new m(t.encoding),this.encoding=t.encoding)}function b(t){if(a=a||e("./_stream_duplex"),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),u.call(this)}function w(e,t,r,n,o){var a,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}(e,s)):(o||(a=function(e,t){var r;(function(e){return l.isBuffer(e)||e instanceof f})(t)||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||(0,i.default)(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):S(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):R(e,s)):S(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),R(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=_.destroy,b.prototype._undestroy=_.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return m||(m=e("string_decoder/").StringDecoder),this._readableState.decoder=new m(t),this._readableState.encoding=t,this};var x=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(T,e):T(e))}function T(e){h("emit readable"),e.emit("readable"),O(e)}function R(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(C,e,t))}function C(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function A(e){h("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),O(e),t.flowing&&!t.reading&&e.read(0)}function O(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,a),0===(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function j(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):k(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,i=t.needReadable;return h("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",i=!0),t.ended||t.reading?h("reading or ended",i=!1):i&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?l:y;function u(t,r){h("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),e.removeListener("close",_),e.removeListener("finish",g),e.removeListener("drain",f),e.removeListener("error",v),e.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",y),n.removeListener("data",m),p=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function l(){h("onend"),e.end()}i.endEmitted?o.nextTick(a):n.once("end",a),e.on("unpipe",u);var f=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,O(e))}}(n);e.on("drain",f);var p=!1;var d=!1;function m(t){h("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==j(i.pipes,e))&&!p&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function v(t){h("onerror",t),y(),e.removeListener("error",v),0===c(e,"error")&&e.emit("error",t)}function _(){e.removeListener("finish",g),y()}function g(){h("onfinish"),e.removeListener("close",_),y()}function y(){h("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",_),e.once("finish",g),e.emit("pipe",n),i.flowing||(h("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=j(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):o.nextTick(A,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(P,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(h("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=M}).call(this,e("_process"),void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":177,"./internal/streams/BufferList":182,"./internal/streams/destroy":183,"./internal/streams/stream":184,_process:171,"babel-runtime/core-js/object/get-prototype-of":21,"core-util-is":150,events:156,inherits:160,isarray:164,"process-nextick-args":170,"safe-buffer":191,"string_decoder/":198,util:35}],180:[function(e,t,r){t.exports=o;var n=e("./_stream_duplex"),i=e("core-util-is");function o(e){if(!(this instanceof o))return new o(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush(function(t,r){s(e,t,r)}):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=e("inherits"),i.inherits(o,n),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":177,"core-util-is":150,inherits:160}],181:[function(e,t,n){(function(r,n){var i=c(e("babel-runtime/core-js/object/define-property")),o=c(e("babel-runtime/core-js/symbol/has-instance")),a=c(e("babel-runtime/core-js/symbol")),s=c(e("babel-runtime/core-js/set-immediate"));function c(e){return e&&e.__esModule?e:{default:e}}var u=e("process-nextick-args");function l(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=S;var f,p=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?s.default:u.nextTick;S.WritableState=w;var d=e("core-util-is");d.inherits=e("inherits");var h={deprecate:e("util-deprecate")},m=e("./internal/streams/stream"),v=e("safe-buffer").Buffer,_=n.Uint8Array||function(){};var g,y=e("./internal/streams/destroy");function b(){}function w(t,r){f=f||e("./_stream_duplex"),t=t||{};var n=r instanceof f;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,o=t.writableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(u.nextTick(i,n),u.nextTick(C,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),C(e,t))}(e,r,n,t,i);else{var o=T(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||k(e,r),n?p(E,e,r,o,i):E(e,r,o,i)}}(r,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function S(t){if(f=f||e("./_stream_duplex"),!(g.call(S,this)||this instanceof f))return new S(t);this._writableState=new w(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),m.call(this)}function x(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),C(e,t)}function k(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,x(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new l(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,u=r.encoding,f=r.callback;if(x(e,t,!1,t.objectMode?1:c.length,c,u,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function T(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),C(e,t)})}function C(e,t){var r=T(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,u.nextTick(R,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}d.inherits(S,m),w.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(w.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof a.default&&o.default&&"function"==typeof Function.prototype[o.default]?(g=Function.prototype[o.default],(0,i.default)(S,o.default,{value:function(e){return!!g.call(this,e)||this===S&&(e&&e._writableState instanceof w)}})):g=function(e){return e instanceof this},S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},S.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&function(e){return v.isBuffer(e)||e instanceof _}(e);return o&&!v.isBuffer(e)&&(e=function(e){return v.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=b),n.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),u.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),u.nextTick(n,o),i=!1),i}(this,n,e,r))&&(n.pendingcb++,i=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=v.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=t.objectMode?1:n.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,s,n,i,o);return c}(this,n,o,e,t,r)),i},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||k(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,C(e,t),r&&(t.finished?u.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(S.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=y.destroy,S.prototype._undestroy=y.undestroy,S.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":177,"./internal/streams/destroy":183,"./internal/streams/stream":184,_process:171,"babel-runtime/core-js/object/define-property":19,"babel-runtime/core-js/set-immediate":24,"babel-runtime/core-js/symbol":26,"babel-runtime/core-js/symbol/has-instance":27,"core-util-is":150,inherits:160,"process-nextick-args":170,"safe-buffer":191,"util-deprecate":203}],182:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("util");function o(e,t,r){e.copy(t,r)}t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t=n.allocUnsafe(e>>>0),r=this.head,i=0;r;)o(r.data,t,i),i+=r.data.length,r=r.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":191,util:35}],183:[function(e,t,r){var n=e("process-nextick-args");function i(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":170}],184:[function(e,t,r){t.exports=e("events").EventEmitter},{events:156}],185:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":186}],186:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":177,"./lib/_stream_passthrough.js":178,"./lib/_stream_readable.js":179,"./lib/_stream_transform.js":180,"./lib/_stream_writable.js":181}],187:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":186}],188:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":181}],189:[function(e,t,r){var n=function(){return this}()||Function("return this")(),i=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,o=i&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,t.exports=e("./runtime"),i)n.regeneratorRuntime=o;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},{"./runtime":190}],190:[function(e,t,r){!function(e){var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",l="object"===(void 0===t?"undefined":s(t)),f=e.regeneratorRuntime;if(f)l&&(t.exports=f);else{(f=e.regeneratorRuntime=l?t.exports:{}).wrap=w;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",v={},_={};_[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==n&&i.call(y,a)&&(_=y);var b=k.prototype=x.prototype=Object.create(_);E.prototype=b.constructor=k,k.constructor=E,k[u]=E.displayName="GeneratorFunction",f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},f.awrap=function(e){return{__await:e}},T(R.prototype),R.prototype[c]=function(){return this},f.AsyncIterator=R,f.async=function(e,t,r,n){var i=new R(w(e,t,r,n));return f.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},T(b),b[u]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},f.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},f.values=M,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:M(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}}}function w(e,t,r,n){var i=t&&t.prototype instanceof x?t:x,o=Object.create(i.prototype),a=new O(n||[]);return o._invoke=function(e,t,r){var n=p;return function(i,o){if(n===h)throw new Error("Generator is already running");if(n===m){if("throw"===i)throw o;return I()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=C(a,r);if(s){if(s===v)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=S(e,t,r);if("normal"===c.type){if(n=r.done?m:d,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=m,r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function S(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function x(){}function E(){}function k(){}function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function R(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,a){var c=S(e[r],e,n);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===(void 0===l?"undefined":s(l))&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(l).then(function(e){u.value=e,o(u)},a)}a(c.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function C(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,C(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=S(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function M(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},{}],191:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=a),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:37}],192:[function(e,t,r){(function(t){var n=u(e("babel-runtime/core-js/string/from-code-point")),i=u(e("babel-runtime/core-js/json/stringify")),o=u(e("babel-runtime/helpers/typeof")),a=u(e("babel-runtime/core-js/object/define-property")),s=u(e("babel-runtime/core-js/object/keys")),c=u(e("babel-runtime/core-js/object/create"));function u(e){return e&&e.__esModule?e:{default:e}}!function(r){r.parser=function(e,t){return new f(e,t)},r.SAXParser=f,r.SAXStream=d,r.createStream=function(e,t){return new d(e,t)},r.MAX_BUFFER_LENGTH=65536;var u,l=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function f(e,t){if(!(this instanceof f))return new f(e,t);!function(e){for(var t=0,r=l.length;t<r;t++)e[l[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=r.MAX_BUFFER_LENGTH,this.opt=t||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=C.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?(0,c.default)(r.XML_ENTITIES):(0,c.default)(r.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=(0,c.default)(g)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),P(this,"onready")}r.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],c.default||(Object.create=function(e){function t(){}return t.prototype=e,new t}),s.default||(Object.keys=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}),f.prototype={end:function(){j(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return N(this,"Cannot write after close. Assign an onready handler.");if(null===e)return j(this);"object"===(void 0===e?"undefined":(0,o.default)(e))&&(e=e.toString());var t=0,n="";for(;n=z(e,t++),this.c=n,n;)switch(this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++),this.state){case C.BEGIN:if(this.state=C.BEGIN_WHITESPACE,"\ufeff"===n)continue;V(this,n);continue;case C.BEGIN_WHITESPACE:V(this,n);continue;case C.TEXT:if(this.sawRoot&&!this.closedRoot){for(var i=t-1;n&&"<"!==n&&"&"!==n;)(n=z(e,t++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(i,t-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(x(n)||this.sawRoot&&!this.closedRoot||D(this,"Text data outside of root node."),"&"===n?this.state=C.TEXT_ENTITY:this.textNode+=n):(this.state=C.OPEN_WAKA,this.startTagPosition=this.position);continue;case C.SCRIPT:"<"===n?this.state=C.SCRIPT_ENDING:this.script+=n;continue;case C.SCRIPT_ENDING:"/"===n?this.state=C.CLOSE_TAG:(this.script+="<"+n,this.state=C.SCRIPT);continue;case C.OPEN_WAKA:if("!"===n)this.state=C.SGML_DECL,this.sgmlDecl="";else if(x(n));else if(T(y,n))this.state=C.OPEN_TAG,this.tagName=n;else if("/"===n)this.state=C.CLOSE_TAG,this.tagName="";else if("?"===n)this.state=C.PROC_INST,this.procInstName=this.procInstBody="";else{if(D(this,"Unencoded <"),this.startTagPosition+1<this.position){var a=this.position-this.startTagPosition;n=new Array(a).join(" ")+n}this.textNode+="<"+n,this.state=C.TEXT}continue;case C.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===h?(O(this,"onopencdata"),this.state=C.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+n==="--"?(this.state=C.COMMENT,this.comment="",this.sgmlDecl=""):(this.sgmlDecl+n).toUpperCase()===m?(this.state=C.DOCTYPE,(this.doctype||this.sawRoot)&&D(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===n?(O(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=C.TEXT):E(n)?(this.state=C.SGML_DECL_QUOTED,this.sgmlDecl+=n):this.sgmlDecl+=n;continue;case C.SGML_DECL_QUOTED:n===this.q&&(this.state=C.SGML_DECL,this.q=""),this.sgmlDecl+=n;continue;case C.DOCTYPE:">"===n?(this.state=C.TEXT,O(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=C.DOCTYPE_DTD:E(n)&&(this.state=C.DOCTYPE_QUOTED,this.q=n));continue;case C.DOCTYPE_QUOTED:this.doctype+=n,n===this.q&&(this.q="",this.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:this.doctype+=n,"]"===n?this.state=C.DOCTYPE:E(n)&&(this.state=C.DOCTYPE_DTD_QUOTED,this.q=n);continue;case C.DOCTYPE_DTD_QUOTED:this.doctype+=n,n===this.q&&(this.state=C.DOCTYPE_DTD,this.q="");continue;case C.COMMENT:"-"===n?this.state=C.COMMENT_ENDING:this.comment+=n;continue;case C.COMMENT_ENDING:"-"===n?(this.state=C.COMMENT_ENDED,this.comment=I(this.opt,this.comment),this.comment&&O(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=C.COMMENT);continue;case C.COMMENT_ENDED:">"!==n?(D(this,"Malformed comment"),this.comment+="--"+n,this.state=C.COMMENT):this.state=C.TEXT;continue;case C.CDATA:"]"===n?this.state=C.CDATA_ENDING:this.cdata+=n;continue;case C.CDATA_ENDING:"]"===n?this.state=C.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=C.CDATA);continue;case C.CDATA_ENDING_2:">"===n?(this.cdata&&O(this,"oncdata",this.cdata),O(this,"onclosecdata"),this.cdata="",this.state=C.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=C.CDATA);continue;case C.PROC_INST:"?"===n?this.state=C.PROC_INST_ENDING:x(n)?this.state=C.PROC_INST_BODY:this.procInstName+=n;continue;case C.PROC_INST_BODY:if(!this.procInstBody&&x(n))continue;"?"===n?this.state=C.PROC_INST_ENDING:this.procInstBody+=n;continue;case C.PROC_INST_ENDING:">"===n?(O(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=C.TEXT):(this.procInstBody+="?"+n,this.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:T(b,n)?this.tagName+=n:(B(this),">"===n?U(this):"/"===n?this.state=C.OPEN_TAG_SLASH:(x(n)||D(this,"Invalid character in tag name"),this.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:">"===n?(U(this,!0),H(this)):(D(this,"Forward-slash in opening tag not followed by >"),this.state=C.ATTRIB);continue;case C.ATTRIB:if(x(n))continue;">"===n?U(this):"/"===n?this.state=C.OPEN_TAG_SLASH:T(y,n)?(this.attribName=n,this.attribValue="",this.state=C.ATTRIB_NAME):D(this,"Invalid attribute name");continue;case C.ATTRIB_NAME:"="===n?this.state=C.ATTRIB_VALUE:">"===n?(D(this,"Attribute without value"),this.attribValue=this.attribName,F(this),U(this)):x(n)?this.state=C.ATTRIB_NAME_SAW_WHITE:T(b,n)?this.attribName+=n:D(this,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=C.ATTRIB_VALUE;else{if(x(n))continue;D(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",O(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?U(this):T(y,n)?(this.attribName=n,this.state=C.ATTRIB_NAME):(D(this,"Invalid attribute name"),this.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(x(n))continue;E(n)?(this.q=n,this.state=C.ATTRIB_VALUE_QUOTED):(D(this,"Unquoted attribute value"),this.state=C.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case C.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=C.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}F(this),this.q="",this.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:x(n)?this.state=C.ATTRIB:">"===n?U(this):"/"===n?this.state=C.OPEN_TAG_SLASH:T(y,n)?(D(this,"No whitespace between attributes"),this.attribName=n,this.attribValue="",this.state=C.ATTRIB_NAME):D(this,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!k(n)){"&"===n?this.state=C.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}F(this),">"===n?U(this):this.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(this.tagName)">"===n?H(this):T(b,n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=C.SCRIPT):(x(n)||D(this,"Invalid tagname in closing tag"),this.state=C.CLOSE_TAG_SAW_WHITE);else{if(x(n))continue;R(y,n)?this.script?(this.script+="</"+n,this.state=C.SCRIPT):D(this,"Invalid tagname in closing tag."):this.tagName=n}continue;case C.CLOSE_TAG_SAW_WHITE:if(x(n))continue;">"===n?H(this):D(this,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var s,c;switch(this.state){case C.TEXT_ENTITY:s=C.TEXT,c="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:s=C.ATTRIB_VALUE_QUOTED,c="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:s=C.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===n?(this[c]+=q(this),this.entity="",this.state=s):T(this.entity.length?S:w,n)?this.entity+=n:(D(this,"Invalid character in entity name"),this[c]+="&"+this.entity+n,this.entity="",this.state=s);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var t=Math.max(r.MAX_BUFFER_LENGTH,10),n=0,i=0,o=l.length;i<o;i++){var a=e[l[i]].length;if(a>t)switch(l[i]){case"textNode":M(e);break;case"cdata":O(e,"oncdata",e.cdata),e.cdata="";break;case"script":O(e,"onscript",e.script),e.script="";break;default:N(e,"Max buffer length exceeded: "+l[i])}n=Math.max(n,a)}var s=r.MAX_BUFFER_LENGTH-n;e.bufferCheckPosition=s+e.position}(this);return this}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){!function(e){M(e),""!==e.cdata&&(O(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(O(e,"onscript",e.script),e.script="")}(this)}};try{u=e("stream").Stream}catch(e){u=function(){}}var p=r.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function d(e,t){if(!(this instanceof d))return new d(e,t);u.apply(this),this._parser=new f(e,t),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,p.forEach(function(e){(0,a.default)(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})})}d.prototype=(0,c.default)(u.prototype,{constructor:{value:d}}),d.prototype.write=function(r){if("function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(r)){if(!this._decoder){var n=e("string_decoder").StringDecoder;this._decoder=new n("utf8")}r=this._decoder.write(r)}return this._parser.write(r.toString()),this.emit("data",r),!0},d.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},d.prototype.on=function(e,t){var r=this;return r._parser["on"+e]||-1===p.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),u.prototype.on.call(r,e,t)};var h="[CDATA[",m="DOCTYPE",v="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",g={xml:v,xmlns:_},y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function E(e){return'"'===e||"'"===e}function k(e){return">"===e||x(e)}function T(e,t){return e.test(t)}function R(e,t){return!T(e,t)}var C=0;for(var A in r.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},r.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},r.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},(0,s.default)(r.ENTITIES).forEach(function(e){var t=r.ENTITIES[e],n="number"==typeof t?String.fromCharCode(t):t;r.ENTITIES[e]=n}),r.STATE)r.STATE[r.STATE[A]]=A;function P(e,t,r){e[t]&&e[t](r)}function O(e,t,r){e.textNode&&M(e),P(e,t,r)}function M(e){e.textNode=I(e.opt,e.textNode),e.textNode&&P(e,"ontext",e.textNode),e.textNode=""}function I(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function N(e,t){return M(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,P(e,"onerror",t),e}function j(e){return e.sawRoot&&!e.closedRoot&&D(e,"Unclosed root tag"),e.state!==C.BEGIN&&e.state!==C.BEGIN_WHITESPACE&&e.state!==C.TEXT&&N(e,"Unexpected end"),M(e),e.c="",e.closed=!0,P(e,"onend"),f.call(e,e.strict,e.opt),e}function D(e,t){if("object"!==(void 0===e?"undefined":(0,o.default)(e))||!(e instanceof f))throw new Error("bad call to strictFail");e.strict&&N(e,t)}function B(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,r=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(r.ns=t.ns),e.attribList.length=0,O(e,"onopentagstart",r)}function L(e,t){var r=e.indexOf(":")<0?["",e]:e.split(":"),n=r[0],i=r[1];return t&&"xmlns"===e&&(n="xmlns",i=""),{prefix:n,local:i}}function F(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=L(e.attribName,!0),r=t.prefix,n=t.local;if("xmlns"===r)if("xml"===n&&e.attribValue!==v)D(e,"xml: prefix must be bound to "+v+"\nActual: "+e.attribValue);else if("xmlns"===n&&e.attribValue!==_)D(e,"xmlns: prefix must be bound to "+_+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=(0,c.default)(o.ns)),i.ns[n]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,O(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function U(e,t){if(e.opt.xmlns){var r=e.tag,n=L(e.tagName);r.prefix=n.prefix,r.local=n.local,r.uri=r.ns[n.prefix]||"",r.prefix&&!r.uri&&(D(e,"Unbound namespace prefix: "+(0,i.default)(e.tagName)),r.uri=n.prefix);var o=e.tags[e.tags.length-1]||e;r.ns&&o.ns!==r.ns&&(0,s.default)(r.ns).forEach(function(t){O(e,"onopennamespace",{prefix:t,uri:r.ns[t]})});for(var a=0,c=e.attribList.length;a<c;a++){var u=e.attribList[a],l=u[0],f=u[1],p=L(l,!0),d=p.prefix,h=p.local,m=""===d?"":r.ns[d]||"",v={name:l,value:f,prefix:d,local:h,uri:m};d&&"xmlns"!==d&&!m&&(D(e,"Unbound namespace prefix: "+(0,i.default)(d)),v.uri=d),e.tag.attributes[l]=v,O(e,"onattribute",v)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),O(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=C.TEXT:e.state=C.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function H(e){if(!e.tagName)return D(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=C.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=C.SCRIPT);O(e,"onscript",e.script),e.script=""}var t=e.tags.length,r=e.tagName;e.strict||(r=r[e.looseCase]());for(var n=r;t--;){if(e.tags[t].name===n)break;D(e,"Unexpected close tag")}if(t<0)return D(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=C.TEXT);e.tagName=r;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,O(e,"onclosetag",e.tagName);var a={};for(var c in o.ns)a[c]=o.ns[c];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&(0,s.default)(o.ns).forEach(function(t){var r=o.ns[t];O(e,"onclosenamespace",{prefix:t,uri:r})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=C.TEXT}function q(e){var t,r=e.entity,i=r.toLowerCase(),o="";return e.ENTITIES[r]?e.ENTITIES[r]:e.ENTITIES[i]?e.ENTITIES[i]:("#"===(r=i).charAt(0)&&("x"===r.charAt(1)?(r=r.slice(2),o=(t=parseInt(r,16)).toString(16)):(r=r.slice(1),o=(t=parseInt(r,10)).toString(10))),r=r.replace(/^0+/,""),isNaN(t)||o.toLowerCase()!==r?(D(e,"Invalid character entity"),"&"+e.entity+";"):(0,n.default)(t))}function V(e,t){"<"===t?(e.state=C.OPEN_WAKA,e.startTagPosition=e.position):x(t)||(D(e,"Non-whitespace before first tag."),e.textNode=t,e.state=C.TEXT)}function z(e,t){var r="";return t<e.length&&(r=e.charAt(t)),r}C=r.STATE,n.default||function(){var e=String.fromCharCode,t=Math.floor,r=function(){var r,n,i=[],o=-1,a=arguments.length;if(!a)return"";for(var s="";++o<a;){var c=Number(arguments[o]);if(!isFinite(c)||c<0||c>1114111||t(c)!==c)throw RangeError("Invalid code point: "+c);c<=65535?i.push(c):(r=55296+((c-=65536)>>10),n=c%1024+56320,i.push(r,n)),(o+1===a||i.length>16384)&&(s+=e.apply(null,i),i.length=0)}return s};a.default?Object.defineProperty(String,"fromCodePoint",{value:r,configurable:!0,writable:!0}):String.fromCodePoint=r}()}(void 0===r?(void 0).sax={}:r)}).call(this,e("buffer").Buffer)},{"babel-runtime/core-js/json/stringify":16,"babel-runtime/core-js/object/create":18,"babel-runtime/core-js/object/define-property":19,"babel-runtime/core-js/object/keys":22,"babel-runtime/core-js/string/from-code-point":25,"babel-runtime/helpers/typeof":31,buffer:37,stream:193,string_decoder:36}],193:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/readable.js"),i.Writable=e("readable-stream/writable.js"),i.Duplex=e("readable-stream/duplex.js"),i.Transform=e("readable-stream/transform.js"),i.PassThrough=e("readable-stream/passthrough.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",c));var a=!1;function s(){a||(a=!0,e.end())}function c(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){if(l(),0===n.listenerCount(this,"error"))throw e}function l(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",l),r.removeListener("close",l),e.removeListener("close",l)}return r.on("error",u),e.on("error",u),r.on("end",l),r.on("close",l),e.on("close",l),e.emit("pipe",r),e}},{events:156,inherits:160,"readable-stream/duplex.js":176,"readable-stream/passthrough.js":185,"readable-stream/readable.js":186,"readable-stream/transform.js":187,"readable-stream/writable.js":188}],194:[function(e,t,n){(function(t){var r=e("./lib/request"),i=e("./lib/response"),o=e("xtend"),a=e("builtin-status-codes"),s=e("url"),c=n;c.request=function(e,n){e="string"==typeof e?s.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",a=e.protocol||i,c=e.hostname||e.host,u=e.port,l=e.path||"/";c&&-1!==c.indexOf(":")&&(c="["+c+"]"),e.url=(c?a+"//"+c:"")+(u?":"+u:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new r(e);return n&&f.on("response",n),f},c.get=function(e,t){var r=c.request(e,t);return r.end(),r},c.ClientRequest=r,c.IncomingMessage=i.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=a,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":196,"./lib/response":197,"builtin-status-codes":38,url:201,xtend:234}],195:[function(e,t,n){(function(e){n.fetch=s(e.fetch)&&s(e.ReadableStream),n.writableStream=s(e.WritableStream),n.abortController=s(e.AbortController),n.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),n.blobConstructor=!0}catch(e){}var t;function r(){if(void 0!==t)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function i(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,a=o&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}n.arraybuffer=n.fetch||o&&i("arraybuffer"),n.msstream=!n.fetch&&a&&i("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&o&&i("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||!!r()&&s(r().overrideMimeType),n.vbArray=s(e.VBArray),t=null}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],196:[function(e,t,n){(function(r,n,i){var o=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/keys"));var a=e("./capability"),s=e("inherits"),c=e("./response"),u=e("readable-stream"),l=e("to-arraybuffer"),f=c.IncomingMessage,p=c.readyStates;var d=t.exports=function(e){var t,r=this;u.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new i(e.auth).toString("base64")),(0,o.default)(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":a.vbArray&&e?"text:vbarray":"text"}(t,n),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};s(d,u.Writable),d.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===h.indexOf(r)&&(this._headers[r]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,s=e._headers,c=null;"GET"!==t.method&&"HEAD"!==t.method&&(c=a.arraybuffer?l(i.concat(e._body)):a.blobConstructor?new n.Blob(e._body.map(function(e){return l(e)}),{type:(s["content-type"]||{}).value||""}):i.concat(e._body).toString());var u=[];if((0,o.default)(s).forEach(function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach(function(e){u.push([t,e])}):u.push([t,r])}),"fetch"===e._mode){var f=null;if(a.abortController){var d=new AbortController;f=d.signal,e._fetchAbortController=d,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:c||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:f}).then(function(t){e._fetchResponse=t,e._connect()},function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var h=e._xhr=new n.XMLHttpRequest;try{h.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick(function(){e.emit("error",t)})}"responseType"in h&&(h.responseType=e._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(h.timeout=t.requestTimeout,h.ontimeout=function(){e.emit("requestTimeout")}),u.forEach(function(e){h.setRequestHeader(e[0],e[1])}),e._response=null,h.onreadystatechange=function(){switch(h.readyState){case p.LOADING:case p.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(h.onprogress=function(){e._onXHRProgress()}),h.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{h.send(c)}catch(t){return void r.nextTick(function(){e.emit("error",t)})}}}},d.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new f(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},d.prototype._write=function(e,t,r){this._body.push(e),r()},d.prototype.abort=d.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},d.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,e("_process"),void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":195,"./response":197,_process:171,"babel-runtime/core-js/object/keys":22,buffer:37,inherits:160,"readable-stream":186,"to-arraybuffer":200}],197:[function(e,t,n){(function(t,r,i){var o=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/promise"));var a=e("./capability"),s=e("inherits"),c=e("readable-stream"),u=n.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=n.IncomingMessage=function(e,n,s,u){var l=this;if(c.Readable.call(l),l._mode=s,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){t.nextTick(function(){l.emit("close")})}),"fetch"===s){if(l._fetchResponse=n,l.url=n.url,l.statusCode=n.status,l.statusMessage=n.statusText,n.headers.forEach(function(e,t){l.headers[t.toLowerCase()]=e,l.rawHeaders.push(t,e)}),a.writableStream){var f=new WritableStream({write:function(e){return new o.default(function(t,r){l._destroyed?r():l.push(new i(e))?t():l._resumeFetch=t})},close:function(){r.clearTimeout(u),l._destroyed||l.push(null)},abort:function(e){l._destroyed||l.emit("error",e)}});try{return void n.body.pipeTo(f).catch(function(e){r.clearTimeout(u),l._destroyed||l.emit("error",e)})}catch(e){}}var p=n.body.getReader();!function e(){p.read().then(function(t){if(!l._destroyed){if(t.done)return r.clearTimeout(u),void l.push(null);l.push(new i(t.value)),e()}}).catch(function(e){r.clearTimeout(u),l._destroyed||l.emit("error",e)})}()}else{if(l._xhr=e,l._pos=0,l.url=e.responseURL,l.statusCode=e.status,l.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===l.headers[r]&&(l.headers[r]=[]),l.headers[r].push(t[2])):void 0!==l.headers[r]?l.headers[r]+=", "+t[2]:l.headers[r]=t[2],l.rawHeaders.push(t[1],t[2])}}),l._charset="x-user-defined",!a.overrideMimeType){var d=l.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(l._charset=h[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};s(l,c.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{n=new r.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new i(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new i(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;n=t.response,e.push(new i(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==u.LOADING||!n)break;e.push(new i(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==u.LOADING)break;var c=new r.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new i(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(n)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,e("_process"),void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":195,_process:171,"babel-runtime/core-js/promise":23,buffer:37,inherits:160,"readable-stream":186}],198:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":191}],199:[function(e,t,r){(function(t,n){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;function u(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new u(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new u(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=c++,n=!(arguments.length<2)&&a.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof n?n:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":171,timers:199}],200:[function(e,t,r){var n=e("buffer").Buffer;t.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},{buffer:37}],201:[function(e,t,r){var n=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=b,r.resolve=function(e,t){return b(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},r.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},r.Url=o;var a=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(l),p=["%","/","?",";","#"].concat(f),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=e("querystring");function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":s(e)));var o=e.indexOf("?"),c=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(c);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(c);if(b=b.trim(),!r&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=a.exec(b);if(S){var x=(S=S[0]).toLowerCase();this.protocol=x,b=b.substr(S.length)}if(r||S||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||S&&_[S]||(b=b.substr(2),this.slashes=!0)}if(!_[S]&&(E||S&&!g[S])){for(var k,T,R=-1,C=0;C<d.length;C++){-1!==(A=b.indexOf(d[C]))&&(-1===R||A<R)&&(R=A)}-1!==(T=-1===R?b.lastIndexOf("@"):b.lastIndexOf("@",R))&&(k=b.slice(0,T),b=b.slice(T+1),this.auth=decodeURIComponent(k)),R=-1;for(C=0;C<p.length;C++){var A;-1!==(A=b.indexOf(p[C]))&&(-1===R||A<R)&&(R=A)}-1===R&&(R=b.length),this.host=b.slice(0,R),b=b.slice(R),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var O=this.hostname.split(/\./),M=(C=0,O.length);C<M;C++){var I=O[C];if(I&&!I.match(h)){for(var N="",j=0,D=I.length;j<D;j++)I.charCodeAt(j)>127?N+="x":N+=I[j];if(!N.match(h)){var B=O.slice(0,C),L=O.slice(C+1),F=I.match(m);F&&(B.push(F[1]),L.unshift(F[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[x])for(C=0,M=f.length;C<M;C++){var q=f[C];if(-1!==b.indexOf(q)){var V=encodeURIComponent(q);V===q&&(V=escape(q)),b=b.split(q).join(V)}}var z=b.indexOf("#");-1!==z&&(this.hash=b.substr(z),b=b.slice(0,z));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var X=this.search||"";this.path=U+X}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(r[l]=e[l])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var d=f[p];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||_[e.protocol])r.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),r.pathname=h.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=b||y||r.host&&e.pathname,S=w,x=r.pathname&&r.pathname.split("/")||[],E=(h=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===x[0]?x[0]=r.host:x.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===x[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,x=h;else if(h.length)x||(x=[]),x.pop(),x=x.concat(h),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(E)r.hostname=r.host=x.shift(),(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var k=x.slice(-1)[0],T=(r.host||e.host||x.length>1)&&("."===k||".."===k)||""===k,R=0,C=x.length;C>=0;C--)"."===(k=x[C])?x.splice(C,1):".."===k?(x.splice(C,1),R++):R&&(x.splice(C,1),R--);if(!w&&!S)for(;R--;R)x.unshift("..");!w||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),T&&"/"!==x.join("/").substr(-1)&&x.push("");var A,P=""===x[0]||x[0]&&"/"===x[0].charAt(0);E&&(r.hostname=r.host=P?"":x.length?x.shift():"",(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.host=r.hostname=A.shift()));return(w=w||r.host&&x.length)&&!P&&x.unshift(""),x.length?r.pathname=x.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=c.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":202,punycode:172,querystring:175}],202:[function(e,t,r){t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],203:[function(e,t,n){(function(e){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],204:[function(e,t,r){t.exports=function(e){return e&&"object"===(void 0===e?"undefined":s(e))&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],205:[function(e,t,n){(function(t,r){var i=/%[sdj%]/g;n.format=function(e){if(!g(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,a=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<o;s=n[++r])v(s)||!w(s)?a+=" "+s:a+=" "+c(s);return a},n.deprecate=function(e,i){if(y(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,a={};function c(e,t){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),f(r,e,r.depth)}function u(e,t){var r=c.styles[t];return r?"["+c.colors[r][0]+"m"+e+"["+c.colors[r][1]+"m":e}function l(e,t){return e}function f(e,t,r){if(e.customInspect&&t&&E(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return g(i)||(i=f(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(_(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,t);if(o)return o;var a=Object.keys(t),s=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),x(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(t);if(0===a.length){if(E(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(b(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(S(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return p(t)}var u,l="",w=!1,k=["{","}"];(h(t)&&(w=!0,k=["[","]"]),E(t))&&(l=" [Function"+(t.name?": "+t.name:"")+"]");return b(t)&&(l=" "+RegExp.prototype.toString.call(t)),S(t)&&(l=" "+Date.prototype.toUTCString.call(t)),x(t)&&(l=" "+p(t)),0!==a.length||w&&0!=t.length?r<0?b(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=w?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)C(t,String(a))?o.push(d(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,r,n,i,!0))}),o}(e,t,r,s,a):a.map(function(n){return d(e,t,r,s,n,w)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(u,l,k)):k[0]+l+k[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,i,o){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),C(n,i)||(a="["+i+"]"),s||(e.seen.indexOf(c.value)<0?(s=v(r)?f(e,c.value,null):f(e,c.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function _(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===k(e)}function w(e){return"object"===(void 0===e?"undefined":s(e))&&null!==e}function S(e){return w(e)&&"[object Date]"===k(e)}function x(e){return w(e)&&("[object Error]"===k(e)||e instanceof Error)}function E(e){return"function"==typeof e}function k(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}n.debuglog=function(e){if(y(o)&&(o=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var r=t.pid;a[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else a[e]=function(){};return a[e]},n.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=h,n.isBoolean=m,n.isNull=v,n.isNullOrUndefined=function(e){return null==e},n.isNumber=_,n.isString=g,n.isSymbol=function(e){return"symbol"===(void 0===e?"undefined":s(e))},n.isUndefined=y,n.isRegExp=b,n.isObject=w,n.isDate=S,n.isError=x,n.isFunction=E,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===(void 0===e?"undefined":s(e))||void 0===e},n.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}n.log=function(){console.log("%s - %s",function(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,e("_process"),void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":204,_process:171,inherits:160}],206:[function(e,t,r){(function(){r.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(void 0)},{}],207:[function(e,t,r){var n=o(e("babel-runtime/helpers/typeof")),i=o(e("babel-runtime/core-js/object/keys"));function o(e){return e&&e.__esModule?e:{default:e}}(function(){var t,o,a,s,c,u={}.hasOwnProperty;t=e("xmlbuilder"),o=e("./defaults").defaults,s=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},c=function(e){return"<![CDATA["+a(e)+"]]>"},a=function(e){return e.replace("]]>","]]]]><![CDATA[>")},r.Builder=function(){function e(e){var t,r,n;for(t in this.options={},r=o[.2])u.call(r,t)&&(n=r[t],this.options[t]=n);for(t in e)u.call(e,t)&&(n=e[t],this.options[t]=n)}return e.prototype.buildObject=function(e){var r,a,l,f,p;return r=this.options.attrkey,a=this.options.charkey,1===(0,i.default)(e).length&&this.options.rootName===o[.2].rootName?e=e[p=(0,i.default)(e)[0]]:p=this.options.rootName,l=function(e){return function(t,i){var o,f,p,d,h,m;if("object"!==(void 0===i?"undefined":(0,n.default)(i)))e.options.cdata&&s(i)?t.raw(c(i)):t.txt(i);else if(Array.isArray(i)){for(d in i)if(u.call(i,d))for(h in f=i[d])p=f[h],t=l(t.ele(h),p).up()}else for(h in i)if(u.call(i,h))if(f=i[h],h===r){if("object"===(void 0===f?"undefined":(0,n.default)(f)))for(o in f)m=f[o],t=t.att(o,m)}else if(h===a)t=e.options.cdata&&s(f)?t.raw(c(f)):t.txt(f);else if(Array.isArray(f))for(d in f)u.call(f,d)&&(t="string"==typeof(p=f[d])?e.options.cdata&&s(p)?t.ele(h).raw(c(p)).up():t.ele(h,p).up():l(t.ele(h),p).up());else"object"===(void 0===f?"undefined":(0,n.default)(f))?t=l(t.ele(h),f).up():"string"==typeof f&&e.options.cdata&&s(f)?t=t.ele(h).raw(c(f)).up():(null==f&&(f=""),t=t.ele(h,f.toString()).up());return t}}(this),f=t.create(p,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),l(f,e).end(this.options.renderOpts)},e}()}).call(void 0)},{"./defaults":208,"babel-runtime/core-js/object/keys":22,"babel-runtime/helpers/typeof":31,xmlbuilder:233}],208:[function(e,t,r){(function(){r.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(void 0)},{}],209:[function(e,t,r){var n=a(e("babel-runtime/core-js/object/get-own-property-names")),i=a(e("babel-runtime/core-js/object/keys")),o=a(e("babel-runtime/helpers/typeof"));function a(e){return e&&e.__esModule?e:{default:e}}(function(){var t,a,s,c,u,l,f,p,d=function(e,t){return function(){return e.apply(t,arguments)}},h={}.hasOwnProperty;f=e("sax"),s=e("events"),t=e("./bom"),l=e("./processors"),p=e("timers").setImmediate,a=e("./defaults").defaults,c=function(e){return"object"===(void 0===e?"undefined":(0,o.default)(e))&&null!=e&&0===(0,i.default)(e).length},u=function(e,t,r){var n,i;for(n=0,i=e.length;n<i;n++)t=(0,e[n])(t,r);return t},r.Parser=function(e){function m(e){var t,n,i;if(this.parseString=d(this.parseString,this),this.reset=d(this.reset,this),this.assignOrPush=d(this.assignOrPush,this),this.processAsync=d(this.processAsync,this),!(this instanceof r.Parser))return new r.Parser(e);for(t in this.options={},n=a[.2])h.call(n,t)&&(i=n[t],this.options[t]=i);for(t in e)h.call(e,t)&&(i=e[t],this.options[t]=i);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}return function(e,t){for(var r in t)h.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(m,s.EventEmitter),m.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),p(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},m.prototype.assignOrPush=function(e,t,r){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(r)):this.options.explicitArray?e[t]=[r]:e[t]=r},m.prototype.reset=function(){var e,t,r,a;return this.removeAllListeners(),this.saxParser=f.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=function(e){return function(t){if(e.saxParser.resume(),!e.saxParser.errThrown)return e.saxParser.errThrown=!0,e.emit("error",t)}}(this),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,a=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(r){return function(n){var i,o,s,c,l;if((s={})[t]="",!r.options.ignoreAttrs)for(i in l=n.attributes)h.call(l,i)&&(e in s||r.options.mergeAttrs||(s[e]={}),o=r.options.attrValueProcessors?u(r.options.attrValueProcessors,n.attributes[i],i):n.attributes[i],c=r.options.attrNameProcessors?u(r.options.attrNameProcessors,i):i,r.options.mergeAttrs?r.assignOrPush(s,c,o):s[e][c]=o);return s["#name"]=r.options.tagNameProcessors?u(r.options.tagNameProcessors,n.name):n.name,r.options.xmlns&&(s[r.options.xmlnskey]={uri:n.uri,local:n.local}),a.push(s)}}(this),this.saxParser.onclosetag=function(e){return function(){var r,s,l,f,p,d,m,v,_,g;if(d=a.pop(),p=d["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete d["#name"],!0===d.cdata&&(r=d.cdata,delete d.cdata),_=a[a.length-1],d[t].match(/^\s*$/)&&!r?(s=d[t],delete d[t]):(e.options.trim&&(d[t]=d[t].trim()),e.options.normalize&&(d[t]=d[t].replace(/\s{2,}/g," ").trim()),d[t]=e.options.valueProcessors?u(e.options.valueProcessors,d[t],p):d[t],1===(0,i.default)(d).length&&t in d&&!e.EXPLICIT_CHARKEY&&(d=d[t])),c(d)&&(d=""!==e.options.emptyTag?e.options.emptyTag:s),null!=e.options.validator&&(g="/"+function(){var e,t,r;for(r=[],e=0,t=a.length;e<t;e++)f=a[e],r.push(f["#name"]);return r}().concat(p).join("/"),function(){var t;try{d=e.options.validator(g,_&&_[p],d)}catch(r){return t=r,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"===(void 0===d?"undefined":(0,o.default)(d)))if(e.options.preserveChildrenOrder){if(_){for(l in _[e.options.childkey]=_[e.options.childkey]||[],m={},d)h.call(d,l)&&(m[l]=d[l]);_[e.options.childkey].push(m),delete d["#name"],1===(0,i.default)(d).length&&t in d&&!e.EXPLICIT_CHARKEY&&(d=d[t])}}else f={},e.options.attrkey in d&&(f[e.options.attrkey]=d[e.options.attrkey],delete d[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in d&&(f[e.options.charkey]=d[e.options.charkey],delete d[e.options.charkey]),(0,n.default)(d).length>0&&(f[e.options.childkey]=d),d=f;return a.length>0?e.assignOrPush(_,p,d):(e.options.explicitRoot&&(v=d,(d={})[p]=v),e.resultObject=d,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),r=function(e){return function(r){var n,i;if(i=a[a.length-1])return i[t]+=r,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==r.replace(/\\n/g,"").trim())&&(i[e.options.childkey]=i[e.options.childkey]||[],(n={"#name":"__text__"})[t]=r,e.options.normalize&&(n[t]=n[t].replace(/\s{2,}/g," ").trim()),i[e.options.childkey].push(n)),i}}(this),this.saxParser.ontext=r,this.saxParser.oncdata=function(e){var t;if(t=r(e))return t.cdata=!0}},m.prototype.parseString=function(e,r){var n;null!=r&&"function"==typeof r&&(this.on("end",function(e){return this.reset(),r(null,e)}),this.on("error",function(e){return this.reset(),r(e)}));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=t.stripBOM(e),this.options.async?(this.remaining=e,p(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(e){if(n=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",n),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw n}},m}(),r.parseString=function(e,t,n){var i,a;return null!=n?("function"==typeof n&&(i=n),"object"===(void 0===t?"undefined":(0,o.default)(t))&&(a=t)):("function"==typeof t&&(i=t),a={}),new r.Parser(a).parseString(e,i)}}).call(void 0)},{"./bom":206,"./defaults":208,"./processors":210,"babel-runtime/core-js/object/get-own-property-names":20,"babel-runtime/core-js/object/keys":22,"babel-runtime/helpers/typeof":31,events:156,sax:192,timers:199}],210:[function(e,t,r){(function(){var e;e=new RegExp(/(?!xmlns)^.*:/),r.normalize=function(e){return e.toLowerCase()},r.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},r.stripPrefix=function(t){return t.replace(e,"")},r.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},r.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(void 0)},{}],211:[function(e,t,r){(function(){var t,n,i,o,a={}.hasOwnProperty;n=e("./defaults"),t=e("./builder"),i=e("./parser"),o=e("./processors"),r.defaults=n.defaults,r.processors=o,r.ValidationError=function(e){function t(e){this.message=e}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,Error),t}(),r.Builder=t.Builder,r.Parser=i.Parser,r.parseString=i.parseString}).call(void 0)},{"./builder":207,"./defaults":208,"./parser":209,"./processors":210}],212:[function(e,t,r){var n=a(e("babel-runtime/core-js/object/get-prototype-of")),i=a(e("babel-runtime/helpers/typeof")),o=a(e("babel-runtime/core-js/object/assign"));function a(e){return e&&e.__esModule?e:{default:e}}(function(){var e,r,a,s,c,u,l=[].slice,f={}.hasOwnProperty;e=function(){var e,t,r,n,i,a;if(a=arguments[0],i=2<=arguments.length?l.call(arguments,1):[],s(o.default))o.default.apply(null,arguments);else for(e=0,r=i.length;e<r;e++)if(null!=(n=i[e]))for(t in n)f.call(n,t)&&(a[t]=n[t]);return a},s=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},c=function(e){var t;return!!e&&("function"===(t=void 0===e?"undefined":(0,i.default)(e))||"object"===t)},r=function(e){return s(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a=function(e){var t;if(r(e))return!e.length;for(t in e)if(f.call(e,t))return!1;return!0},u=function(e){var t,r;return c(e)&&(r=(0,n.default)(e))&&(t=r.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},t.exports.assign=e,t.exports.isFunction=s,t.exports.isObject=c,t.exports.isArray=r,t.exports.isEmpty=a,t.exports.isPlainObject=u}).call(void 0)},{"babel-runtime/core-js/object/assign":17,"babel-runtime/core-js/object/get-prototype-of":21,"babel-runtime/helpers/typeof":31}],213:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){t.exports=function(){function e(e,t,r){if(this.options=e.options,this.stringify=e.stringify,null==t)throw new Error("Missing attribute name of element "+e.name);if(null==r)throw new Error("Missing attribute value for attribute "+t+" of element "+e.name);this.name=this.stringify.attName(t),this.value=this.stringify.attValue(r)}return e.prototype.clone=function(){return(0,n.default)(this)},e.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},e}()}).call(void 0)},{"babel-runtime/core-js/object/create":18}],214:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){var r,i={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text");this.text=this.stringify.cdata(r)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.clone=function(){return(0,n.default)(this)},t.prototype.toString=function(e){return this.options.writer.set(e).cdata(this)},t}()}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],215:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){var r,i={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text");this.text=this.stringify.comment(r)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.clone=function(){return(0,n.default)(this)},t.prototype.toString=function(e){return this.options.writer.set(e).comment(this)},t}()}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],216:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r,n,i,o,a){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name");if(null==n)throw new Error("Missing DTD attribute name");if(!i)throw new Error("Missing DTD attribute type");if(!o)throw new Error("Missing DTD attribute default");if(0!==o.indexOf("#")&&(o="#"+o),!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");if(a&&!o.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT");this.elementName=this.stringify.eleName(r),this.attributeName=this.stringify.attName(n),this.attributeType=this.stringify.dtdAttType(i),this.defaultValue=this.stringify.dtdAttDefault(a),this.defaultValueType=o}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,r),t.prototype.toString=function(e){return this.options.writer.set(e).dtdAttList(this)},t}()}).call(void 0)},{"./XMLNode":225}],217:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r,n){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name");n||(n="(#PCDATA)"),Array.isArray(n)&&(n="("+n.join(",")+")"),this.name=this.stringify.eleName(r),this.value=this.stringify.dtdElementValue(n)}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,r),t.prototype.toString=function(e){return this.options.writer.set(e).dtdElement(this)},t}()}).call(void 0)},{"./XMLNode":225}],218:[function(e,t,r){(function(){var r,n,i={}.hasOwnProperty;n=e("./Utility").isObject,r=e("./XMLNode"),t.exports=function(e){function t(e,r,i,o){if(t.__super__.constructor.call(this,e),null==i)throw new Error("Missing entity name");if(null==o)throw new Error("Missing entity value");if(this.pe=!!r,this.name=this.stringify.eleName(i),n(o)){if(!o.pubID&&!o.sysID)throw new Error("Public and/or system identifiers are required for an external entity");if(o.pubID&&!o.sysID)throw new Error("System identifier is required for a public external entity");if(null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID)),null!=o.nData&&(this.nData=this.stringify.dtdNData(o.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity")}else this.value=this.stringify.dtdEntityValue(o)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.toString=function(e){return this.options.writer.set(e).dtdEntity(this)},t}()}).call(void 0)},{"./Utility":212,"./XMLNode":225}],219:[function(e,t,r){(function(){var r,n={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r,n){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing notation name");if(!n.pubID&&!n.sysID)throw new Error("Public or system identifiers are required for an external entity");this.name=this.stringify.eleName(r),null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID))}return function(e,t){for(var r in t)n.call(t,r)&&(e[r]=t[r]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,r),t.prototype.toString=function(e){return this.options.writer.set(e).dtdNotation(this)},t}()}).call(void 0)},{"./XMLNode":225}],220:[function(e,t,r){(function(){var r,n,i={}.hasOwnProperty;n=e("./Utility").isObject,r=e("./XMLNode"),t.exports=function(e){function t(e,r,i,o){var a;t.__super__.constructor.call(this,e),n(r)&&(r=(a=r).version,i=a.encoding,o=a.standalone),r||(r="1.0"),this.version=this.stringify.xmlVersion(r),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=o&&(this.standalone=this.stringify.xmlStandalone(o))}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.toString=function(e){return this.options.writer.set(e).declaration(this)},t}()}).call(void 0)},{"./Utility":212,"./XMLNode":225}],221:[function(e,t,r){(function(){var r,n,i,o,a,s,c={}.hasOwnProperty;s=e("./Utility").isObject,a=e("./XMLNode"),r=e("./XMLDTDAttList"),i=e("./XMLDTDEntity"),n=e("./XMLDTDElement"),o=e("./XMLDTDNotation"),t.exports=function(e){function t(e,r,n){var i,o;t.__super__.constructor.call(this,e),this.documentObject=e,s(r)&&(r=(i=r).pubID,n=i.sysID),null==n&&(n=(o=[r,n])[0],r=o[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=n&&(this.sysID=this.stringify.dtdSysID(n))}return function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,a),t.prototype.element=function(e,t){var r;return r=new n(this,e,t),this.children.push(r),this},t.prototype.attList=function(e,t,n,i,o){var a;return a=new r(this,e,t,n,i,o),this.children.push(a),this},t.prototype.entity=function(e,t){var r;return r=new i(this,!1,e,t),this.children.push(r),this},t.prototype.pEntity=function(e,t){var r;return r=new i(this,!0,e,t),this.children.push(r),this},t.prototype.notation=function(e,t){var r;return r=new o(this,e,t),this.children.push(r),this},t.prototype.toString=function(e){return this.options.writer.set(e).docType(this)},t.prototype.ele=function(e,t){return this.element(e,t)},t.prototype.att=function(e,t,r,n,i){return this.attList(e,t,r,n,i)},t.prototype.ent=function(e,t){return this.entity(e,t)},t.prototype.pent=function(e,t){return this.pEntity(e,t)},t.prototype.not=function(e,t){return this.notation(e,t)},t.prototype.up=function(){return this.root()||this.documentObject},t}()}).call(void 0)},{"./Utility":212,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLNode":225}],222:[function(e,t,r){(function(){var r,n,i,o,a={}.hasOwnProperty;o=e("./Utility").isPlainObject,r=e("./XMLNode"),i=e("./XMLStringifier"),n=e("./XMLStringWriter"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,null),e||(e={}),e.writer||(e.writer=new n),this.options=e,this.stringify=new i(e),this.isDocument=!0}return function(e,t){for(var r in t)a.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.end=function(e){var t;return e?o(e)&&(t=e,e=this.options.writer.set(t)):e=this.options.writer,e.document(this)},t.prototype.toString=function(e){return this.options.writer.set(e).document(this)},t}()}).call(void 0)},{"./Utility":212,"./XMLNode":225,"./XMLStringWriter":229,"./XMLStringifier":230}],223:[function(e,t,r){(function(){var r,n,i,o,a,s,c,u,l,f,p,d,h,m,v,_,g,y,b,w={}.hasOwnProperty;b=e("./Utility"),g=b.isObject,_=b.isFunction,y=b.isPlainObject,f=e("./XMLElement"),n=e("./XMLCData"),i=e("./XMLComment"),d=e("./XMLRaw"),v=e("./XMLText"),p=e("./XMLProcessingInstruction"),u=e("./XMLDeclaration"),l=e("./XMLDocType"),o=e("./XMLDTDAttList"),s=e("./XMLDTDEntity"),a=e("./XMLDTDElement"),c=e("./XMLDTDNotation"),r=e("./XMLAttribute"),m=e("./XMLStringifier"),h=e("./XMLStringWriter"),t.exports=function(){function e(e,t,r){var n;e||(e={}),e.writer?y(e.writer)&&(n=e.writer,e.writer=new h(n)):e.writer=new h(e),this.options=e,this.writer=e.writer,this.stringify=new m(e),this.onDataCallback=t||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.node=function(e,t,r){var n;if(null==e)throw new Error("Missing node name");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node");return this.openCurrent(),e=e.valueOf(),null==t&&(t={}),t=t.valueOf(),g(t)||(r=(n=[t,r])[0],t=n[1]),this.currentNode=new f(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=r&&this.text(r),this},e.prototype.element=function(e,t,r){return this.currentNode&&this.currentNode instanceof l?this.dtdElement.apply(this,arguments):this.node(e,t,r)},e.prototype.attribute=function(e,t){var n,i;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode");if(null!=e&&(e=e.valueOf()),g(e))for(n in e)w.call(e,n)&&(i=e[n],this.attribute(n,i));else _(t)&&(t=t.apply()),this.options.skipNullAttributes&&null==t||(this.currentNode.attributes[e]=new r(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new v(this,e),this.onData(this.writer.text(t,this.currentLevel+1)),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new n(this,e),this.onData(this.writer.cdata(t,this.currentLevel+1)),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new i(this,e),this.onData(this.writer.comment(t,this.currentLevel+1)),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new d(this,e),this.onData(this.writer.raw(t,this.currentLevel+1)),this},e.prototype.instruction=function(e,t){var r,n,i,o,a;if(this.openCurrent(),null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(r=0,o=e.length;r<o;r++)n=e[r],this.instruction(n);else if(g(e))for(n in e)w.call(e,n)&&(i=e[n],this.instruction(n,i));else _(t)&&(t=t.apply()),a=new p(this,e,t),this.onData(this.writer.processingInstruction(a,this.currentLevel+1));return this},e.prototype.declaration=function(e,t,r){var n;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node");return n=new u(this,e,t,r),this.onData(this.writer.declaration(n,this.currentLevel+1)),this},e.prototype.doctype=function(e,t,r){if(this.openCurrent(),null==e)throw new Error("Missing root node name");if(this.root)throw new Error("dtd() must come before the root node");return this.currentNode=new l(this,t,r),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var r;return this.openCurrent(),r=new a(this,e,t),this.onData(this.writer.dtdElement(r,this.currentLevel+1)),this},e.prototype.attList=function(e,t,r,n,i){var a;return this.openCurrent(),a=new o(this,e,t,r,n,i),this.onData(this.writer.dtdAttList(a,this.currentLevel+1)),this},e.prototype.entity=function(e,t){var r;return this.openCurrent(),r=new s(this,!1,e,t),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},e.prototype.pEntity=function(e,t){var r;return this.openCurrent(),r=new s(this,!0,e,t),this.onData(this.writer.dtdEntity(r,this.currentLevel+1)),this},e.prototype.notation=function(e,t){var r;return this.openCurrent(),r=new c(this,e,t),this.onData(this.writer.dtdNotation(r,this.currentLevel+1)),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){if(!e.isOpen)return!this.root&&0===this.currentLevel&&e instanceof f&&(this.root=e),this.onData(this.writer.openNode(e,this.currentLevel)),e.isOpen=!0},e.prototype.closeNode=function(e){if(!e.isClosed)return this.onData(this.writer.closeNode(e,this.currentLevel)),e.isClosed=!0},e.prototype.onData=function(e){return this.documentStarted=!0,this.onDataCallback(e)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,r){return this.node(e,t,r)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},e.prototype.dtd=function(e,t,r){return this.doctype(e,t,r)},e.prototype.e=function(e,t,r){return this.element(e,t,r)},e.prototype.n=function(e,t,r){return this.node(e,t,r)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode instanceof l?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(void 0)},{"./Utility":212,"./XMLAttribute":213,"./XMLCData":214,"./XMLComment":215,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLStringWriter":229,"./XMLStringifier":230,"./XMLText":231}],224:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){var r,i,o,a,s,c={}.hasOwnProperty;s=e("./Utility"),a=s.isObject,o=s.isFunction,i=e("./XMLNode"),r=e("./XMLAttribute"),t.exports=function(e){function t(e,r,n){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name");this.name=this.stringify.eleName(r),this.attributes={},null!=n&&this.attribute(n),e.isDocument&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this)}return function(e,t){for(var r in t)c.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,i),t.prototype.clone=function(){var e,t,r,i;for(t in(r=(0,n.default)(this)).isRoot&&(r.documentObject=null),r.attributes={},i=this.attributes)c.call(i,t)&&(e=i[t],r.attributes[t]=e.clone());return r.children=[],this.children.forEach(function(e){var t;return(t=e.clone()).parent=r,r.children.push(t)}),r},t.prototype.attribute=function(e,t){var n,i;if(null!=e&&(e=e.valueOf()),a(e))for(n in e)c.call(e,n)&&(i=e[n],this.attribute(n,i));else o(t)&&(t=t.apply()),this.options.skipNullAttributes&&null==t||(this.attributes[e]=new r(this,e,t));return this},t.prototype.removeAttribute=function(e){var t,r,n;if(null==e)throw new Error("Missing attribute name");if(e=e.valueOf(),Array.isArray(e))for(r=0,n=e.length;r<n;r++)t=e[r],delete this.attributes[t];else delete this.attributes[e];return this},t.prototype.toString=function(e){return this.options.writer.set(e).element(this)},t.prototype.att=function(e,t){return this.attribute(e,t)},t.prototype.a=function(e,t){return this.attribute(e,t)},t}()}).call(void 0)},{"./Utility":212,"./XMLAttribute":213,"./XMLNode":225,"babel-runtime/core-js/object/create":18}],225:[function(e,t,r){(function(){var r,n,i,o,a,s,c,u,l,f,p,d,h={}.hasOwnProperty;d=e("./Utility"),p=d.isObject,f=d.isFunction,l=d.isEmpty,a=null,r=null,n=null,i=null,o=null,c=null,u=null,s=null,t.exports=function(){function t(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=e("./XMLElement"),r=e("./XMLCData"),n=e("./XMLComment"),i=e("./XMLDeclaration"),o=e("./XMLDocType"),c=e("./XMLRaw"),u=e("./XMLText"),s=e("./XMLProcessingInstruction"))}return t.prototype.element=function(e,t,r){var n,i,o,a,s,c,u,d,m,v;if(c=null,null==t&&(t={}),t=t.valueOf(),p(t)||(r=(m=[t,r])[0],t=m[1]),null!=e&&(e=e.valueOf()),Array.isArray(e))for(o=0,u=e.length;o<u;o++)i=e[o],c=this.element(i);else if(f(e))c=this.element(e.apply());else if(p(e)){for(s in e)if(h.call(e,s))if(v=e[s],f(v)&&(v=v.apply()),p(v)&&l(v)&&(v=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===s.indexOf(this.stringify.convertAttKey))c=this.attribute(s.substr(this.stringify.convertAttKey.length),v);else if(!this.options.separateArrayItems&&Array.isArray(v))for(a=0,d=v.length;a<d;a++)i=v[a],(n={})[s]=i,c=this.element(n);else p(v)?(c=this.element(s)).element(v):c=this.element(s,v)}else c=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(r):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(r):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(r):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(r):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),r):this.node(e,t,r);if(null==c)throw new Error("Could not create any elements with: "+e);return c},t.prototype.insertBefore=function(e,t,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n},t.prototype.insertAfter=function(e,t,r){var n,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level");return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),n=this.parent.element(e,t,r),Array.prototype.push.apply(this.parent.children,o),n},t.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element");return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},t.prototype.node=function(e,t,r){var n,i;return null!=e&&(e=e.valueOf()),t||(t={}),t=t.valueOf(),p(t)||(r=(i=[t,r])[0],t=i[1]),n=new a(this,e,t),null!=r&&n.text(r),this.children.push(n),n},t.prototype.text=function(e){var t;return t=new u(this,e),this.children.push(t),this},t.prototype.cdata=function(e){var t;return t=new r(this,e),this.children.push(t),this},t.prototype.comment=function(e){var t;return t=new n(this,e),this.children.push(t),this},t.prototype.commentBefore=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.commentAfter=function(e){var t,r;return t=this.parent.children.indexOf(this),r=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,r),this},t.prototype.raw=function(e){var t;return t=new c(this,e),this.children.push(t),this},t.prototype.instruction=function(e,t){var r,n,i,o,a;if(null!=e&&(e=e.valueOf()),null!=t&&(t=t.valueOf()),Array.isArray(e))for(o=0,a=e.length;o<a;o++)r=e[o],this.instruction(r);else if(p(e))for(r in e)h.call(e,r)&&(n=e[r],this.instruction(r,n));else f(t)&&(t=t.apply()),i=new s(this,e,t),this.children.push(i);return this},t.prototype.instructionBefore=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.instructionAfter=function(e,t){var r,n;return r=this.parent.children.indexOf(this),n=this.parent.children.splice(r+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,n),this},t.prototype.declaration=function(e,t,r){var n,o;return n=this.document(),o=new i(n,e,t,r),n.children[0]instanceof i?n.children[0]=o:n.children.unshift(o),n.root()||n},t.prototype.doctype=function(e,t){var r,n,i,a,s,c,u,l,f;for(r=this.document(),n=new o(r,e,t),i=a=0,c=(l=r.children).length;a<c;i=++a)if(l[i]instanceof o)return r.children[i]=n,n;for(i=s=0,u=(f=r.children).length;s<u;i=++s)if(f[i].isRoot)return r.children.splice(i,0,n),n;return r.children.push(n),n},t.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},t.prototype.root=function(){var e;for(e=this;e;){if(e.isDocument)return e.rootObject;if(e.isRoot)return e;e=e.parent}},t.prototype.document=function(){var e;for(e=this;e;){if(e.isDocument)return e;e=e.parent}},t.prototype.end=function(e){return this.document().end(e)},t.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node");return this.parent.children[e-1]},t.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node");return this.parent.children[e+1]},t.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},t.prototype.ele=function(e,t,r){return this.element(e,t,r)},t.prototype.nod=function(e,t,r){return this.node(e,t,r)},t.prototype.txt=function(e){return this.text(e)},t.prototype.dat=function(e){return this.cdata(e)},t.prototype.com=function(e){return this.comment(e)},t.prototype.ins=function(e,t){return this.instruction(e,t)},t.prototype.doc=function(){return this.document()},t.prototype.dec=function(e,t,r){return this.declaration(e,t,r)},t.prototype.dtd=function(e,t){return this.doctype(e,t)},t.prototype.e=function(e,t,r){return this.element(e,t,r)},t.prototype.n=function(e,t,r){return this.node(e,t,r)},t.prototype.t=function(e){return this.text(e)},t.prototype.d=function(e){return this.cdata(e)},t.prototype.c=function(e){return this.comment(e)},t.prototype.r=function(e){return this.raw(e)},t.prototype.i=function(e,t){return this.instruction(e,t)},t.prototype.u=function(){return this.up()},t.prototype.importXMLBuilder=function(e){return this.importDocument(e)},t}()}).call(void 0)},{"./Utility":212,"./XMLCData":214,"./XMLComment":215,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLText":231}],226:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){var r,i={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r,n){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target");this.target=this.stringify.insTarget(r),n&&(this.value=this.stringify.insValue(n))}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.clone=function(){return(0,n.default)(this)},t.prototype.toString=function(e){return this.options.writer.set(e).processingInstruction(this)},t}()}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],227:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){var r,i={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text");this.value=this.stringify.raw(r)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.clone=function(){return(0,n.default)(this)},t.prototype.toString=function(e){return this.options.writer.set(e).raw(this)},t}()}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],228:[function(e,t,r){(function(){var r,n,i,o,a,s,c,u,l,f,p,d,h,m={}.hasOwnProperty;c=e("./XMLDeclaration"),u=e("./XMLDocType"),r=e("./XMLCData"),n=e("./XMLComment"),l=e("./XMLElement"),p=e("./XMLRaw"),d=e("./XMLText"),f=e("./XMLProcessingInstruction"),i=e("./XMLDTDAttList"),o=e("./XMLDTDElement"),a=e("./XMLDTDEntity"),s=e("./XMLDTDNotation"),h=e("./XMLWriterBase"),t.exports=function(e){function t(e,r){t.__super__.constructor.call(this,r),this.stream=e}return function(e,t){for(var r in t)m.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,h),t.prototype.document=function(e){var t,r,i,o,a,s,l,p;for(r=0,o=(s=e.children).length;r<o;r++)(t=s[r]).isLastRootNode=!1;for(e.children[e.children.length-1].isLastRootNode=!0,p=[],i=0,a=(l=e.children).length;i<a;i++)switch(t=l[i],!1){case!(t instanceof c):p.push(this.declaration(t));break;case!(t instanceof u):p.push(this.docType(t));break;case!(t instanceof n):p.push(this.comment(t));break;case!(t instanceof f):p.push(this.processingInstruction(t));break;default:p.push(this.element(t))}return p},t.prototype.attribute=function(e){return this.stream.write(" "+e.name+'="'+e.value+'"')},t.prototype.cdata=function(e,t){return this.stream.write(this.space(t)+"<![CDATA["+e.text+"]]>"+this.endline(e))},t.prototype.comment=function(e,t){return this.stream.write(this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.endline(e))},t.prototype.declaration=function(e,t){return this.stream.write(this.space(t)),this.stream.write('<?xml version="'+e.version+'"'),null!=e.encoding&&this.stream.write(' encoding="'+e.encoding+'"'),null!=e.standalone&&this.stream.write(' standalone="'+e.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(e))},t.prototype.docType=function(e,t){var c,u,l,p;if(t||(t=0),this.stream.write(this.space(t)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e)),u=0,l=(p=e.children).length;u<l;u++)switch(c=p[u],!1){case!(c instanceof i):this.dtdAttList(c,t+1);break;case!(c instanceof o):this.dtdElement(c,t+1);break;case!(c instanceof a):this.dtdEntity(c,t+1);break;case!(c instanceof s):this.dtdNotation(c,t+1);break;case!(c instanceof r):this.cdata(c,t+1);break;case!(c instanceof n):this.comment(c,t+1);break;case!(c instanceof f):this.processingInstruction(c,t+1);break;default:throw new Error("Unknown DTD node type: "+c.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(e))},t.prototype.element=function(e,t){var i,o,a,s,c,u,h,v;for(c in t||(t=0),v=this.space(t),this.stream.write(v+"<"+e.name),u=e.attributes)m.call(u,c)&&(i=u[c],this.attribute(i));if(0===e.children.length||e.children.every(function(e){return""===e.value}))this.allowEmpty?this.stream.write("></"+e.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)this.stream.write(">"),this.stream.write(e.children[0].value),this.stream.write("</"+e.name+">");else{for(this.stream.write(">"+this.newline),a=0,s=(h=e.children).length;a<s;a++)switch(o=h[a],!1){case!(o instanceof r):this.cdata(o,t+1);break;case!(o instanceof n):this.comment(o,t+1);break;case!(o instanceof l):this.element(o,t+1);break;case!(o instanceof p):this.raw(o,t+1);break;case!(o instanceof d):this.text(o,t+1);break;case!(o instanceof f):this.processingInstruction(o,t+1);break;default:throw new Error("Unknown XML node type: "+o.constructor.name)}this.stream.write(v+"</"+e.name+">")}return this.stream.write(this.endline(e))},t.prototype.processingInstruction=function(e,t){return this.stream.write(this.space(t)+"<?"+e.target),e.value&&this.stream.write(" "+e.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(e))},t.prototype.raw=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},t.prototype.text=function(e,t){return this.stream.write(this.space(t)+e.value+this.endline(e))},t.prototype.dtdAttList=function(e,t){return this.stream.write(this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType),"#DEFAULT"!==e.defaultValueType&&this.stream.write(" "+e.defaultValueType),e.defaultValue&&this.stream.write(' "'+e.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.dtdElement=function(e,t){return this.stream.write(this.space(t)+"<!ELEMENT "+e.name+" "+e.value),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.dtdEntity=function(e,t){return this.stream.write(this.space(t)+"<!ENTITY"),e.pe&&this.stream.write(" %"),this.stream.write(" "+e.name),e.value?this.stream.write(' "'+e.value+'"'):(e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.nData&&this.stream.write(" NDATA "+e.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.dtdNotation=function(e,t){return this.stream.write(this.space(t)+"<!NOTATION "+e.name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.pubID?this.stream.write(' PUBLIC "'+e.pubID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(e))},t.prototype.endline=function(e){return e.isLastRootNode?"":this.newline},t}()}).call(void 0)},{"./XMLCData":214,"./XMLComment":215,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLText":231,"./XMLWriterBase":232}],229:[function(e,t,r){(function(){var r,n,i,o,a,s,c,u,l,f,p,d,h,m={}.hasOwnProperty;c=e("./XMLDeclaration"),u=e("./XMLDocType"),r=e("./XMLCData"),n=e("./XMLComment"),l=e("./XMLElement"),p=e("./XMLRaw"),d=e("./XMLText"),f=e("./XMLProcessingInstruction"),i=e("./XMLDTDAttList"),o=e("./XMLDTDElement"),a=e("./XMLDTDEntity"),s=e("./XMLDTDNotation"),h=e("./XMLWriterBase"),t.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var r in t)m.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,h),t.prototype.document=function(e){var t,r,i,o,a;for(this.textispresent=!1,o="",r=0,i=(a=e.children).length;r<i;r++)t=a[r],o+=function(){switch(!1){case!(t instanceof c):return this.declaration(t);case!(t instanceof u):return this.docType(t);case!(t instanceof n):return this.comment(t);case!(t instanceof f):return this.processingInstruction(t);default:return this.element(t,0)}}.call(this);return this.pretty&&o.slice(-this.newline.length)===this.newline&&(o=o.slice(0,-this.newline.length)),o},t.prototype.attribute=function(e){return" "+e.name+'="'+e.value+'"'},t.prototype.cdata=function(e,t){return this.space(t)+"<![CDATA["+e.text+"]]>"+this.newline},t.prototype.comment=function(e,t){return this.space(t)+"\x3c!-- "+e.text+" --\x3e"+this.newline},t.prototype.declaration=function(e,t){var r;return r=this.space(t),r+='<?xml version="'+e.version+'"',null!=e.encoding&&(r+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(r+=' standalone="'+e.standalone+'"'),r+=this.spacebeforeslash+"?>",r+=this.newline},t.prototype.docType=function(e,t){var c,u,l,p,d;if(t||(t=0),p=this.space(t),p+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?p+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(p+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(p+=" [",p+=this.newline,u=0,l=(d=e.children).length;u<l;u++)c=d[u],p+=function(){switch(!1){case!(c instanceof i):return this.dtdAttList(c,t+1);case!(c instanceof o):return this.dtdElement(c,t+1);case!(c instanceof a):return this.dtdEntity(c,t+1);case!(c instanceof s):return this.dtdNotation(c,t+1);case!(c instanceof r):return this.cdata(c,t+1);case!(c instanceof n):return this.comment(c,t+1);case!(c instanceof f):return this.processingInstruction(c,t+1);default:throw new Error("Unknown DTD node type: "+c.constructor.name)}}.call(this);p+="]"}return p+=this.spacebeforeslash+">",p+=this.newline},t.prototype.element=function(e,t){var i,o,a,s,c,u,h,v,_,g,y,b,w;for(h in t||(t=0),w=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),v="",v+=(b=this.space(t))+"<"+e.name,_=e.attributes)m.call(_,h)&&(i=_[h],v+=this.attribute(i));if(0===e.children.length||e.children.every(function(e){return""===e.value}))this.allowEmpty?v+="></"+e.name+">"+this.newline:v+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&1===e.children.length&&null!=e.children[0].value)v+=">",v+=e.children[0].value,v+="</"+e.name+">"+this.newline;else{if(this.dontprettytextnodes)for(a=0,c=(g=e.children).length;a<c;a++)if(null!=(o=g[a]).value){this.textispresent++,w=!0;break}for(this.textispresent&&(this.newline="",this.pretty=!1,b=this.space(t)),v+=">"+this.newline,s=0,u=(y=e.children).length;s<u;s++)o=y[s],v+=function(){switch(!1){case!(o instanceof r):return this.cdata(o,t+1);case!(o instanceof n):return this.comment(o,t+1);case!(o instanceof l):return this.element(o,t+1);case!(o instanceof p):return this.raw(o,t+1);case!(o instanceof d):return this.text(o,t+1);case!(o instanceof f):return this.processingInstruction(o,t+1);default:throw new Error("Unknown XML node type: "+o.constructor.name)}}.call(this);w&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),v+=b+"</"+e.name+">"+this.newline}return v},t.prototype.processingInstruction=function(e,t){var r;return r=this.space(t)+"<?"+e.target,e.value&&(r+=" "+e.value),r+=this.spacebeforeslash+"?>"+this.newline},t.prototype.raw=function(e,t){return this.space(t)+e.value+this.newline},t.prototype.text=function(e,t){return this.space(t)+e.value+this.newline},t.prototype.dtdAttList=function(e,t){var r;return r=this.space(t)+"<!ATTLIST "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(r+=" "+e.defaultValueType),e.defaultValue&&(r+=' "'+e.defaultValue+'"'),r+=this.spacebeforeslash+">"+this.newline},t.prototype.dtdElement=function(e,t){return this.space(t)+"<!ELEMENT "+e.name+" "+e.value+this.spacebeforeslash+">"+this.newline},t.prototype.dtdEntity=function(e,t){var r;return r=this.space(t)+"<!ENTITY",e.pe&&(r+=" %"),r+=" "+e.name,e.value?r+=' "'+e.value+'"':(e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),e.nData&&(r+=" NDATA "+e.nData)),r+=this.spacebeforeslash+">"+this.newline},t.prototype.dtdNotation=function(e,t){var r;return r=this.space(t)+"<!NOTATION "+e.name,e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?r+=' PUBLIC "'+e.pubID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),r+=this.spacebeforeslash+">"+this.newline},t.prototype.openNode=function(e,t){var r,n,i,o;if(t||(t=0),e instanceof l){for(n in i=this.space(t)+"<"+e.name,o=e.attributes)m.call(o,n)&&(r=o[n],i+=this.attribute(r));return i+=(e.children?">":"/>")+this.newline}return i=this.space(t)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),i+=(e.children?" [":">")+this.newline},t.prototype.closeNode=function(e,t){switch(t||(t=0),!1){case!(e instanceof l):return this.space(t)+"</"+e.name+">"+this.newline;case!(e instanceof u):return this.space(t)+"]>"+this.newline}},t}()}).call(void 0)},{"./XMLCData":214,"./XMLComment":215,"./XMLDTDAttList":216,"./XMLDTDElement":217,"./XMLDTDEntity":218,"./XMLDTDNotation":219,"./XMLDeclaration":220,"./XMLDocType":221,"./XMLElement":224,"./XMLProcessingInstruction":226,"./XMLRaw":227,"./XMLText":231,"./XMLWriterBase":232}],230:[function(e,t,r){(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;t.exports=function(){function t(t){var n,i,o;for(n in this.assertLegalChar=e(this.assertLegalChar,this),t||(t={}),this.noDoubleEncoding=t.noDoubleEncoding,i=t.stringify||{})r.call(i,n)&&(o=i[n],this[n]=o)}return t.prototype.eleName=function(e){return e=""+e||"",this.assertLegalChar(e)},t.prototype.eleText=function(e){return e=""+e||"",this.assertLegalChar(this.elEscape(e))},t.prototype.cdata=function(e){return e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e)},t.prototype.comment=function(e){if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},t.prototype.raw=function(e){return""+e||""},t.prototype.attName=function(e){return""+e||""},t.prototype.attValue=function(e){return e=""+e||"",this.attEscape(e)},t.prototype.insTarget=function(e){return""+e||""},t.prototype.insValue=function(e){if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return e},t.prototype.xmlVersion=function(e){if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},t.prototype.xmlEncoding=function(e){if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return e},t.prototype.xmlStandalone=function(e){return e?"yes":"no"},t.prototype.dtdPubID=function(e){return""+e||""},t.prototype.dtdSysID=function(e){return""+e||""},t.prototype.dtdElementValue=function(e){return""+e||""},t.prototype.dtdAttType=function(e){return""+e||""},t.prototype.dtdAttDefault=function(e){return null!=e?""+e||"":e},t.prototype.dtdEntityValue=function(e){return""+e||""},t.prototype.dtdNData=function(e){return""+e||""},t.prototype.convertAttKey="@",t.prototype.convertPIKey="?",t.prototype.convertTextKey="#text",t.prototype.convertCDataKey="#cdata",t.prototype.convertCommentKey="#comment",t.prototype.convertRawKey="#raw",t.prototype.assertLegalChar=function(e){var t;if(t=e.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+e+" at index "+t.index);return e},t.prototype.elEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},t.prototype.attEscape=function(e){var t;return t=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},t}()}).call(void 0)},{}],231:[function(e,t,r){var n=function(e){return e&&e.__esModule?e:{default:e}}(e("babel-runtime/core-js/object/create"));(function(){var r,i={}.hasOwnProperty;r=e("./XMLNode"),t.exports=function(e){function t(e,r){if(t.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text");this.value=this.stringify.eleText(r)}return function(e,t){for(var r in t)i.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,r),t.prototype.clone=function(){return(0,n.default)(this)},t.prototype.toString=function(e){return this.options.writer.set(e).text(this)},t}()}).call(void 0)},{"./XMLNode":225,"babel-runtime/core-js/object/create":18}],232:[function(e,t,r){(function(){var e={}.hasOwnProperty;t.exports=function(){function t(t){var r,n,i,o,a,s,c,u,l;for(r in t||(t={}),this.pretty=t.pretty||!1,this.allowEmpty=null!=(n=t.allowEmpty)&&n,this.pretty?(this.indent=null!=(i=t.indent)?i:"  ",this.newline=null!=(o=t.newline)?o:"\n",this.offset=null!=(a=t.offset)?a:0,this.dontprettytextnodes=null!=(s=t.dontprettytextnodes)?s:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=null!=(c=t.spacebeforeslash)?c:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,u=t.writer||{})e.call(u,r)&&(l=u[r],this[r]=l)}return t.prototype.set=function(t){var r,n,i;for(r in t||(t={}),"pretty"in t&&(this.pretty=t.pretty),"allowEmpty"in t&&(this.allowEmpty=t.allowEmpty),this.pretty?(this.indent="indent"in t?t.indent:"  ",this.newline="newline"in t?t.newline:"\n",this.offset="offset"in t?t.offset:0,this.dontprettytextnodes="dontprettytextnodes"in t?t.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in t?t.spacebeforeslash:"",!0===this.spacebeforeslash&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,n=t.writer||{})e.call(n,r)&&(i=n[r],this[r]=i);return this},t.prototype.space=function(e){var t;return this.pretty&&(t=(e||0)+this.offset+1)>0?new Array(t).join(this.indent):""},t}()}).call(void 0)},{}],233:[function(e,t,r){(function(){var r,n,i,o,a,s,c;c=e("./Utility"),a=c.assign,s=c.isFunction,r=e("./XMLDocument"),n=e("./XMLDocumentCB"),o=e("./XMLStringWriter"),i=e("./XMLStreamWriter"),t.exports.create=function(e,t,n,i){var o,s;if(null==e)throw new Error("Root element needs a name");return i=a({},t,n,i),s=(o=new r(i)).element(e),i.headless||(o.declaration(i),null==i.pubID&&null==i.sysID||o.doctype(i)),s},t.exports.begin=function(e,t,i){var o;return s(e)&&(t=(o=[e,t])[0],i=o[1],e={}),t?new n(e,t,i):new r(e)},t.exports.stringWriter=function(e){return new o(e)},t.exports.streamWriter=function(e,t){return new i(e,t)}}).call(void 0)},{"./Utility":212,"./XMLDocument":222,"./XMLDocumentCB":223,"./XMLStreamWriter":228,"./XMLStringWriter":229}],234:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],235:[function(e,t,r){var n=e("buffer").Buffer,i={sha1:e("./sha"),sha256:e("./sha256"),md5:e("./md5")},o=64,a=new n(o);function s(e,t){var r=i[e=e||"sha1"],s=[];return r||c("algorithm:",e,"is not yet supported"),{update:function(e){return n.isBuffer(e)||(e=new n(e)),s.push(e),e.length,this},digest:function(e){var i=n.concat(s),c=t?function(e,t,r){n.isBuffer(t)||(t=new n(t)),n.isBuffer(r)||(r=new n(r)),t.length>o?t=e(t):t.length<o&&(t=n.concat([t,a],o));for(var i=new n(o),s=new n(o),c=0;c<o;c++)i[c]=54^t[c],s[c]=92^t[c];var u=e(n.concat([i,r]));return e(n.concat([s,u]))}(r,t,i):r(i);return s=null,e?c.toString(e):c}}}function c(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}a.fill(0),r.createHash=function(e){return s(e)},r.createHmac=function(e,t){return s(e,t)},function(e,t){for(var r in e)t(e[r],r)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(e){r[e]=function(){c("sorry,",e,"is not implemented yet")}})},{"./md5":237,"./sha":238,"./sha256":239,buffer:37}],236:[function(e,t,r){var n=e("buffer").Buffer,i=4,o=new n(i);o.fill(0);var a=8;t.exports={hash:function(e,t,r,s){return n.isBuffer(e)||(e=new n(e)),function(e,t,r){for(var i=new n(t),o=r?i.writeInt32BE:i.writeInt32LE,a=0;a<e.length;a++)o.call(i,e[a],4*a,!0);return i}(t(function(e,t){if(e.length%i!=0){var r=e.length+(i-e.length%i);e=n.concat([e,o],r)}for(var a=[],s=t?e.readInt32BE:e.readInt32LE,c=0;c<e.length;c+=i)a.push(s.call(e,c));return a}(e,s),e.length*a),r,s)}}},{buffer:37}],237:[function(e,t,r){var n=e("./helpers");function i(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,f=0;f<e.length;f+=16){var p=r,d=n,h=i,m=o;n=u(n=u(n=u(n=u(n=c(n=c(n=c(n=c(n=s(n=s(n=s(n=s(n=a(n=a(n=a(n=a(n,i=a(i,o=a(o,r=a(r,n,i,o,e[f+0],7,-680876936),n,i,e[f+1],12,-389564586),r,n,e[f+2],17,606105819),o,r,e[f+3],22,-1044525330),i=a(i,o=a(o,r=a(r,n,i,o,e[f+4],7,-176418897),n,i,e[f+5],12,1200080426),r,n,e[f+6],17,-1473231341),o,r,e[f+7],22,-45705983),i=a(i,o=a(o,r=a(r,n,i,o,e[f+8],7,1770035416),n,i,e[f+9],12,-1958414417),r,n,e[f+10],17,-42063),o,r,e[f+11],22,-1990404162),i=a(i,o=a(o,r=a(r,n,i,o,e[f+12],7,1804603682),n,i,e[f+13],12,-40341101),r,n,e[f+14],17,-1502002290),o,r,e[f+15],22,1236535329),i=s(i,o=s(o,r=s(r,n,i,o,e[f+1],5,-165796510),n,i,e[f+6],9,-1069501632),r,n,e[f+11],14,643717713),o,r,e[f+0],20,-373897302),i=s(i,o=s(o,r=s(r,n,i,o,e[f+5],5,-701558691),n,i,e[f+10],9,38016083),r,n,e[f+15],14,-660478335),o,r,e[f+4],20,-405537848),i=s(i,o=s(o,r=s(r,n,i,o,e[f+9],5,568446438),n,i,e[f+14],9,-1019803690),r,n,e[f+3],14,-187363961),o,r,e[f+8],20,1163531501),i=s(i,o=s(o,r=s(r,n,i,o,e[f+13],5,-1444681467),n,i,e[f+2],9,-51403784),r,n,e[f+7],14,1735328473),o,r,e[f+12],20,-1926607734),i=c(i,o=c(o,r=c(r,n,i,o,e[f+5],4,-378558),n,i,e[f+8],11,-2022574463),r,n,e[f+11],16,1839030562),o,r,e[f+14],23,-35309556),i=c(i,o=c(o,r=c(r,n,i,o,e[f+1],4,-1530992060),n,i,e[f+4],11,1272893353),r,n,e[f+7],16,-155497632),o,r,e[f+10],23,-1094730640),i=c(i,o=c(o,r=c(r,n,i,o,e[f+13],4,681279174),n,i,e[f+0],11,-358537222),r,n,e[f+3],16,-722521979),o,r,e[f+6],23,76029189),i=c(i,o=c(o,r=c(r,n,i,o,e[f+9],4,-640364487),n,i,e[f+12],11,-421815835),r,n,e[f+15],16,530742520),o,r,e[f+2],23,-995338651),i=u(i,o=u(o,r=u(r,n,i,o,e[f+0],6,-198630844),n,i,e[f+7],10,1126891415),r,n,e[f+14],15,-1416354905),o,r,e[f+5],21,-57434055),i=u(i,o=u(o,r=u(r,n,i,o,e[f+12],6,1700485571),n,i,e[f+3],10,-1894986606),r,n,e[f+10],15,-1051523),o,r,e[f+1],21,-2054922799),i=u(i,o=u(o,r=u(r,n,i,o,e[f+8],6,1873313359),n,i,e[f+15],10,-30611744),r,n,e[f+6],15,-1560198380),o,r,e[f+13],21,1309151649),i=u(i,o=u(o,r=u(r,n,i,o,e[f+4],6,-145523070),n,i,e[f+11],10,-1120210379),r,n,e[f+2],15,718787259),o,r,e[f+9],21,-343485551),r=l(r,p),n=l(n,d),i=l(i,h),o=l(o,m)}return Array(r,n,i,o)}function o(e,t,r,n,i,o){return l(function(e,t){return e<<t|e>>>32-t}(l(l(t,e),l(n,o)),i),r)}function a(e,t,r,n,i,a,s){return o(t&r|~t&n,e,t,i,a,s)}function s(e,t,r,n,i,a,s){return o(t&n|r&~n,e,t,i,a,s)}function c(e,t,r,n,i,a,s){return o(t^r^n,e,t,i,a,s)}function u(e,t,r,n,i,a,s){return o(r^(t|~n),e,t,i,a,s)}function l(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}t.exports=function(e){return n.hash(e,i,16)}},{"./helpers":236}],238:[function(e,t,r){var n=e("./helpers");function i(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var r=Array(80),n=1732584193,i=-271733879,u=-1732584194,l=271733878,f=-1009589776,p=0;p<e.length;p+=16){for(var d=n,h=i,m=u,v=l,_=f,g=0;g<80;g++){r[g]=g<16?e[p+g]:c(r[g-3]^r[g-8]^r[g-14]^r[g-16],1);var y=s(s(c(n,5),o(g,i,u,l)),s(s(f,r[g]),a(g)));f=l,l=u,u=c(i,30),i=n,n=y}n=s(n,d),i=s(i,h),u=s(u,m),l=s(l,v),f=s(f,_)}return Array(n,i,u,l,f)}function o(e,t,r,n){return e<20?t&r|~t&n:e<40?t^r^n:e<60?t&r|t&n|r&n:t^r^n}function a(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function s(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function c(e,t){return e<<t|e>>>32-t}t.exports=function(e){return n.hash(e,i,20,!0)}},{"./helpers":236}],239:[function(e,t,r){var n=e("./helpers"),i=function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r},o=function(e,t){return e>>>t|e<<32-t},a=function(e,t){return e>>>t},s=function(e,t,r){return e&t^~e&r},c=function(e,t,r){return e&t^e&r^t&r},u=function(e){return o(e,2)^o(e,13)^o(e,22)},l=function(e){return o(e,6)^o(e,11)^o(e,25)},f=function(e){return o(e,7)^o(e,18)^a(e,3)},p=function(e){return o(e,17)^o(e,19)^a(e,10)},d=function(e,t){var r,n,o,a,d,h,m,v,_,g,y=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),b=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),w=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var S=0;S<e.length;S+=16){r=b[0],n=b[1],o=b[2],a=b[3],d=b[4],h=b[5],m=b[6],v=b[7];for(var x=0;x<64;x++)w[x]=x<16?e[x+S]:i(i(i(p(w[x-2]),w[x-7]),f(w[x-15])),w[x-16]),_=i(i(i(i(v,l(d)),s(d,h,m)),y[x]),w[x]),g=i(u(r),c(r,n,o)),v=m,m=h,h=d,d=i(a,_),a=o,o=n,n=r,r=i(_,g);b[0]=i(r,b[0]),b[1]=i(n,b[1]),b[2]=i(o,b[2]),b[3]=i(a,b[3]),b[4]=i(d,b[4]),b[5]=i(h,b[5]),b[6]=i(m,b[6]),b[7]=i(v,b[7])}return b};t.exports=function(e){return n.hash(e,d,32,!0)}},{"./helpers":236}],240:[function(e,t,n){(function(r){var i=c(e("babel-runtime/core-js/object/create")),o=c(e("babel-runtime/helpers/classCallCheck")),a=c(e("babel-runtime/helpers/createClass")),s=c(e("babel-runtime/helpers/typeof"));function c(e){return e&&e.__esModule?e:{default:e}}!function(e){"object"===(void 0===n?"undefined":(0,s.default)(n))&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).mime=e()}(function(){return function t(r,n,i){function o(s,c){if(!n[s]){if(!r[s]){var u="function"==typeof e&&e;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[s]={exports:{}};r[s][0].call(f.exports,function(e){var t=r[s][1][e];return o(t||e)},f,f.exports,t,r,n,i)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,r){var n=function(){function e(){(0,o.default)(this,e),this._types=(0,i.default)(null),this._extensions=(0,i.default)(null);for(var t=0;t<arguments.length;t++)this.define(arguments[t])}return(0,a.default)(e,[{key:"define",value:function(e,t){for(var r in e){for(var n=e[r],i=0;i<n.length;i++){var o=n[i];if(!t&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+r+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+r+'".');this._types[o]=r}!t&&this._extensions[r]||(this._extensions[r]=n[0])}}},{key:"getType",value:function(e){var t=(e=String(e)).replace(/^.*[/\\]/,"").toLowerCase(),r=t.replace(/^.*\./,"").toLowerCase(),n=t.length<e.length;return(r.length<t.length-1||!n)&&this._types[r]||null}},{key:"getExtension",value:function(e){return(e=/^\s*([^;\s]*)/.test(e)&&RegExp.$1)&&this._extensions[e.toLowerCase()]||null}}]),e}();t.exports=n},{}],2:[function(e,t,r){var n=e("./Mime");t.exports=new n(e("./types/standard"),e("./types/other"))},{"./Mime":1,"./types/other":3,"./types/standard":4}],3:[function(e,t,r){t.exports={"application/prs.cww":["cww"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":[],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":[],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-otf":[],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-ttf":["ttf","ttc"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":[],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":[],"application/x-msdownload":["com","bat"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["wmf","emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":[],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":[],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":[],"audio/x-wav":[],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":[],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":[],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":[],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}},{}],4:[function(e,t,r){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/font-woff":["woff"],"application/font-woff2":["woff2"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/rdf+xml":["rdf"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":[],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":[],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":[],"audio/webm":["weba"],"audio/xm":["xm"],"font/otf":["otf"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/webp":["webp"],"message/rfc822":["eml","mime"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["x3db","x3dbz"],"model/x3d+vrml":["x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":[],"text/sgml":["sgml","sgm"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":[],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},{}]},{},[2])(2)})}).call(this,void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/core-js/object/create":18,"babel-runtime/helpers/classCallCheck":29,"babel-runtime/helpers/createClass":30,"babel-runtime/helpers/typeof":31}],241:[function(e,t,r){r.encodeURIComponent=function(e){try{return encodeURIComponent(e)}catch(t){return e}},r.escape=e("escape-html"),r.timestamp=function(e){if(e){var t=e;return"string"==typeof t&&(t=Number(t)),10===String(e).length&&(t*=1e3),new Date(t)}return Math.round(Date.now()/1e3)}},{"escape-html":155}],242:[function(e,t,r){(function(t,n){var i=a(e("babel-runtime/core-js/json/stringify")),o=a(e("babel-runtime/helpers/typeof"));function a(e){return e&&e.__esModule?e:{default:e}}var s,c=e("util"),u=e("url"),l=e("http"),f=e("https"),p=e("debug")("urllib"),d=e("humanize-ms"),h=0,m=Math.pow(2,31)-10,v=/^https?:\/\//i;function _(e,t){return void 0===e?t:e}r.TIMEOUTS=[d("300s"),d("300s")];var g=["json","text"];r.request=function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),"function"==typeof i?r.requestWithCallback(t,n,i):(s||(s=e("any-promise")),new s(function(e,i){r.requestWithCallback(t,n,function(e,t){return function(r,n,i){if(r)return t(r);e({data:n,status:i.statusCode,headers:i.headers,res:i})}}(e,i))}))},r.requestWithCallback=function(a,s,y){if(!a||"string"!=typeof a&&"object"!==(void 0===a?"undefined":(0,o.default)(a))){var b=c.format("expect request url to be a string or a http request options, but got %j",a);throw new Error(b)}2===arguments.length&&"function"==typeof s&&(y=s,s=null),s=s||{},h>=m&&(h=0);var w=++h;s.requestUrls=s.requestUrls||[];var S={requestId:w,url:a,args:s,ctx:s.ctx};s.emitter&&s.emitter.emit("request",S),s.timeout=s.timeout||r.TIMEOUTS,s.maxRedirects=s.maxRedirects||10,s.streaming=s.streaming||s.customResponse;var x,E=Date.now();"string"==typeof a?(v.test(a)||(a="http://"+a),x=u.parse(a)):x=a;var k=(s.type||s.method||x.method||"GET").toUpperCase(),T=x.port||80,R=l,C=_(s.agent,r.agent),A=s.fixJSONCtlChars;"https:"===x.protocol&&(R=f,C=_(s.httpsAgent,r.httpsAgent),x.port||(T=443));var P={host:x.hostname||x.host||"localhost",path:x.path||"/",method:k,port:T,agent:C,headers:s.headers||{},lookup:s.lookup};Array.isArray(s.timeout)?P.requestTimeout=s.timeout[s.timeout.length-1]:void 0!==s.timeout&&(P.requestTimeout=s.timeout);for(var O=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","secureOptions"],M=0;M<O.length;M++){var I=O[M];s.hasOwnProperty(I)&&(P[I]=s[I])}!1!==P.rejectUnauthorized||P.hasOwnProperty("secureOptions")||(P.secureOptions=e("constants").SSL_OP_NO_TLSv1_2);var N=s.auth||x.auth;N&&(P.auth=N);var j=s.content||s.data,D="GET"===k||"HEAD"===k||s.dataAsQueryString;if(!s.content&&j&&"string"!=typeof j&&!n.isBuffer(j))if(D)j=s.nestedQuerystring?qs.stringify(j):querystring.stringify(j);else{var B=P.headers["Content-Type"]||P.headers["content-type"];B||(B="json"===s.contentType?"application/json":"application/x-www-form-urlencoded",P.headers["Content-Type"]=B),j="application/json"===parseContentType(B).type?(0,i.default)(j):s.nestedQuerystring?qs.stringify(j):querystring.stringify(j)}D&&j&&(P.path+=(x.query?"&":"?")+j,j=null);var L=0;if(j){var F=j.length;n.isBuffer(j)||(F=n.byteLength(j)),L=P.headers["Content-Length"]=F}"json"===s.dataType&&(P.headers.Accept="application/json"),"function"==typeof s.beforeRequest&&s.beforeRequest(P);var U=null,H=null,q=null,V=!1,z=!1,G=0,X=-1,K=!1,W="",Y="",$=null;function J(){U&&(clearTimeout(U),U=null)}function Q(){H&&(clearTimeout(H),H=null)}function Z(e,n,o){if(Q(),!y)return console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s %s callback twice!!!",Date(),w,t.pid,P.method,a),void(e&&console.warn("[urllib:warn] [%s] [%s] [worker:%s] %s: %s\nstack: %s",Date(),w,t.pid,e.name,e.message,e.stack));var c=y;y=null;var u={};if(o&&(X=o.statusCode,u=o.headers),401===X&&u["www-authenticate"]&&(!s.headers||!s.headers.Authorization)&&s.digestAuth){var l=u["www-authenticate"];if(l.indexOf("Digest ")>=0)return p("Request#%d %s: got digest auth header WWW-Authenticate: %s",w,a,l),s.headers=s.headers||{},s.headers.Authorization=digestAuthHeader(P.method,P.path,l,s.digestAuth),p("Request#%d %s: auth with digest header: %s",w,a,s.headers.Authorization),o.headers["set-cookie"]&&(s.headers.Cookie=o.headers["set-cookie"].join(";")),r.requestWithCallback(a,s,c)}var f=Date.now()-E;$&&($.contentDownload=f),p("[%sms] done, %s bytes HTTP %s %s %s %s, keepAliveSocket: %s, timing: %j",f,G,X,P.method,P.host,P.path,z,$);var d={status:X,statusCode:X,headers:u,size:G,aborted:K,rt:f,keepAliveSocket:z,data:n,requestUrls:s.requestUrls,timing:$,remoteAddress:W,remotePort:Y};if(e){var h="";C&&"function"==typeof C.getCurrentStatus&&(h=", agent status: "+(0,i.default)(C.getCurrentStatus())),e.message+=", "+P.method+" "+a+" "+X+" (connected: "+V+", keepalive socket: "+z+h+")\nheaders: "+(0,i.default)(u),e.data=n,e.path=P.path,e.status=X,e.headers=u,e.res=d}c(e,n,s.streaming?o:d),s.emitter&&(S.url=a,S.socket=ne&&ne.connection,S.options=P,S.size=L,s.emitter.emit("response",{requestId:w,error:e,ctx:s.ctx,req:S,res:d}))}function ee(e){var t=null;if(s.followRedirect&&statuses.redirect[e.statusCode]){s._followRedirectCount=(s._followRedirectCount||0)+1;var n=e.headers.location;if(n){if(!(s._followRedirectCount>s.maxRedirects)){var i=s.formatRedirectUrl?s.formatRedirectUrl(a,n):u.resolve(a,n);p("Request#%d %s: `redirected` from %s to %s",w,P.path,a,i),Q(),s.headers&&s.headers.Host&&v.test(n)&&(s.headers.Host=null);var o=y;return y=null,r.requestWithCallback(i,s,o),{redirect:!0,error:null}}(t=new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+a)).name="MaxRedirectError"}else(t=new Error("Got statusCode "+e.statusCode+" but cannot resolve next location from headers")).name="FollowRedirectError"}return{redirect:!1,error:t}}s.timing&&($={queuing:0,dnslookup:0,connected:0,requestSent:0,waiting:0,contentDownload:0}),P.headers["User-Agent"]||P.headers["user-agent"]||(P.headers["User-Agent"]=navigator.userAgent),s.gzip&&(P.headers["Accept-Encoding"]||P.headers["accept-encoding"]||(P.headers["Accept-Encoding"]="gzip"));var te,re,ne,ie=s.writeStream;function oe(){p("Response timer ticking, timeout: %d",re),H=setTimeout(function(){H=null;var e="Response timeout for "+re+"ms";(q=new Error(e)).name="ResponseTimeoutError",q.requestId=w,p("ResponseTimeout: Request#%d %s %s: %s, connected: %s",w,a,q.name,e,V),ae()},re)}p("Request#%d %s %s with headers %j, options.path: %s",w,k,a,P.headers,P.path),s.requestUrls.push(a),Array.isArray(s.timeout)?(te=d(s.timeout[0]),re=d(s.timeout[1])):te=re=d(s.timeout),p("ConnectTimeout: %d, ResponseTimeout: %d",te,re),P.mode=s.mode?s.mode:"";try{ne=R.request(P,function(e){var t;if($&&($.waiting=Date.now()-E),p("Request#%d %s `req response` event emit: status %d, headers: %j",w,a,e.statusCode,e.headers),s.streaming)return(t=ee(e)).redirect?void e.resume():t.error?(e.resume(),Z(t.error,null,e)):Z(null,null,e);if(e.on("close",function(){p("Request#%d %s: `res close` event emit, total size %d",w,a,G)}),e.on("error",function(){p("Request#%d %s: `res error` event emit, total size %d",w,a,G)}),e.on("aborted",function(){K=!0,p("Request#%d %s: `res aborted` event emit, total size %d",w,a,G)}),ie)return(t=ee(e)).redirect?void e.resume():t.error?(e.resume(),ie.end(),Z(t.error,null,e)):(!1===s.consumeWriteStream?e.on("end",Z.bind(null,null,null,e)):isNode010||isNode012?first([[ie,"close"],[e,"aborted"]],function(t,r,n){p("Request#%d %s: writeStream or res %s event emitted",w,a,n),Z(q||null,null,e)}):ie.on("close",function(){p("Request#%d %s: writeStream close event emitted",w,a),Z(q||null,null,e)}),e.pipe(ie));var r=[];e.on("data",function(e){p("Request#%d %s: `res data` event emit, size %d",w,a,e.length),G+=e.length,r.push(e)}),e.on("end",function(){var t=n.concat(r,G);if(p("Request#%d %s: `res end` event emit, total size %d, _dumped: %s",w,a,G,e._dumped),q)return Z(q,t,e);var i=ee(e);if(i.error)return Z(i.error,t,e);i.redirect||function(e,t,r){r(null,t,e.headers["content-encoding"])}(e,t,function(r,n,i){if(r)return Z(r,t,e);if(!i&&g.indexOf(s.dataType)>=0){try{n=decodeBodyByCharset(n,e)}catch(t){return p("decodeBodyByCharset error: %s",t),Z(null,n,e)}if("json"===s.dataType)if(0===G)n=null;else{var o=parseJSON(n,A);o.error?r=o.error:n=o.data}}K&&p("Request#%d %s: Remote socket was terminated before `response.end()` was called",w,a),Z(r,n,e)})})})}catch(e){return Z(e)}function ae(){p("Request#%d %s abort, connected: %s",w,a,V),ne.socket||(q.noSocket=!0,Z(q)),ne.abort()}return"undefined"==typeof window?(p("Connect timer ticking, timeout: %d",te),U=setTimeout(function(){U=null,-1===X&&(X=-2);var e="Connect timeout for "+te+"ms",t="ConnectionTimeoutError";ne.socket||(t="SocketAssignTimeoutError",e+=", working sockets is full"),(q=new Error(e)).name=t,q.requestId=w,p("ConnectTimeout: Request#%d %s %s: %s, connected: %s",w,a,q.name,e,V),ae()},te)):ne.on("requestTimeout",function(){-1===X&&(X=-2);(q=new Error("Connect timeout for "+te+"ms")).name="ConnectionTimeoutError",q.requestId=w,ae()}),$&&ne.on("finish",function(){$.requestSent=Date.now()-E}),ne.once("socket",function(e){$&&($.queuing=Date.now()-E),isNode010&&e.socket&&(e=e.socket);var t=e.readyState;if("opening"===t)return e.once("lookup",function(e,t,r){p("Request#%d %s lookup: %s, %s, %s",w,a,e,t,r),$&&($.dnslookup=Date.now()-E),t&&(W=t)}),void e.once("connect",function(){$&&($.connected=Date.now()-E),J(),oe(),p("Request#%d %s new socket connected",w,a),V=!0,W||(W=e.remoteAddress),Y=e.remotePort});p("Request#%d %s reuse socket connected, readyState: %s",w,a,t),V=!0,z=!0,W||(W=e.remoteAddress),Y=e.remotePort,J(),oe()}),ne.on("error",function(e){"Error"!==e.name&&"TypeError"!==e.name||(e.name=V?"ResponseError":"RequestError"),e.message+=' (req "error")',p("Request#%d %s `req error` event emit, %s: %s",w,a,e.name,e.message),Z(q||e)}),ie&&ie.once("error",function(e){e.message+=' (writeStream "error")',q=e,p("Request#%d %s `writeStream error` event emit, %s: %s",w,a,e.name,e.message),ae()}),s.stream?(s.stream.pipe(ne),s.stream.once("error",function(e){e.message+=' (stream "error")',q=e,p("Request#%d %s `readStream error` event emit, %s: %s",w,a,e.name,e.message),ae()})):ne.end(j),ne.requestId=w,ne}}).call(this,e("_process"),e("buffer").Buffer)},{_process:171,"any-promise":12,"babel-runtime/core-js/json/stringify":16,"babel-runtime/helpers/typeof":31,buffer:37,constants:39,debug:153,http:194,https:157,"humanize-ms":158,url:201,util:205}]},{},[1])(1)})}).call(this,r(35))},function(e,t,r){"use strict";e.exports=function(e){return function(){return e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(function(t,r){var i;try{i=e.apply(this,t)}catch(e){return r(e)}(0,n.default)(i)&&"function"==typeof i.then?i.then(function(e){s(r,null,e)},function(e){s(r,e.message?e:new Error(e))}):r(null,i)})};var n=a(r(119)),i=a(r(197)),o=a(r(198));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){try{e(t,r)}catch(e){(0,o.default)(c,e)}}function c(e){throw e}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=(0,n.default)(arguments),r=t.pop();e.call(this,t,r)}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(82));e.exports=t.default},function(e,t,r){"use strict";(function(e,n){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.hasNextTick=t.hasSetImmediate=void 0,t.fallback=u,t.wrap=l;var o=function(e){return e&&e.__esModule?e:{default:e}}(r(82));var a,s=t.hasSetImmediate="function"==typeof e&&e,c=t.hasNextTick="object"===(void 0===n?"undefined":i(n))&&"function"==typeof n.nextTick;function u(e){setTimeout(e,0)}function l(e){return function(t){var r=(0,o.default)(arguments,1);e(function(){t.apply(null,r)})}}a=s?e:c?n.nextTick:u,t.default=l(a)}).call(this,r(199).setImmediate,r(83))},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r(200),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(35))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},a=!1,s=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[i]=a,n(i),i++},c.clearImmediate=u}function u(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{u(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(35),r(83))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,o){return e(n.default,t,(0,i.default)(r),o)}};var n=o(r(202)),i=o(r(32));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){((0,n.default)(e)?p:d)(e,(0,l.default)(t),r)};var n=f(r(62)),i=f(r(124)),o=f(r(206)),a=f(r(225)),s=f(r(47)),c=f(r(86)),u=f(r(88)),l=f(r(32));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r){r=(0,c.default)(r||s.default);var n=0,o=0,a=e.length;function l(e,t){e?r(e):++o!==a&&t!==i.default||r(null)}for(0===a&&r(null);n<a;n++)t(e[n],n,(0,u.default)(l))}var d=(0,a.default)(o.default,1/0);e.exports=t.default},function(e,t,r){"use strict";var n=r(85),i=r(119),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=n(e);return t==a||t==s||t==o||t==c}},function(e,t,r){"use strict";var n=r(120),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,o){(0,n.default)(t)(e,(0,i.default)(r),o)};var n=o(r(125)),i=o(r(32));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(e))return function(e){var t=-1,r=e.length;return function(){return++t<r?{value:e[t],key:t}:null}}(e);var t=(0,i.default)(e);return t?function(e){var t=-1;return function(){var r=e.next();return r.done?null:(t++,{value:r.value,key:t})}}(t):function(e){var t=(0,o.default)(e),r=-1,n=t.length;return function(){var i=t[++r];return r<n?{value:e[i],key:i}:null}}(e)};var n=a(r(62)),i=a(r(208)),o=a(r(209));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n&&e[n]&&e[n]()};var n="function"==typeof Symbol&&Symbol.iterator;e.exports=t.default},function(e,t,r){"use strict";var n=r(210),i=r(221),o=r(62);e.exports=function(e){return o(e)?n(e):i(e)}},function(e,t,r){"use strict";var n=r(211),i=r(212),o=r(126),a=r(214),s=r(216),c=r(217),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=o(e),l=!r&&i(e),f=!r&&!l&&a(e),p=!r&&!l&&!f&&c(e),d=r||l||f||p,h=d?n(e.length,String):[],m=h.length;for(var v in e)!t&&!u.call(e,v)||d&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||h.push(v);return h}},function(e,t,r){"use strict";e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){"use strict";var n=r(213),i=r(87),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){"use strict";var n=r(85),i=r(87),o="[object Arguments]";e.exports=function(e){return i(e)&&n(e)==o}},function(e,t,r){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(121),o=r(215),a="object"==n(t)&&t&&!t.nodeType&&t,s=a&&"object"==n(e)&&e&&!e.nodeType&&e,c=s&&s.exports===a?i.Buffer:void 0,u=(c?c.isBuffer:void 0)||o;e.exports=u}).call(this,r(36)(e))},function(e,t,r){"use strict";e.exports=function(){return!1}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=void 0===e?"undefined":n(e);return!!(t=null==t?i:t)&&("number"==r||"symbol"!=r&&o.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){"use strict";var n=r(218),i=r(219),o=r(220),a=o&&o.isTypedArray,s=a?i(a):n;e.exports=s},function(e,t,r){"use strict";var n=r(85),i=r(123),o=r(87),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[n(e)]}},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){"use strict";(function(e){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(122),o="object"==n(t)&&t&&!t.nodeType&&t,a=o&&"object"==n(e)&&e&&!e.nodeType&&e,s=a&&a.exports===o&&i.process,c=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=c}).call(this,r(36)(e))},function(e,t,r){"use strict";var n=r(222),i=r(223),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var r in Object(e))o.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){"use strict";var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,r){"use strict";var n=r(224)(Object.keys,Object);e.exports=n},function(e,t,r){"use strict";e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,i){return e(r,t,n,i)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(227)),a=c(r(81)),s=c(r(84));c(r(48));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var r=t.bucket,n=t.region,i=t.expires,a=t.sessionToken,s=t.tmpSecretId,c=t.tmpSecretKey;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opt={region:n,bucket:r},this.cos=new o.default({getAuthorization:function(e,t){t({TmpSecretId:s,TmpSecretKey:c,XCosSecurityToken:a,ExpiredTime:i})}}),this.blockSize=4194304,this.httpQueue=[]}return i(e,[{key:"directUpFile",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=this.opt,o=i.bucket,a=i.region;this.cos.putObject({Bucket:o,Region:a,Key:e.key,onProgress:function(e){var t=e.percent;r(null,{percent:t})},Body:e},function(r,i){t(null,n({},i,{name:e.key}))})}},{key:"sliceUpFile",value:function(e,t,r){var i=this.opt,o=i.bucket,a=i.region;this.cos.sliceUploadFile({Bucket:o,Region:a,Key:e.key,onProgress:function(e){r(null,e)},Body:e},function(r,i){t(null,n({},i,{name:e.key}))})}},{key:"put",value:function(e,t,r){var n=this;(0,s.default)(e,function(e,t){(0,a.default)({times:3,interval:1e3},function(t){e.size<n.blockSize?n.directUpFile(e,t,r):n.sliceUpFile(e,t,r)},t)},t)}},{key:"abort",value:function(){this.httpQueue.map(function(e){e.abort()})}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(228);e.exports=n},function(e,t,r){"use strict";var n=r(63),i=r(129),o=r(235),a=r(236),s=r(241),c={AppId:"",SecretId:"",SecretKey:"",XCosSecurityToken:"",FileParallelLimit:3,ChunkParallelLimit:3,ChunkRetryTimes:3,ChunkSize:1048576,SliceSize:1048576,CopyChunkParallelLimit:20,CopyChunkSize:10485760,CopySliceSize:10485760,MaxPartNumber:1e4,ProgressInterval:1e3,UploadQueueSize:1e4,Domain:"",ServiceDomain:"",Protocol:"",CompatibilityMode:!1,ForcePathStyle:!1,UseRawKey:!1,Timeout:0,CorrectClockSkew:!0,SystemClockOffset:0,UploadCheckContentMd5:!1,UploadIdCacheLimit:50},u=function(e){this.options=n.extend(n.clone(c),e||{}),this.options.FileParallelLimit=Math.max(1,this.options.FileParallelLimit),this.options.ChunkParallelLimit=Math.max(1,this.options.ChunkParallelLimit),this.options.ChunkRetryTimes=Math.max(0,this.options.ChunkRetryTimes),this.options.ChunkSize=Math.max(1048576,this.options.ChunkSize),this.options.CopyChunkParallelLimit=Math.max(1,this.options.CopyChunkParallelLimit),this.options.CopyChunkSize=Math.max(1048576,this.options.CopyChunkSize),this.options.CopySliceSize=Math.max(0,this.options.CopySliceSize),this.options.MaxPartNumber=Math.max(1024,Math.min(1e4,this.options.MaxPartNumber)),this.options.Timeout=Math.max(0,this.options.Timeout),this.options.AppId&&console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: "test-1250000000").'),i.init(this),o.init(this)};a.init(u,o),s.init(u,o),u.getAuthorization=n.getAuth,u.version="0.5.13",e.exports=u},function(e,t,r){"use strict";function n(e,t){var r=e[0],n=e[1],i=e[2],u=e[3];n=c(n=c(n=c(n=c(n=s(n=s(n=s(n=s(n=a(n=a(n=a(n=a(n=o(n=o(n=o(n=o(n,i=o(i,u=o(u,r=o(r,n,i,u,t[0],7,-680876936),n,i,t[1],12,-389564586),r,n,t[2],17,606105819),u,r,t[3],22,-1044525330),i=o(i,u=o(u,r=o(r,n,i,u,t[4],7,-176418897),n,i,t[5],12,1200080426),r,n,t[6],17,-1473231341),u,r,t[7],22,-45705983),i=o(i,u=o(u,r=o(r,n,i,u,t[8],7,1770035416),n,i,t[9],12,-1958414417),r,n,t[10],17,-42063),u,r,t[11],22,-1990404162),i=o(i,u=o(u,r=o(r,n,i,u,t[12],7,1804603682),n,i,t[13],12,-40341101),r,n,t[14],17,-1502002290),u,r,t[15],22,1236535329),i=a(i,u=a(u,r=a(r,n,i,u,t[1],5,-165796510),n,i,t[6],9,-1069501632),r,n,t[11],14,643717713),u,r,t[0],20,-373897302),i=a(i,u=a(u,r=a(r,n,i,u,t[5],5,-701558691),n,i,t[10],9,38016083),r,n,t[15],14,-660478335),u,r,t[4],20,-405537848),i=a(i,u=a(u,r=a(r,n,i,u,t[9],5,568446438),n,i,t[14],9,-1019803690),r,n,t[3],14,-187363961),u,r,t[8],20,1163531501),i=a(i,u=a(u,r=a(r,n,i,u,t[13],5,-1444681467),n,i,t[2],9,-51403784),r,n,t[7],14,1735328473),u,r,t[12],20,-1926607734),i=s(i,u=s(u,r=s(r,n,i,u,t[5],4,-378558),n,i,t[8],11,-2022574463),r,n,t[11],16,1839030562),u,r,t[14],23,-35309556),i=s(i,u=s(u,r=s(r,n,i,u,t[1],4,-1530992060),n,i,t[4],11,1272893353),r,n,t[7],16,-155497632),u,r,t[10],23,-1094730640),i=s(i,u=s(u,r=s(r,n,i,u,t[13],4,681279174),n,i,t[0],11,-358537222),r,n,t[3],16,-722521979),u,r,t[6],23,76029189),i=s(i,u=s(u,r=s(r,n,i,u,t[9],4,-640364487),n,i,t[12],11,-421815835),r,n,t[15],16,530742520),u,r,t[2],23,-995338651),i=c(i,u=c(u,r=c(r,n,i,u,t[0],6,-198630844),n,i,t[7],10,1126891415),r,n,t[14],15,-1416354905),u,r,t[5],21,-57434055),i=c(i,u=c(u,r=c(r,n,i,u,t[12],6,1700485571),n,i,t[3],10,-1894986606),r,n,t[10],15,-1051523),u,r,t[1],21,-2054922799),i=c(i,u=c(u,r=c(r,n,i,u,t[8],6,1873313359),n,i,t[15],10,-30611744),r,n,t[6],15,-1560198380),u,r,t[13],21,1309151649),i=c(i,u=c(u,r=c(r,n,i,u,t[4],6,-145523070),n,i,t[11],10,-1120210379),r,n,t[2],15,718787259),u,r,t[9],21,-343485551),e[0]=d(r,e[0]),e[1]=d(n,e[1]),e[2]=d(i,e[2]),e[3]=d(u,e[3])}function i(e,t,r,n,i,o){return t=d(d(t,e),d(n,o)),d(t<<i|t>>>32-i,r)}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function c(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}function u(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var l="0123456789abcdef".split("");function f(e){for(var t="",r=0;r<4;r++)t+=l[e>>8*r+4&15]+l[e>>8*r&15];return t}function p(e,t){return t||(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n>127&&n<2048?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}(e)),function(e){for(var t=0;t<e.length;t++)e[t]=f(e[t]);return e.join("")}(function(e){var t,r=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)n(i,u(e.substring(t-64,t)));e=e.substring(t-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(i,o),t=0;t<16;t++)o[t]=0;return o[14]=8*r,n(i,o),i}(e))}var d=function(e,t){return e+t&4294967295};"5d41402abc4b2a76b9719d911017c592"!=p("hello")&&(d=function(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}),e.exports=p},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||function(e,t){var r={},n=r.lib={},i=function(){},o=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;i<e;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<e;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new a.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var i=t[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,i=e.min(4*t,i),t){for(var c=0;c<t;c+=o)this._doProcessBlock(n,c);c=n.splice(0,t),r.sigBytes-=i}return new a.init(c,i)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new p.HMAC.init(e,r).finalize(t)}}});var p=r.algo={};return r}(Math);!function(){var e=r,t=(o=e.lib).WordArray,n=o.Hasher,i=[],o=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=0;80>u;u++){if(16>u)i[u]=0|e[t+u];else{var l=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=l<<1|l>>>31}l=(n<<5|n>>>27)+c+i[u],l=20>u?l+(1518500249+(o&a|~o&s)):40>u?l+(1859775393+(o^a^s)):60>u?l+((o&a|o&s|a&s)-1894007588):l+((o^a^s)-899497514),c=s,s=a,a=o<<30|o>>>2,o=n,n=l}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(o),e.HmacSHA1=n._createHmacHelper(o)}(),function(){var e=r,t=e.enc.Utf8;e.algo.HMAC=e.lib.Base.extend({init:function(e,r){e=this._hasher=new e.init,"string"==typeof r&&(r=t.parse(r));var n=e.blockSize,i=4*n;r.sigBytes>i&&(r=e.finalize(r)),r.clamp();for(var o=this._oKey=r.clone(),a=this._iKey=r.clone(),s=o.words,c=a.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e=r,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var r=e.length,n=this._map,i=n.charAt(64);if(i){var o=e.indexOf(i);-1!=o&&(r=o)}for(var a=[],s=0,c=0;c<r;c++)if(c%4){var u=n.indexOf(e.charAt(c-1))<<c%4*2,l=n.indexOf(e.charAt(c))>>>6-c%4*2;a[s>>>2]|=(u|l)<<24-s%4*8,s++}return t.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),"object"===t(e)?e.exports=r:window.CryptoJS=r}).call(this,r(36)(e))},function(e,t,r){"use strict";var n=r(232).DOMParser,i=function(){this.version="1.3.5";var e={mergeCDATA:!0,normalize:!0,stripElemPrefix:!0},t=new RegExp(/(?!xmlns)^.*:/);new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){if(e){var r=this.stringToXML(e);return r.getElementsByTagName("parsererror").length?null:this.parseXML(r,t)}return null},this.parseXML=function(r,n){for(var o in n)e[o]=n[o];var a={},s=0,c="";if(r.childNodes.length)for(var u,l,f,p=0;p<r.childNodes.length;p++)4===(u=r.childNodes.item(p)).nodeType?e.mergeCDATA&&(c+=u.nodeValue):3===u.nodeType?c+=u.nodeValue:1===u.nodeType&&(0===s&&(a={}),l=e.stripElemPrefix?u.nodeName.replace(t,""):u.nodeName,f=i.parseXML(u),a.hasOwnProperty(l)?(a[l].constructor!==Array&&(a[l]=[a[l]]),a[l].push(f)):(a[l]=f,s++));return Object.keys(a).length||(a=c||""),a},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new n).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t)}catch(e){return null}},this}.call({});e.exports=function(e){return i.parseString(e)}},function(e,t,r){"use strict";function n(e){this.options=e||{locator:{}}}function i(){this.cdata=!1}function o(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function a(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function s(e,t,r){return"string"==typeof e?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}n.prototype.parseFromString=function(e,t){var r=this.options,n=new u,o=r.domBuilder||new i,s=r.errorHandler,c=r.locator,l=r.xmlns||{},f={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&o.setDocumentLocator(c),n.errorHandler=function(e,t,r){if(!e){if(t instanceof i)return t;e=t}var n={},o=e instanceof Function;function s(t){var i=e[t];!i&&o&&(i=2==e.length?function(r){e(t,r)}:e),n[t]=i&&function(e){i("[xmldom "+t+"]\t"+e+a(r))}||function(){}}return r=r||{},s("warning"),s("error"),s("fatalError"),n}(s,o,c),n.domBuilder=r.domBuilder||o,/\/x?html?$/.test(t)&&(f.nbsp=" ",f.copy="©",l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e?n.parse(e,l,f):n.errorHandler.error("invalid doc source"),o.doc},i.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;c(this,a),this.currentElement=a,this.locator&&o(this.locator,a);for(var u=0;u<s;u++){e=n.getURI(u);var l=n.getValue(u),f=(r=n.getQName(u),i.createAttributeNS(e,r));this.locator&&o(n.getLocator(u),f),f.value=f.nodeValue=l,a.setAttributeNode(f)}},endElement:function(e,t,r){var n=this.currentElement;n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&o(this.locator,r),c(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=s.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&o(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=s.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&o(this.locator,n),c(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&o(this.locator,i),c(this,i)}},warning:function(e){console.warn("[xmldom warning]\t"+e,a(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,a(this.locator))},fatalError:function(e){throw console.error("[xmldom fatalError]\t"+e,a(this.locator)),e}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){i.prototype[e]=function(){return null}});var u=r(233).XMLReader,l=t.DOMImplementation=r(128).DOMImplementation;t.XMLSerializer=r(128).XMLSerializer,t.DOMParser=n},function(e,t,r){"use strict";var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,i=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+i.source+"*(?::"+n.source+i.source+"*)?$"),a=0,s=1,c=2,u=3,l=4,f=5,p=6,d=7;function h(){}function m(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function v(e,t,r,n,i,o){for(var h,m=++t,v=a;;){var _=e.charAt(m);switch(_){case"=":if(v===s)h=e.slice(t,m),v=u;else{if(v!==c)throw new Error("attribute equal must after attrName");v=u}break;case"'":case'"':if(v===u||v===s){if(v===s&&(o.warning('attribute value must after "="'),h=e.slice(t,m)),t=m+1,!((m=e.indexOf(_,t))>0))throw new Error("attribute value no end '"+_+"' match");g=e.slice(t,m).replace(/&#?\w+;/g,i),r.add(h,g,t-1),v=f}else{if(v!=l)throw new Error('attribute value must after "="');g=e.slice(t,m).replace(/&#?\w+;/g,i),r.add(h,g,t),o.warning('attribute "'+h+'" missed start quot('+_+")!!"),t=m+1,v=f}break;case"/":switch(v){case a:r.setTagName(e.slice(t,m));case f:case p:case d:v=d,r.closed=!0;case l:case s:case c:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),v==a&&r.setTagName(e.slice(t,m)),m;case">":switch(v){case a:r.setTagName(e.slice(t,m));case f:case p:case d:break;case l:case s:"/"===(g=e.slice(t,m)).slice(-1)&&(r.closed=!0,g=g.slice(0,-1));case c:v===c&&(g=h),v==l?(o.warning('attribute "'+g+'" missed quot(")!!'),r.add(h,g.replace(/&#?\w+;/g,i),t)):("http://www.w3.org/1999/xhtml"===n[""]&&g.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+g+'" missed value!! "'+g+'" instead!!'),r.add(g,g,t));break;case u:throw new Error("attribute value missed!!")}return m;case"":_=" ";default:if(_<=" ")switch(v){case a:r.setTagName(e.slice(t,m)),v=p;break;case s:h=e.slice(t,m),v=c;break;case l:var g=e.slice(t,m).replace(/&#?\w+;/g,i);o.warning('attribute "'+g+'" missed quot(")!!'),r.add(h,g,t);case f:v=p}else switch(v){case c:r.tagName;"http://www.w3.org/1999/xhtml"===n[""]&&h.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+h+'" missed value!! "'+h+'" instead2!!'),r.add(h,h,t),t=m,v=s;break;case f:o.warning('attribute space is required"'+h+'"!!');case p:v=s,t=m;break;case u:v=l,t=m;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}m++}}function _(e,t,r){for(var n=e.tagName,i=null,o=e.length;o--;){var a=e[o],s=a.qName,c=a.value;if((p=s.indexOf(":"))>0)var u=a.prefix=s.slice(0,p),l=s.slice(p+1),f="xmlns"===u&&l;else l=s,u=null,f="xmlns"===s&&"";a.localName=l,!1!==f&&(null==i&&(i={},b(r,r={})),r[f]=i[f]=c,a.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(f,c))}for(o=e.length;o--;){(u=(a=e[o]).prefix)&&("xml"===u&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(a.uri=r[u||""]))}var p;(p=n.indexOf(":"))>0?(u=e.prefix=n.slice(0,p),l=e.localName=n.slice(p+1)):(u=null,l=e.localName=n);var d=e.uri=r[u||""];if(t.startElement(d,l,n,e),!e.closed)return e.currentNSMap=r,e.localNSMap=i,!0;if(t.endElement(d,l,n),i)for(u in i)t.endPrefixMapping(u)}function g(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var o=e.indexOf("</"+r+">",t),a=e.substring(t+1,o);if(/[&<]/.test(a))return/^script$/i.test(r)?(i.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),i.characters(a,0,a.length),o)}return t+1}function y(e,t,r,n){var i=n[r];return null==i&&((i=e.lastIndexOf("</"+r+">"))<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function b(e,t){for(var r in e)t[r]=e[r]}function w(e,t,r,n){switch(e.charAt(t+2)){case"-":return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(r.comment(e,t+4,i-t-4),i+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,i-t-9),r.endCDATA(),i+3}var o=function(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;r=i.exec(e);)if(n.push(r),r[1])return n}(e,t),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],c=a>3&&/^public$/i.test(o[2][0])&&o[3][0],u=a>4&&o[4][0],l=o[a-1];return r.startDTD(s,c&&c.replace(/^(['"])(.*?)\1$/,"$2"),u&&u.replace(/^(['"])(.*?)\1$/,"$2")),r.endDTD(),l.index+l[0].length}}return-1}function S(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return r.processingInstruction(i[1],i[2]),n+2}return-1}return-1}function x(e){}function E(e,t){return e.__proto__=t,e}h.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),b(t,t={}),function(e,t,r,n,i){function o(e){var t=e.slice(1,-1);return t in r?r[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),r=56320+(1023&e);return String.fromCharCode(t,r)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(i.error("entity not found:"+e),e)}function a(t){if(t>h){var r=e.substring(h,t).replace(/&#?\w+;/g,o);f&&s(h),n.characters(r,0,t-h),h=t}}function s(t,r){for(;t>=u&&(r=l.exec(e));)c=r.index,u=c+r[0].length,f.lineNumber++;f.columnNumber=t-c+1}var c=0,u=0,l=/.*(?:\r\n?|\n)|.*$/g,f=n.locator,p=[{currentNSMap:t}],d={},h=0;for(;;){try{var b=e.indexOf("<",h);if(b<0){if(!e.substr(h).match(/^\s*$/)){var E=n.doc,k=E.createTextNode(e.substr(h));E.appendChild(k),n.currentElement=k}return}switch(b>h&&a(b),e.charAt(b+1)){case"/":var T=e.indexOf(">",b+3),R=e.substring(b+2,T),C=p.pop();T<0?(R=e.substring(b+2).replace(/[\s<].*/,""),i.error("end tag name: "+R+" is not complete:"+C.tagName),T=b+1+R.length):R.match(/\s</)&&(R=R.replace(/[\s<].*/,""),i.error("end tag name: "+R+" maybe not complete"),T=b+1+R.length);var A=C.localNSMap,P=C.tagName==R,O=P||C.tagName&&C.tagName.toLowerCase()==R.toLowerCase();if(O){if(n.endElement(C.uri,C.localName,R),A)for(var M in A)n.endPrefixMapping(M);P||i.fatalError("end tag name: "+R+" is not match the current start tagName:"+C.tagName)}else p.push(C);T++;break;case"?":f&&s(b),T=S(e,b,n);break;case"!":f&&s(b),T=w(e,b,n,i);break;default:f&&s(b);var I=new x,N=p[p.length-1].currentNSMap,T=v(e,b,I,N,o,i),j=I.length;if(!I.closed&&y(e,T,I.tagName,d)&&(I.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),f&&j){for(var D=m(f,{}),B=0;B<j;B++){var L=I[B];s(L.offset),L.locator=m(f,{})}n.locator=D,_(I,n,N)&&p.push(I),n.locator=f}else _(I,n,N)&&p.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?T++:T=g(e,T,I.tagName,o,n)}}catch(e){i.error("element parse error: "+e),T=-1}T>h?h=T:a(Math.max(b,h)+1)}}(e,t,r,n,this.errorHandler),n.endDocument()}},x.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,t,r){if(!o.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},E({},E.prototype)instanceof E||(E=function(e,t){function r(){}for(t in r.prototype=t,r=new r,e)r[t]=e[t];return r}),t.XMLReader=h},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=new RegExp("^([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�])|^((x|X)(m|M)(l|L))|([^a-zA-Z_À-ÖØ-öø-ÿͰ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿿、-퟿豈-﷏ﷰ-�-.0-9·̀-ͯ‿⁀])","g"),o=/[^\x09\x0A\x0D\x20-\xFF\x85\xA0-\uD7FF\uE000-\uFDCF\uFDE0-\uFFFD]/gm,a=function(e){var t=[];if(e instanceof Object)for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t},s=function(e,t){var r=function(e,r,n,o,a){var s=void 0!==t.indent?t.indent:"\t",c=t.prettyPrint?"\n"+new Array(o).join(s):"";t.removeIllegalNameCharacters&&(e=e.replace(i,"_"));var u=[c,"<",e,n||""];return r&&r.length>0?(u.push(">"),u.push(r),a&&u.push(c),u.push("</"),u.push(e),u.push(">")):u.push("/>"),u.join("")};return function e(i,s,c){var u=void 0===i?"undefined":n(i);switch((Array.isArray?Array.isArray(i):i instanceof Array)?u="array":i instanceof Date&&(u="date"),u){case"array":var l=[];return i.map(function(t){l.push(e(t,1,c+1))}),t.prettyPrint&&l.push("\n"),l.join("");case"date":return i.toJSON?i.toJSON():i+"";case"object":var f=[];for(var p in i)if(i.hasOwnProperty(p))if(i[p]instanceof Array)for(var d=0;d<i[p].length;d++)i[p].hasOwnProperty(d)&&f.push(r(p,e(i[p][d],0,c+1),null,c+1,a(i[p][d]).length));else f.push(r(p,e(i[p],0,c+1),null,c+1));return t.prettyPrint&&f.length>0&&f.push("\n"),f.join("");case"function":return i();default:return t.escape?function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(o,"")}(i):""+i}}(e,0,0)},c=function(e){var t=['<?xml version="1.0" encoding="UTF-8"'];return e&&t.push(' standalone="yes"'),t.push("?>"),t.join("")};e.exports=function(e,t){if(t||(t={xmlHeader:{standalone:!0},prettyPrint:!0,indent:"  ",escape:!0}),"string"==typeof e)try{e=JSON.parse(e.toString())}catch(e){return!1}var r="",i="";return t&&("object"==(void 0===t?"undefined":n(t))?(t.xmlHeader&&(r=c(!!t.xmlHeader.standalone)),void 0!==t.docType&&(i="<!DOCTYPE "+t.docType+">")):r=c()),[r,(t=t||{}).prettyPrint&&i?"\n":"",i,s(e,t)].join("").replace(/\n{2,}/g,"\n").replace(/\s+$/g,"")}},function(e,t,r){"use strict";var n=r(63),i={};e.exports.transferToTaskMethod=function(e,t){i[t]=e[t],e[t]=function(e,r){e.SkipTask?i[t].call(this,e,r):this._addTask(t,e,r)}},e.exports.init=function(e){var t=[],r={},o=0,a=0,s=function(e){var t={id:e.id,Bucket:e.Bucket,Region:e.Region,Key:e.Key,FilePath:e.FilePath,state:e.state,loaded:e.loaded,size:e.size,speed:e.speed,percent:e.percent,hashPercent:e.hashPercent,error:e.error};return e.FilePath&&(t.FilePath=e.FilePath),t},c=function(){e.emit("task-list-update",{list:n.map(t,s)}),e.emit("list-update",{list:n.map(t,s)})},u=function(){var n;if(t.length>e.options.UploadQueueSize)for(n=0;n<t.length&&t.length>e.options.UploadQueueSize&&n<a;n++){var i="waiting"===t[n].state||"checking"===t[n].state||"uploading"===t[n].state;t[n]&&i||(r[t[n].id]&&delete r[t[n].id],t.splice(n,1),a--)}},l=function r(){if(a<t.length&&o<e.options.FileParallelLimit){var l=t[a];if(a++,"waiting"===l.state){o++,l.state="checking",l.params.onTaskStart&&l.params.onTaskStart(s(l)),!l.params.UploadData&&(l.params.UploadData={});var f=n.formatParams(l.api,l.params);i[l.api].call(e,f,function(t,n){e._isRunningTask(l.id)&&("checking"!==l.state&&"uploading"!==l.state||(l.state=t?"error":"success",t&&(l.error=t),o--,c(),r(),l.callback&&l.callback(t,n),"success"===l.state&&(l.params&&(delete l.params.UploadData,delete l.params.Body,delete l.params),delete l.callback)),u())}),c()}r()}},f=function(t,n){var i=r[t];if(i){var a=i&&"waiting"===i.state,s=i&&("checking"===i.state||"uploading"===i.state);if("canceled"===n&&"canceled"!==i.state||"paused"===n&&a||"paused"===n&&s){if("paused"===n&&i.params.Body&&"function"==typeof i.params.Body.pipe)return void console.error("stream not support pause");i.state=n,e.emit("inner-kill-task",{TaskId:t,toState:n}),c(),s&&(o--,l()),"canceled"===n&&(i.params&&(delete i.params.UploadData,delete i.params.Body,delete i.params),delete i.callback)}u()}};e._addTasks=function(t){n.each(t,function(t){e._addTask(t.api,t.params,t.callback,!0)}),c()};var p=!0;e._addTask=function(i,o,a,s){o=n.formatParams(i,o);var f=n.uuid();o.TaskId=f,o.onTaskReady&&o.onTaskReady(f),o.TaskReady&&(o.TaskReady(f),p&&console.warn('warning: Param "TaskReady" has been deprecated. Please use "onTaskReady" instead.'),p=!1);var d={params:o,callback:a,api:i,index:t.length,id:f,Bucket:o.Bucket,Region:o.Region,Key:o.Key,FilePath:o.FilePath||"",state:"waiting",loaded:0,size:0,speed:0,percent:0,hashPercent:0,error:null},h=o.onHashProgress;o.onHashProgress=function(t){e._isRunningTask(d.id)&&(d.hashPercent=t.percent,h&&h(t),c())};var m=o.onProgress;return o.onProgress=function(t){e._isRunningTask(d.id)&&("checking"===d.state&&(d.state="uploading"),d.loaded=t.loaded,d.speed=t.speed,d.percent=t.percent,m&&m(t),c())},n.getFileSize(i,o,function(e,n){e?a(e):(r[f]=d,t.push(d),d.size=n,!s&&c(),l(),u())}),f},e._isRunningTask=function(e){var t=r[e];return!(!t||"checking"!==t.state&&"uploading"!==t.state)},e.getTaskList=function(){return n.map(t,s)},e.cancelTask=function(e){f(e,"canceled")},e.pauseTask=function(e){f(e,"paused")},e.restartTask=function(e){var t=r[e];!t||"paused"!==t.state&&"error"!==t.state||(t.state="waiting",c(),a=Math.min(a,t.index),l())},e.isUploadRunning=function(){return o||a<t.length}}},function(e,t,r){"use strict";var n=r(237),i=r(63);function o(e){var t={GrantFullControl:[],GrantWrite:[],GrantRead:[],GrantReadAcp:[],GrantWriteAcp:[],ACL:""},r={FULL_CONTROL:"GrantFullControl",WRITE:"GrantWrite",READ:"GrantRead",READ_ACP:"GrantReadAcp",WRITE_ACP:"GrantWriteAcp"},n=e.AccessControlList.Grant;n&&(n=i.isArray(n)?n:[n]);var o={READ:0,WRITE:0,FULL_CONTROL:0};return n.length&&i.each(n,function(n){"qcs::cam::anyone:anyone"===n.Grantee.ID||"http://cam.qcloud.com/groups/global/AllUsers"===n.Grantee.URI?o[n.Permission]=1:n.Grantee.ID!==e.Owner.ID&&t[r[n.Permission]].push('id="'+n.Grantee.ID+'"')}),o.FULL_CONTROL||o.WRITE&&o.READ?t.ACL="public-read-write":o.READ?t.ACL="public-read":t.ACL="private",i.each(r,function(e){t[e]=a(t[e].join(","))}),t}function a(e){var t,r,n=e.split(","),i={};for(t=0;t<n.length;)i[r=n[t].trim()]?n.splice(t,1):(i[r]=!0,n[t]=r,t++);return n.join(",")}function s(e){var t=e.bucket,r=t.substr(0,t.lastIndexOf("-")),n=t.substr(t.lastIndexOf("-")+1),o=e.domain,a=e.region,s=e.object,c=e.protocol||(i.isBrowser&&"http:"===location.protocol?"http:":"https:");o||(o=["cn-south","cn-south-2","cn-north","cn-east","cn-southwest","sg"].indexOf(a)>-1?"{Region}.myqcloud.com":"cos.{Region}.myqcloud.com",e.ForcePathStyle||(o="{Bucket}."+o)),o=(o=o.replace(/\{\{AppId\}\}/gi,n).replace(/\{\{Bucket\}\}/gi,r).replace(/\{\{Region\}\}/gi,a).replace(/\{\{.*?\}\}/gi,"")).replace(/\{AppId\}/gi,n).replace(/\{BucketName\}/gi,r).replace(/\{Bucket\}/gi,t).replace(/\{Region\}/gi,a).replace(/\{.*?\}/gi,""),/^[a-zA-Z]+:\/\//.test(o)||(o=c+"//"+o),"/"===o.slice(-1)&&(o=o.slice(0,-1));var u=o;return e.ForcePathStyle&&(u+="/"+t),u+="/",s&&(u+=i.camSafeUrlEncode(s).replace(/%2F/g,"/")),e.isLocation&&(u=u.replace(/^https?:\/\//,"")),u}function c(e,t){var r=i.clone(e.Headers);delete r["Content-Type"],delete r["Cache-Control"],i.each(r,function(e,t){""===e&&delete r[t]});var n=function(e){var r=!1,n=e.Authorization;if(n)if(n.indexOf(" ")>-1)r=!1;else if(n.indexOf("q-sign-algorithm=")>-1&&n.indexOf("q-ak=")>-1&&n.indexOf("q-sign-time=")>-1&&n.indexOf("q-key-time=")>-1&&n.indexOf("q-url-param-list=")>-1)r=!0;else try{(n=atob(n)).indexOf("a=")>-1&&n.indexOf("k=")>-1&&n.indexOf("t=")>-1&&n.indexOf("r=")>-1&&n.indexOf("b=")>-1&&(r=!0)}catch(e){}r?t&&t(null,e):t&&t("authorization error")},o=this,a=e.Bucket||"",s=e.Region||"",c=e.Key||"";o.options.ForcePathStyle&&a&&(c=a+"/"+c);var u="/"+c,l={},f=e.Scope;if(!f){var p=e.Action||"",d=e.ResourceKey||e.Key||"";f=e.Scope||[{action:p,bucket:a,region:s,prefix:d}]}var h=i.md5(JSON.stringify(f));o._StsCache=o._StsCache||[],function(){var e,t;for(e=o._StsCache.length-1;e>=0;e--){t=o._StsCache[e];var r=Math.round(i.getSkewTime(o.options.SystemClockOffset)/1e3)+30;if(t.StartTime&&r<t.StartTime||r>=t.ExpiredTime)o._StsCache.splice(e,1);else if(!t.ScopeLimit||t.ScopeLimit&&t.ScopeKey===h){l=t;break}}}();var m=function(){var t={Authorization:i.getAuth({SecretId:l.TmpSecretId,SecretKey:l.TmpSecretKey,Method:e.Method,Pathname:u,Query:e.Query,Headers:r,UseRawKey:o.options.UseRawKey,SystemClockOffset:o.options.SystemClockOffset}),XCosSecurityToken:l.XCosSecurityToken||"",Token:l.Token||"",ClientIP:l.ClientIP||"",ClientUA:l.ClientUA||""};n(t)};if(l.ExpiredTime&&l.ExpiredTime-i.getSkewTime(o.options.SystemClockOffset)/1e3>60)m();else if(o.options.getAuthorization)o.options.getAuthorization.call(o,{Bucket:a,Region:s,Method:e.Method,Key:c,Pathname:u,Query:e.Query,Headers:r,Scope:f},function(e){"string"==typeof e&&(e={Authorization:e}),e.TmpSecretId&&e.TmpSecretKey&&e.XCosSecurityToken&&e.ExpiredTime?((l=e||{}).Scope=f,l.ScopeKey=h,o._StsCache.push(l),m()):n(e)});else{if(!o.options.getSTS)return function(){var t={Authorization:i.getAuth({SecretId:e.SecretId||o.options.SecretId,SecretKey:e.SecretKey||o.options.SecretKey,Method:e.Method,Pathname:u,Query:e.Query,Headers:r,Expires:e.Expires,UseRawKey:o.options.UseRawKey,SystemClockOffset:o.options.SystemClockOffset}),XCosSecurityToken:o.options.XCosSecurityToken};return n(t),t}();o.options.getSTS.call(o,{Bucket:a,Region:s},function(e){(l=e||{}).Scope=f,l.ScopeKey=h,l.TmpSecretId=l.SecretId,l.TmpSecretKey=l.SecretKey,o._StsCache.push(l),m()})}return""}function u(e,t){var r=this;!e.headers&&(e.headers={}),!e.qs&&(e.qs={}),e.VersionId&&(e.qs.versionId=e.VersionId),e.qs=i.clearKey(e.qs),e.headers&&(e.headers=i.clearKey(e.headers)),e.qs&&(e.qs=i.clearKey(e.qs));var o=i.clone(e.qs);e.action&&(o[e.action]="");!function a(u){var l=r.options.SystemClockOffset;c.call(r,{Bucket:e.Bucket||"",Region:e.Region||"",Method:e.method,Key:e.Key,Query:o,Headers:e.headers,Action:e.Action,ResourceKey:e.ResourceKey,Scope:e.Scope},function(o,c){e.AuthData=c,function(e,t){var r=this,o=e.TaskId;if(!o||r._isRunningTask(o)){var a=e.Bucket,c=e.Region,u=e.Key,l=e.method||"GET",f=e.url,p=e.body,d=e.json,h=e.rawBody;f=f||s({ForcePathStyle:r.options.ForcePathStyle,protocol:r.options.Protocol,domain:r.options.Domain,bucket:a,region:c,object:u}),e.action&&(f=f+"?"+e.action);var m={method:l,url:f,headers:e.headers,qs:e.qs,body:p,json:d};if(m.headers.Authorization=e.AuthData.Authorization,e.AuthData.Token&&(m.headers.token=e.AuthData.Token),e.AuthData.ClientIP&&(m.headers.clientIP=e.AuthData.ClientIP),e.AuthData.ClientUA&&(m.headers.clientUA=e.AuthData.ClientUA),e.AuthData.XCosSecurityToken&&(m.headers["x-cos-security-token"]=e.AuthData.XCosSecurityToken),m.headers&&(m.headers=i.clearKey(m.headers)),m=i.clearKey(m),e.onProgress&&"function"==typeof e.onProgress){var v=p&&(p.size||p.length)||0;m.onProgress=function(t){if(!o||r._isRunningTask(o)){var n=t?t.loaded:0;e.onProgress({loaded:n,total:v})}}}this.options.Timeout&&(m.timeout=this.options.Timeout),r.emit("before-send",m);var _=n(m,function(e,n,a){if("abort"!==e){var s,c=function(e,a){if(o&&r.off("inner-kill-task",g),!s){s=!0;var c={};n&&n.statusCode&&(c.statusCode=n.statusCode),n&&n.headers&&(c.headers=n.headers),e?(e=i.extend(e||{},c),t(e,null)):(a=i.extend(a||{},c),t(null,a)),_=null}};if(e)c({error:e});else{var u;try{u=a&&a.indexOf("<")>-1&&a.indexOf(">")>-1&&i.xml2json(a)||{}}catch(e){u=a||{}}var l=n.statusCode,f=2===Math.floor(l/100);f?(h&&((u={}).body=a),u.Error?c({error:u.Error}):c(null,u)):c({error:u.Error||u})}}}),g=function e(t){t.TaskId===o&&(_&&_.abort&&_.abort(),r.off("inner-kill-task",e))};o&&r.on("inner-kill-task",g)}}.call(r,e,function(n,o){n&&u<2&&(l!==r.options.SystemClockOffset||function(e){var t=!1,r=!1,n=e.headers&&(e.headers.date||e.headers.Date)||e.error&&e.error.ServerTime;try{var o=e.error.Code,a=e.error.Message;("RequestTimeTooSkewed"===o||"AccessDenied"===o&&"Request has expired"===a)&&(r=!0)}catch(e){}if(e)if(r&&n){var s=Date.parse(n);this.options.CorrectClockSkew&&Math.abs(i.getSkewTime(this.options.SystemClockOffset)-s)>=3e4&&(console.error("error: Local time is too skewed."),this.options.SystemClockOffset=s-Date.now(),t=!0)}else 5===Math.round(e.statusCode/100)&&(t=!0);return t}.call(r,n))?(e.headers&&(delete e.headers.Authorization,delete e.headers.token,delete e.headers.clientIP,delete e.headers.clientUA,delete e.headers["x-cos-security-token"]),a(u+1)):t(n,o)})})}(0)}var l={getBucket:function(e,t){var r={};r.prefix=e.Prefix||"",r.delimiter=e.Delimiter,r.marker=e.Marker,r["max-keys"]=e.MaxKeys,r["encoding-type"]=e.EncodingType,u.call(this,{Action:"name/cos:GetBucket",ResourceKey:r.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:r},function(e,r){if(e)return t(e);var n=r.ListBucketResult||{},o=n.Contents||[],a=n.CommonPrefixes||[];o=i.isArray(o)?o:[o],a=i.isArray(a)?a:[a];var s=i.clone(n);i.extend(s,{Contents:o,CommonPrefixes:a,statusCode:r.statusCode,headers:r.headers}),t(null,s)})},headBucket:function(e,t){u.call(this,{Action:"name/cos:HeadBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"HEAD"},function(e,r){t(e,r)})},deleteBucket:function(e,t){u.call(this,{Action:"name/cos:DeleteBucket",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,method:"DELETE"},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},getBucketAcl:function(e,t){u.call(this,{Action:"name/cos:GetBucketACL",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"acl"},function(e,r){if(e)return t(e);var n=r.AccessControlPolicy||{},a=n.Owner||{},s=n.AccessControlList.Grant||[];s=i.isArray(s)?s:[s];var c=o(n);r.headers&&r.headers["x-cos-acl"]&&(c.ACL=r.headers["x-cos-acl"]),c=i.extend(c,{Owner:a,Grants:s,statusCode:r.statusCode,headers:r.headers}),t(null,c)})},putBucketAcl:function(e,t){var r=e.Headers,n="";if(e.AccessControlPolicy){var o=i.clone(e.AccessControlPolicy||{}),s=o.Grants||o.Grant;s=i.isArray(s)?s:[s],delete o.Grant,delete o.Grants,o.AccessControlList={Grant:s},n=i.json2xml({AccessControlPolicy:o}),r["Content-Type"]="application/xml",r["Content-MD5"]=i.binaryBase64(i.md5(n))}i.each(r,function(e,t){0===t.indexOf("x-cos-grant-")&&(r[t]=a(r[t]))}),u.call(this,{Action:"name/cos:PutBucketACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,headers:r,action:"acl",body:n},function(e,r){if(e)return t(e);t(null,{statusCode:r.statusCode,headers:r.headers})})},getBucketCors:function(e,t){u.call(this,{Action:"name/cos:GetBucketCORS",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,r){if(e)if(404===e.statusCode&&e.error&&"NoSuchCORSConfiguration"===e.error.Code){var n={CORSRules:[],statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else t(e);else{var o=r.CORSConfiguration||{},a=o.CORSRules||o.CORSRule||[];a=i.clone(i.isArray(a)?a:[a]),i.each(a,function(e){i.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t,r){var n=t+"s",o=e[n]||e[t]||[];delete e[t],e[n]=i.isArray(o)?o:[o]})}),t(null,{CORSRules:a,statusCode:r.statusCode,headers:r.headers})}})},putBucketCors:function(e,t){var r=(e.CORSConfiguration||{}).CORSRules||e.CORSRules||[];r=i.clone(i.isArray(r)?r:[r]),i.each(r,function(e){i.each(["AllowedOrigin","AllowedHeader","AllowedMethod","ExposeHeader"],function(t,r){var n=t+"s",o=e[n]||e[t]||[];delete e[n],e[t]=i.isArray(o)?o:[o]})});var n=i.json2xml({CORSConfiguration:{CORSRule:r}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=i.binaryBase64(i.md5(n)),u.call(this,{Action:"name/cos:PutBucketCORS",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:n,action:"cors",headers:o},function(e,r){if(e)return t(e);t(null,{statusCode:r.statusCode,headers:r.headers})})},deleteBucketCors:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketCORS",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"cors"},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode||e.statusCode,headers:r.headers})})},getBucketLocation:function(e,t){u.call(this,{Action:"name/cos:GetBucketLocation",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"location"},function(e,r){if(e)return t(e);t(null,r)})},putBucketTagging:function(e,t){var r=e.Tagging||{},n=r.TagSet||r.Tags||e.Tags||[];n=i.clone(i.isArray(n)?n:[n]);var o=i.json2xml({Tagging:{TagSet:{Tag:n}}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o)),u.call(this,{Action:"name/cos:PutBucketTagging",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:o,action:"tagging",headers:a},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},getBucketTagging:function(e,t){u.call(this,{Action:"name/cos:GetBucketTagging",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,r){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"NoSuchTagSet"!==e.error.Code)t(e);else{var n={Tags:[],statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else{var o=[];try{o=r.Tagging.TagSet.Tag||[]}catch(e){}o=i.clone(i.isArray(o)?o:[o]),t(null,{Tags:o,statusCode:r.statusCode,headers:r.headers})}})},deleteBucketTagging:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketTagging",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"tagging"},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},getBucketPolicy:function(e,t){u.call(this,{Action:"name/cos:GetBucketPolicy",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy",rawBody:!0},function(e,r){if(e)return e.statusCode&&403===e.statusCode?t({ErrorStatus:"Access Denied"}):e.statusCode&&405===e.statusCode?t({ErrorStatus:"Method Not Allowed"}):e.statusCode&&404===e.statusCode?t({ErrorStatus:"Policy Not Found"}):t(e);var n={};try{n=JSON.parse(r.body)}catch(e){}t(null,{Policy:n,statusCode:r.statusCode,headers:r.headers})})},putBucketPolicy:function(e,t){var r=e.Policy,n=r;try{"string"==typeof r?r=JSON.parse(n):n=JSON.stringify(r)}catch(e){t({error:"Policy format error"})}var o=e.Headers;o["Content-Type"]="application/json",o["Content-MD5"]=i.binaryBase64(i.md5(n)),u.call(this,{Action:"name/cos:PutBucketPolicy",method:"PUT",Bucket:e.Bucket,Region:e.Region,action:"policy",body:i.isBrowser?n:r,headers:o,json:!0},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},deleteBucketPolicy:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketPolicy",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"policy"},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode||e.statusCode,headers:r.headers})})},getBucketLifecycle:function(e,t){u.call(this,{Action:"name/cos:GetBucketLifecycle",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,r){if(e)if(404===e.statusCode&&e.error&&"NoSuchLifecycleConfiguration"===e.error.Code){var n={Rules:[],statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else t(e);else{var o=[];try{o=r.LifecycleConfiguration.Rule||[]}catch(e){}o=i.clone(i.isArray(o)?o:[o]),t(null,{Rules:o,statusCode:r.statusCode,headers:r.headers})}})},putBucketLifecycle:function(e,t){var r=(e.LifecycleConfiguration||{}).Rules||[];r=i.clone(r);var n=i.json2xml({LifecycleConfiguration:{Rule:r}}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=i.binaryBase64(i.md5(n)),u.call(this,{Action:"name/cos:PutBucketLifecycle",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:n,action:"lifecycle",headers:o},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},deleteBucketLifecycle:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketLifecycle",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"lifecycle"},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},putBucketVersioning:function(e,t){if(e.VersioningConfiguration){var r=e.VersioningConfiguration||{},n=i.json2xml({VersioningConfiguration:r}),o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=i.binaryBase64(i.md5(n)),u.call(this,{Action:"name/cos:PutBucketVersioning",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:n,action:"versioning",headers:o},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})}else t({error:"missing param VersioningConfiguration"})},getBucketVersioning:function(e,t){u.call(this,{Action:"name/cos:GetBucketVersioning",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"versioning"},function(e,r){e||!r.VersioningConfiguration&&(r.VersioningConfiguration={}),t(e,r)})},putBucketReplication:function(e,t){var r=i.clone(e.ReplicationConfiguration),n=i.json2xml({ReplicationConfiguration:r});n=(n=n.replace(/<(\/?)Rules>/gi,"<$1Rule>")).replace(/<(\/?)Tags>/gi,"<$1Tag>");var o=e.Headers;o["Content-Type"]="application/xml",o["Content-MD5"]=i.binaryBase64(i.md5(n)),u.call(this,{Action:"name/cos:PutBucketReplication",method:"PUT",Bucket:e.Bucket,Region:e.Region,body:n,action:"replication",headers:o},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},getBucketReplication:function(e,t){u.call(this,{Action:"name/cos:GetBucketReplication",method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,r){if(e)if(404!==e.statusCode||!e.error||"Not Found"!==e.error&&"ReplicationConfigurationnotFoundError"!==e.error.Code)t(e);else{var n={ReplicationConfiguration:{Rules:[]},statusCode:e.statusCode};e.headers&&(n.headers=e.headers),t(null,n)}else e||!r.ReplicationConfiguration&&(r.ReplicationConfiguration={}),r.ReplicationConfiguration.Rule&&(r.ReplicationConfiguration.Rules=r.ReplicationConfiguration.Rule,delete r.ReplicationConfiguration.Rule),t(e,r)})},deleteBucketReplication:function(e,t){u.call(this,{Action:"name/cos:DeleteBucketReplication",method:"DELETE",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,action:"replication"},function(e,r){return e&&204===e.statusCode?t(null,{statusCode:e.statusCode}):e?t(e):void t(null,{statusCode:r.statusCode,headers:r.headers})})},getObject:function(e,t){var r={};r["response-content-type"]=e.ResponseContentType,r["response-content-language"]=e.ResponseContentLanguage,r["response-expires"]=e.ResponseExpires,r["response-cache-control"]=e.ResponseCacheControl,r["response-content-disposition"]=e.ResponseContentDisposition,r["response-content-encoding"]=e.ResponseContentEncoding,u.call(this,{Action:"name/cos:GetObject",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers,qs:r,rawBody:!0},function(r,n){if(r){var o=r.statusCode;return e.Headers["If-Modified-Since"]&&o&&304===o?t(null,{NotModified:!0}):t(r)}var a={};a.Body=n.body,n.headers&&n.headers.etag&&(a.ETag=n.headers&&n.headers.etag),i.extend(a,{statusCode:n.statusCode,headers:n.headers}),t(null,a)})},headObject:function(e,t){u.call(this,{Action:"name/cos:HeadObject",method:"HEAD",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(r,n){if(r){var i=r.statusCode;return e.Headers["If-Modified-Since"]&&i&&304===i?t(null,{NotModified:!0,statusCode:i}):t(r)}n.headers&&n.headers.etag&&(n.ETag=n.headers&&n.headers.etag),t(null,n)})},listObjectVersions:function(e,t){var r={};r.prefix=e.Prefix||"",r.delimiter=e.Delimiter,r["key-marker"]=e.KeyMarker,r["version-id-marker"]=e.VersionIdMarker,r["max-keys"]=e.MaxKeys,r["encoding-type"]=e.EncodingType,u.call(this,{Action:"name/cos:GetBucketObjectVersions",ResourceKey:r.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:r,action:"versions"},function(e,r){if(e)return t(e);var n=r.ListVersionsResult||{},o=n.DeleteMarker||[];o=i.isArray(o)?o:[o];var a=n.Version||[];a=i.isArray(a)?a:[a];var s=i.clone(n);delete s.DeleteMarker,delete s.Version,i.extend(s,{DeleteMarkers:o,Versions:a,statusCode:r.statusCode,headers:r.headers}),t(null,s)})},putObject:function(e,t){var r=this,n=e.ContentLength,o=i.throttleOnProgress.call(r,n,e.onProgress),a=e.Headers;!a["Cache-Control"]&&(a["Cache-Control"]="");var c=a["Content-Type"]||e.Body&&e.Body.type;!a["Content-Type"]&&c&&(a["Content-Type"]=c),i.getBodyMd5(r.options.UploadCheckContentMd5,e.Body,function(a){a&&(e.Headers["Content-MD5"]=i.binaryBase64(a)),void 0!==e.ContentLength&&(e.Headers["Content-Length"]=e.ContentLength),u.call(r,{Action:"name/cos:PutObject",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,body:e.Body,onProgress:o},function(i,a){if(i)return o(null,!0),t(i);if(o({loaded:n,total:n},!0),a&&a.headers&&a.headers.etag){var c=s({ForcePathStyle:r.options.ForcePathStyle,protocol:r.options.Protocol,domain:r.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});return c=c.substr(c.indexOf("://")+3),t(null,{Location:c,ETag:a.headers.etag,statusCode:a.statusCode,headers:a.headers})}t(null,a)})})},deleteObject:function(e,t){u.call(this,{Action:"name/cos:DeleteObject",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,VersionId:e.VersionId},function(e,r){if(e){var n=e.statusCode;return n&&204===n?t(null,{statusCode:n}):n&&404===n?t(null,{BucketNotFound:!0,statusCode:n}):t(e)}t(null,{statusCode:r.statusCode,headers:r.headers})})},getObjectAcl:function(e,t){u.call(this,{Action:"name/cos:GetObjectACL",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,action:"acl"},function(e,r){if(e)return t(e);var n=r.AccessControlPolicy||{},a=n.Owner||{},s=n.AccessControlList&&n.AccessControlList.Grant||[];s=i.isArray(s)?s:[s];var c=o(n);r.headers&&r.headers["x-cos-acl"]&&(c.ACL=r.headers["x-cos-acl"]),c=i.extend(c,{Owner:a,Grants:s,statusCode:r.statusCode,headers:r.headers}),t(null,c)})},putObjectAcl:function(e,t){var r=e.Headers,n="";if(e.AccessControlPolicy){var o=i.clone(e.AccessControlPolicy||{}),s=o.Grants||o.Grant;s=i.isArray(s)?s:[s],delete o.Grant,delete o.Grants,o.AccessControlList={Grant:s},n=i.json2xml({AccessControlPolicy:o}),r["Content-Type"]="application/xml",r["Content-MD5"]=i.binaryBase64(i.md5(n))}i.each(r,function(e,t){0===t.indexOf("x-cos-grant-")&&(r[t]=a(r[t]))}),u.call(this,{Action:"name/cos:PutObjectACL",method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"acl",headers:r,body:n},function(e,r){if(e)return t(e);t(null,{statusCode:r.statusCode,headers:r.headers})})},optionsObject:function(e,t){var r=e.Headers;r.Origin=e.Origin,r["Access-Control-Request-Method"]=e.AccessControlRequestMethod,r["Access-Control-Request-Headers"]=e.AccessControlRequestHeaders,u.call(this,{Action:"name/cos:OptionsObject",method:"OPTIONS",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:r},function(e,r){if(e)return e.statusCode&&403===e.statusCode?t(null,{OptionsForbidden:!0,statusCode:e.statusCode}):t(e);var n=r.headers||{};t(null,{AccessControlAllowOrigin:n["access-control-allow-origin"],AccessControlAllowMethods:n["access-control-allow-methods"],AccessControlAllowHeaders:n["access-control-allow-headers"],AccessControlExposeHeaders:n["access-control-expose-headers"],AccessControlMaxAge:n["access-control-max-age"],statusCode:r.statusCode,headers:r.headers})})},putObjectCopy:function(e,t){var r=e.Headers;!r["Cache-Control"]&&(r["Cache-Control"]="");var n=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(n){var o=n[1],a=n[3],s=decodeURIComponent(n[4]);u.call(this,{Scope:[{action:"name/cos:GetObject",bucket:o,region:a,prefix:s},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,headers:e.Headers},function(e,r){if(e)return t(e);var n=i.clone(r.CopyObjectResult||{});i.extend(n,{statusCode:r.statusCode,headers:r.headers}),t(null,n)})}else t({error:"CopySource format error"})},deleteMultipleObject:function(e,t){var r=e.Objects||[],n=e.Quiet;r=i.isArray(r)?r:[r];var o=i.json2xml({Delete:{Object:r,Quiet:n||!1}}),a=e.Headers;a["Content-Type"]="application/xml",a["Content-MD5"]=i.binaryBase64(i.md5(o));var s=i.map(r,function(t){return{action:"name/cos:DeleteObject",bucket:e.Bucket,region:e.Region,prefix:t.Key}});u.call(this,{Scope:s,method:"POST",Bucket:e.Bucket,Region:e.Region,body:o,action:"delete",headers:a},function(e,r){if(e)return t(e);var n=r.DeleteResult||{},o=n.Deleted||[],a=n.Error||[];o=i.isArray(o)?o:[o],a=i.isArray(a)?a:[a];var s=i.clone(n);i.extend(s,{Error:a,Deleted:o,statusCode:r.statusCode,headers:r.headers}),t(null,s)})},restoreObject:function(e,t){var r=e.Headers;if(e.RestoreRequest){var n=e.RestoreRequest||{},o=i.json2xml({RestoreRequest:n});r["Content-Type"]="application/xml",r["Content-MD5"]=i.binaryBase64(i.md5(o)),u.call(this,{Action:"name/cos:RestoreObject",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,body:o,action:"restore",headers:r},function(e,r){t(e,r)})}else t({error:"missing param RestoreRequest"})},uploadPartCopy:function(e,t){var r=(e.CopySource||"").match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(r){var n=r[1],o=r[3],a=decodeURIComponent(r[4]);u.call(this,{Scope:[{action:"name/cos:GetObject",bucket:n,region:o,prefix:a},{action:"name/cos:PutObject",bucket:e.Bucket,region:e.Region,prefix:e.Key}],method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,VersionId:e.VersionId,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers},function(e,r){if(e)return t(e);var n=i.clone(r.CopyPartResult||{});i.extend(n,{statusCode:r.statusCode,headers:r.headers}),t(null,n)})}else t({error:"CopySource format error"})},multipartInit:function(e,t){var r,n=e.Headers,o=(navigator&&navigator.userAgent||"").match(/ TBS\/(\d{6}) /);"http:"===location.protocol&&o&&o[1].length<=6&&o[1]<"044429"&&(r=i.json2xml({}),n["Content-MD5"]=i.binaryBase64(i.md5(r)),n["Content-Type"]||(n["Content-Type"]=e.Body&&e.Body.type||"application/octet-stream")),!n["Cache-Control"]&&(n["Cache-Control"]=""),u.call(this,{Action:"name/cos:InitiateMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,action:"uploads",headers:e.Headers,body:r},function(e,r){return e?t(e):(r=i.clone(r||{}))&&r.InitiateMultipartUploadResult?t(null,i.extend(r.InitiateMultipartUploadResult,{statusCode:r.statusCode,headers:r.headers})):void t(null,r)})},multipartUpload:function(e,t){var r=this;i.getFileSize("multipartUpload",e,function(){i.getBodyMd5(r.options.UploadCheckContentMd5,e.Body,function(n){n&&(e.Headers["Content-MD5"]=i.binaryBase64(n)),u.call(r,{Action:"name/cos:UploadPart",TaskId:e.TaskId,method:"PUT",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{partNumber:e.PartNumber,uploadId:e.UploadId},headers:e.Headers,onProgress:e.onProgress,body:e.Body||null},function(e,r){if(e)return t(e);r.headers=r.headers||{},t(null,{ETag:r.headers.etag||"",statusCode:r.statusCode,headers:r.headers})})})})},multipartComplete:function(e,t){for(var r=this,n=e.UploadId,o=e.Parts,a=0,c=o.length;a<c;a++)0!==o[a].ETag.indexOf('"')&&(o[a].ETag='"'+o[a].ETag+'"');var l=i.json2xml({CompleteMultipartUpload:{Part:o}}),f=e.Headers;f["Content-Type"]="application/xml",f["Content-MD5"]=i.binaryBase64(i.md5(l)),u.call(this,{Action:"name/cos:CompleteMultipartUpload",method:"POST",Bucket:e.Bucket,Region:e.Region,Key:e.Key,qs:{uploadId:n},body:l,headers:f},function(n,o){if(n)return t(n);var a=s({ForcePathStyle:r.options.ForcePathStyle,protocol:r.options.Protocol,domain:r.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key,isLocation:!0}),c=o.CompleteMultipartUploadResult||{},u=i.extend(c,{Location:a,statusCode:o.statusCode,headers:o.headers});t(null,u)})},multipartList:function(e,t){var r={};r.delimiter=e.Delimiter,r["encoding-type"]=e.EncodingType,r.prefix=e.Prefix||"",r["max-uploads"]=e.MaxUploads,r["key-marker"]=e.KeyMarker,r["upload-id-marker"]=e.UploadIdMarker,r=i.clearKey(r),u.call(this,{Action:"name/cos:ListMultipartUploads",ResourceKey:r.prefix,method:"GET",Bucket:e.Bucket,Region:e.Region,headers:e.Headers,qs:r,action:"uploads"},function(e,r){if(e)return t(e);if(r&&r.ListMultipartUploadsResult){var n=r.ListMultipartUploadsResult.Upload||[],o=r.ListMultipartUploadsResult.CommonPrefixes||[];o=i.isArray(o)?o:[o],n=i.isArray(n)?n:[n],r.ListMultipartUploadsResult.Upload=n,r.ListMultipartUploadsResult.CommonPrefixes=o}var a=i.clone(r.ListMultipartUploadsResult||{});i.extend(a,{statusCode:r.statusCode,headers:r.headers}),t(null,a)})},multipartListPart:function(e,t){var r={};r.uploadId=e.UploadId,r["encoding-type"]=e.EncodingType,r["max-parts"]=e.MaxParts,r["part-number-marker"]=e.PartNumberMarker,u.call(this,{Action:"name/cos:ListParts",method:"GET",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:r},function(e,r){if(e)return t(e);var n=r.ListPartsResult||{},o=n.Part||[];o=i.isArray(o)?o:[o],n.Part=o;var a=i.clone(n);i.extend(a,{statusCode:r.statusCode,headers:r.headers}),t(null,a)})},multipartAbort:function(e,t){var r={};r.uploadId=e.UploadId,u.call(this,{Action:"name/cos:AbortMultipartUpload",method:"DELETE",Bucket:e.Bucket,Region:e.Region,Key:e.Key,headers:e.Headers,qs:r},function(e,r){if(e)return t(e);t(null,{statusCode:r.statusCode,headers:r.headers})})},getObjectUrl:function(e,t){var r=s({ForcePathStyle:this.options.ForcePathStyle,protocol:e.Protocol||this.options.Protocol,domain:this.options.Domain,bucket:e.Bucket,region:e.Region,object:e.Key});if(void 0!==e.Sign&&!e.Sign)return t(null,{Url:r}),r;var n=c.call(this,{Action:"PUT"===(e.Method||"").toUpperCase()?"name/cos:PutObject":"name/cos:GetObject",Bucket:e.Bucket||"",Region:e.Region||"",Method:e.Method||"get",Key:e.Key,Expires:e.Expires},function(e,n){if(t)if(e)t(e);else{var i=r;i+="?"+(n.Authorization.indexOf("q-signature")>-1?n.Authorization:"sign="+encodeURIComponent(n.Authorization)),n.XCosSecurityToken&&(i+="&x-cos-security-token="+n.XCosSecurityToken),n.ClientIP&&(i+="&clientIP="+n.ClientIP),n.ClientUA&&(i+="&clientUA="+n.ClientUA),n.Token&&(i+="&token="+n.Token),setTimeout(function(){t(null,{Url:i})})}});return n?r+"?"+n.Authorization+(n.XCosSecurityToken?"&x-cos-security-token="+n.XCosSecurityToken:""):r},getAuth:function(e){return i.getAuth({SecretId:e.SecretId||this.options.SecretId||"",SecretKey:e.SecretKey||this.options.SecretKey||"",Method:e.Method,Key:e.Key,Query:e.Query,Headers:e.Headers,Expires:e.Expires,UseRawKey:this.options.UseRawKey,SystemClockOffset:this.options.SystemClockOffset})}};e.exports.init=function(e,t){t.transferToTaskMethod(l,"putObject"),i.each(l,function(t,r){e.prototype[r]=i.apiWrapper(r,t)})}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(238),o=function(){var e=[],t=e.slice,r=e.concat,i=e.push,o=e.indexOf,a={},s=a.toString,c=a.hasOwnProperty,u={},l="1.11.1 -css,-css/addGetHookIf,-css/curCSS,-css/defaultDisplay,-css/hiddenVisibleSelectors,-css/support,-css/swap,-css/var/cssExpand,-css/var/isHidden,-css/var/rmargin,-css/var/rnumnonpx,-effects,-effects/Tween,-effects/animatedSelector,-effects/support,-dimensions,-offset,-deprecated,-event-alias,-wrap",f=function e(t,r){return new e.fn.init(t,r)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,h=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};function v(e){var t=e.length,r=f.type(e);return"function"!==r&&!f.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e))}f.fn=f.prototype={jquery:l,constructor:f,selector:"",length:0,toArray:function(){return t.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:t.call(this)},pushStack:function(e){var t=f.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return f.each(this,e,t)},map:function(e){return this.pushStack(f.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(t.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(r>=0&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:i,sort:e.sort,splice:e.splice},f.extend=f.fn.extend=function(){var e,t,r,i,o,a,s=arguments[0]||{},c=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[c]||{},c++),"object"===(void 0===s?"undefined":n(s))||f.isFunction(s)||(s={}),c===u&&(s=this,c--);c<u;c++)if(null!=(o=arguments[c]))for(i in o)e=s[i],s!==(r=o[i])&&(l&&r&&(f.isPlainObject(r)||(t=f.isArray(r)))?(t?(t=!1,a=e&&f.isArray(e)?e:[]):a=e&&f.isPlainObject(e)?e:{},s[i]=f.extend(l,a,r)):void 0!==r&&(s[i]=r));return s},f.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===f.type(e)},isArray:Array.isArray||function(e){return"array"===f.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!f.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==f.type(e)||e.nodeType||f.isWindow(e))return!1;try{if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(u.ownLast)for(t in e)return c.call(e,t);for(t in e);return void 0===t||c.call(e,t)},type:function(e){return null==e?e+"":"object"===(void 0===e?"undefined":n(e))||"function"==typeof e?a[s.call(e)]||"object":void 0===e?"undefined":n(e)},globalEval:function(e){e&&f.trim(e)&&(window.execScript||function(e){window.eval.call(window,e)})(e)},camelCase:function(e){return e.replace(d,"ms-").replace(h,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,r){var n=0,i=e.length,o=v(e);if(r){if(o)for(;n<i&&!1!==t.apply(e[n],r);n++);else for(n in e)if(!1===t.apply(e[n],r))break}else if(o)for(;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(v(Object(e))?f.merge(r,"string"==typeof e?[e]:e):i.call(r,e)),r},inArray:function(e,t,r){var n;if(t){if(o)return o.call(t,e,r);for(n=t.length,r=r?r<0?Math.max(0,n+r):r:0;r<n;r++)if(r in t&&t[r]===e)return r}return-1},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;)e[i++]=t[n++];if(r!=r)for(;void 0!==t[n];)e[i++]=t[n++];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,o=e.length,a=!r;i<o;i++)!t(e[i],i)!==a&&n.push(e[i]);return n},map:function(e,t,n){var i,o=0,a=e.length,s=[];if(v(e))for(;o<a;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return r.apply([],s)},guid:1,proxy:function(e,r){var n,i,o;if("string"==typeof r&&(o=e[r],r=e,e=o),f.isFunction(e))return n=t.call(arguments,2),i=function(){return e.apply(r||this,n.concat(t.call(arguments)))},i.guid=e.guid=e.guid||f.guid++,i},now:function(){return+new Date},support:u}),f.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){a["[object "+t+"]"]=t.toLowerCase()});var _,g=window.document,y=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(e,t){var r,n;if(!e)return this;if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:y.exec(e))||!r[1]&&t)return!t||t.jquery?(t||_).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof f?t[0]:t,f.merge(this,f.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),rsingleTag.test(r[1])&&f.isPlainObject(t))for(r in t)f.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((n=g.getElementById(r[2]))&&n.parentNode){if(n.id!==r[2])return _.find(e);this.length=1,this[0]=n}return this.context=g,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):f.isFunction(e)?void 0!==_.ready?_.ready(e):e(f):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),f.makeArray(e,this))}).prototype=f.fn,_=f(g);var b,w=/\S+/g,S={};function x(){g.addEventListener?(g.removeEventListener("DOMContentLoaded",E,!1),window.removeEventListener("load",E,!1)):(g.detachEvent("onreadystatechange",E),window.detachEvent("onload",E))}function E(){(g.addEventListener||"load"===event.type||"complete"===g.readyState)&&(x(),f.ready())}f.Callbacks=function(e){var t,r,n,i,o,a,s=[],c=!(e="string"==typeof e?S[e]||function(e){var t=S[e]={};return f.each(e.match(w)||[],function(e,r){t[r]=!0}),t}(e):f.extend({},e)).once&&[],u=function u(f){for(r=e.memory&&f,n=!0,o=a||0,a=0,i=s.length,t=!0;s&&o<i;o++)if(!1===s[o].apply(f[0],f[1])&&e.stopOnFalse){r=!1;break}t=!1,s&&(c?c.length&&u(c.shift()):r?s=[]:l.disable())},l={add:function(){if(s){var n=s.length;!function t(r){f.each(r,function(r,n){var i=f.type(n);"function"===i?e.unique&&l.has(n)||s.push(n):n&&n.length&&"string"!==i&&t(n)})}(arguments),t?i=s.length:r&&(a=n,u(r))}return this},remove:function(){return s&&f.each(arguments,function(e,r){for(var n;(n=f.inArray(r,s,n))>-1;)s.splice(n,1),t&&(n<=i&&i--,n<=o&&o--)}),this},has:function(e){return e?f.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],i=0,this},disable:function(){return s=c=r=void 0,this},disabled:function(){return!s},lock:function(){return c=void 0,r||l.disable(),this},locked:function(){return!c},fireWith:function(e,r){return!s||n&&!c||(r=[e,(r=r||[]).slice?r.slice():r],t?c.push(r):u(r)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},f.extend({Deferred:function(e){var t=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return f.Deferred(function(r){f.each(t,function(t,o){var a=f.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&f.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===n?r.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?f.extend(e,n):n}},i={};return n.pipe=n.then,f.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){r=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=a.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var r,n,i,o=0,a=t.call(arguments),s=a.length,c=1!==s||e&&f.isFunction(e.promise)?s:0,u=1===c?e:f.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?t.call(arguments):o,i===r?u.notifyWith(n,i):--c||u.resolveWith(n,i)}};if(s>1)for(r=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&f.isFunction(a[o].promise)?a[o].promise().done(l(o,i,a)).fail(u.reject).progress(l(o,n,r)):--c;return c||u.resolveWith(i,a),u.promise()}}),f.fn.ready=function(e){return f.ready.promise().done(e),this},f.extend({isReady:!1,readyWait:1,holdReady:function(e){e?f.readyWait++:f.ready(!0)},ready:function(e){if(!0===e?!--f.readyWait:!f.isReady){if(!g.body)return setTimeout(f.ready);f.isReady=!0,!0!==e&&--f.readyWait>0||(b.resolveWith(g,[f]),f.fn.triggerHandler&&(f(g).triggerHandler("ready"),f(g).off("ready")))}}}),f.ready.promise=function(e){if(!b)if(b=f.Deferred(),"complete"===g.readyState)setTimeout(f.ready);else if(g.addEventListener)g.addEventListener("DOMContentLoaded",E,!1),window.addEventListener("load",E,!1);else{g.attachEvent("onreadystatechange",E),window.attachEvent("onload",E);var t=!1;try{t=null==window.frameElement&&g.documentElement}catch(e){}t&&t.doScroll&&function e(){if(!f.isReady){try{t.doScroll("left")}catch(t){return setTimeout(e,50)}x(),f.ready()}}()}return b.promise(e)};var k;for(k in f(u))break;u.ownLast="0"!==k,u.inlineBlockNeedsLayout=!1,f(function(){var e,t,r,i;(r=g.getElementsByTagName("body")[0])&&r.style&&(t=g.createElement("div"),(i=g.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(i).appendChild(t),"undefined"!==n(t.style.zoom)&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",u.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(r.style.zoom=1)),r.removeChild(i))}),function(){var e=g.createElement("div");if(null==u.deleteExpando){u.deleteExpando=!0;try{delete e.test}catch(e){u.deleteExpando=!1}}e=null}(),f.acceptData=function(e){var t=f.noData[(e.nodeName+" ").toLowerCase()],r=+e.nodeType||1;return(1===r||9===r)&&(!t||!0!==t&&e.getAttribute("classid")===t)};var T=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,R=/([A-Z])/g;function C(e,t,r){if(void 0===r&&1===e.nodeType){var n="data-"+t.replace(R,"-$1").toLowerCase();if("string"==typeof(r=e.getAttribute(n))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:T.test(r)?f.parseJSON(r):r)}catch(e){}f.data(e,t,r)}else r=void 0}return r}function A(e){var t;for(t in e)if(("data"!==t||!f.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function P(t,r,i,o){if(f.acceptData(t)){var a,s,c=f.expando,u=t.nodeType,l=u?f.cache:t,p=u?t[c]:t[c]&&c;if(p&&l[p]&&(o||l[p].data)||void 0!==i||"string"!=typeof r)return p||(p=u?t[c]=e.pop()||f.guid++:c),l[p]||(l[p]=u?{}:{toJSON:f.noop}),"object"!==(void 0===r?"undefined":n(r))&&"function"!=typeof r||(o?l[p]=f.extend(l[p],r):l[p].data=f.extend(l[p].data,r)),s=l[p],o||(s.data||(s.data={}),s=s.data),void 0!==i&&(s[f.camelCase(r)]=i),"string"==typeof r?null==(a=s[r])&&(a=s[f.camelCase(r)]):a=s,a}}function O(e,t,r){if(f.acceptData(e)){var n,i,o=e.nodeType,a=o?f.cache:e,s=o?e[f.expando]:f.expando;if(a[s]){if(t&&(n=r?a[s]:a[s].data)){i=(t=f.isArray(t)?t.concat(f.map(t,f.camelCase)):t in n?[t]:(t=f.camelCase(t))in n?[t]:t.split(" ")).length;for(;i--;)delete n[t[i]];if(r?!A(n):!f.isEmptyObject(n))return}(r||(delete a[s].data,A(a[s])))&&(o?f.cleanData([e],!0):u.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}f.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?f.cache[e[f.expando]]:e[f.expando])&&!A(e)},data:function(e,t,r){return P(e,t,r)},removeData:function(e,t){return O(e,t)},_data:function(e,t,r){return P(e,t,r,!0)},_removeData:function(e,t){return O(e,t,!0)}}),f.fn.extend({data:function(e,t){var r,i,o,a=this[0],s=a&&a.attributes;if(void 0===e){if(this.length&&(o=f.data(a),1===a.nodeType&&!f._data(a,"parsedAttrs"))){for(r=s.length;r--;)s[r]&&0===(i=s[r].name).indexOf("data-")&&C(a,i=f.camelCase(i.slice(5)),o[i]);f._data(a,"parsedAttrs",!0)}return o}return"object"===(void 0===e?"undefined":n(e))?this.each(function(){f.data(this,e)}):arguments.length>1?this.each(function(){f.data(this,e,t)}):a?C(a,e,f.data(a,e)):void 0},removeData:function(e){return this.each(function(){f.removeData(this,e)})}}),f.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=f._data(e,t),r&&(!n||f.isArray(r)?n=f._data(e,t,f.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=f.queue(e,t),n=r.length,i=r.shift(),o=f._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,function(){f.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return f._data(e,r)||f._data(e,r,{empty:f.Callbacks("once memory").add(function(){f._removeData(e,t+"queue"),f._removeData(e,r)})})}}),f.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?f.queue(this[0],e):void 0===t?this:this.each(function(){var r=f.queue(this,e,t);f._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&f.dequeue(this,e)})},dequeue:function(e){return this.each(function(){f.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=f.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(r=f._data(o[a],e+"queueHooks"))&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}}),f.event={global:{},add:function(e,t,r,i,o){var a,s,c,u,l,p,d,h,m,v,_,g=f._data(e);if(g){for(r.handler&&(r=(u=r).handler,o=u.selector),r.guid||(r.guid=f.guid++),(s=g.events)||(s=g.events={}),(p=g.handle)||((p=g.handle=function(e){return"undefined"===(void 0===f?"undefined":n(f))||e&&f.event.triggered===e.type?void 0:f.event.dispatch.apply(p.elem,arguments)}).elem=e),c=(t=(t||"").match(w)||[""]).length;c--;)m=_=(a=D.exec(t[c])||[])[1],v=(a[2]||"").split(".").sort(),m&&(l=f.event.special[m]||{},m=(o?l.delegateType:l.bindType)||m,l=f.event.special[m]||{},d=f.extend({type:m,origType:_,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&f.expr.match.needsContext.test(o),namespace:v.join(".")},u),(h=s[m])||((h=s[m]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,i,v,p)||(e.addEventListener?e.addEventListener(m,p,!1):e.attachEvent&&e.attachEvent("on"+m,p))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),f.event.global[m]=!0);e=null}},remove:function(e,t,r,n,i){var o,a,s,c,u,l,p,d,h,m,v,_=f.hasData(e)&&f._data(e);if(_&&(l=_.events)){for(u=(t=(t||"").match(w)||[""]).length;u--;)if(h=v=(s=D.exec(t[u])||[])[1],m=(s[2]||"").split(".").sort(),h){for(p=f.event.special[h]||{},d=l[h=(n?p.delegateType:p.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=d.length;o--;)a=d[o],!i&&v!==a.origType||r&&r.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(o,1),a.selector&&d.delegateCount--,p.remove&&p.remove.call(e,a));c&&!d.length&&(p.teardown&&!1!==p.teardown.call(e,m,_.handle)||f.removeEvent(e,h,_.handle),delete l[h])}else for(h in l)f.event.remove(e,h+t[u],r,n,!0);f.isEmptyObject(l)&&(delete _.handle,f._removeData(e,"events"))}},trigger:function(e,t,r,i){var o,a,s,u,l,p,d,h=[r||g],m=c.call(e,"type")?e.type:e,v=c.call(e,"namespace")?e.namespace.split("."):[];if(s=p=r=r||g,3!==r.nodeType&&8!==r.nodeType&&!j.test(m+f.event.triggered)&&(m.indexOf(".")>=0&&(m=(v=m.split(".")).shift(),v.sort()),a=m.indexOf(":")<0&&"on"+m,(e=e[f.expando]?e:new f.Event(m,"object"===(void 0===e?"undefined":n(e))&&e)).isTrigger=i?2:3,e.namespace=v.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:f.makeArray(t,[e]),l=f.event.special[m]||{},i||!l.trigger||!1!==l.trigger.apply(r,t))){if(!i&&!l.noBubble&&!f.isWindow(r)){for(u=l.delegateType||m,j.test(u+m)||(s=s.parentNode);s;s=s.parentNode)h.push(s),p=s;p===(r.ownerDocument||g)&&h.push(p.defaultView||p.parentWindow||window)}for(d=0;(s=h[d++])&&!e.isPropagationStopped();)e.type=d>1?u:l.bindType||m,(o=(f._data(s,"events")||{})[e.type]&&f._data(s,"handle"))&&o.apply(s,t),(o=a&&s[a])&&o.apply&&f.acceptData(s)&&(e.result=o.apply(s,t),!1===e.result&&e.preventDefault());if(e.type=m,!i&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),t))&&f.acceptData(r)&&a&&r[m]&&!f.isWindow(r)){(p=r[a])&&(r[a]=null),f.event.triggered=m;try{r[m]()}catch(e){}f.event.triggered=void 0,p&&(r[a]=p)}return e.result}},dispatch:function(e){e=f.event.fix(e);var r,n,i,o,a,s,c=t.call(arguments),u=(f._data(this,"events")||{})[e.type]||[],l=f.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=f.event.handlers.call(this,e,u),r=0;(o=s[r++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(i=o.handlers[a++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(i.namespace)||(e.handleObj=i,e.data=i.data,void 0!==(n=((f.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,c))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,o,a=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(i=[],o=0;o<s;o++)void 0===i[r=(n=t[o]).selector+" "]&&(i[r]=n.needsContext?f(r,this).index(c)>=0:f.find(r,this,null,[c]).length),i[r]&&i.push(n);i.length&&a.push({elem:c,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[f.expando])return e;var t,r,n,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=N.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new f.Event(o),t=n.length;t--;)e[r=n[t]]=o[r];return e.target||(e.target=o.srcElement||g),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,n,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||g).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(f.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(e){return f.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,n){var i=f.extend(new f.Event,r,{type:e,isSimulated:!0,originalEvent:{}});n?f.event.trigger(i,null,t):f.event.dispatch.call(t,i),i.isDefaultPrevented()&&r.preventDefault()}},f.removeEvent=g.removeEventListener?function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r,!1)}:function(e,t,r){var i="on"+t;e.detachEvent&&("undefined"===n(e[i])&&(e[i]=null),e.detachEvent(i,r))},f.Event=function(e,t){if(!(this instanceof f.Event))return new f.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?B:L):this.type=e,t&&f.extend(this,t),this.timeStamp=e&&e.timeStamp||f.now(),this[f.expando]=!0};var M=/^(?:input|select|textarea)$/i,I=/^key/,N=/^(?:mouse|pointer|contextmenu)|click/,j=/^(?:focusinfocus|focusoutblur)$/,D=/^([^.]*)(?:\.(.+)|)$/;function B(){return!0}function L(){return!1}f.Event.prototype={isDefaultPrevented:L,isPropagationStopped:L,isImmediatePropagationStopped:L,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=B,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=B,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=B,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},u.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,r=f.nodeName(t,"input")||f.nodeName(t,"button")?t.form:void 0;r&&!f._data(r,"submitBubbles")&&(f.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),f._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&f.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),u.changeBubbles||(f.event.special.change={setup:function(){if(M.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(f.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),f.event.simulate("change",this,e,!0)})),!1;f.event.add(this,"beforeactivate._change",function(e){var t=e.target;M.test(t.nodeName)&&!f._data(t,"changeBubbles")&&(f.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||f.event.simulate("change",this.parentNode,e,!0)}),f._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type)return e.handleObj.handler.apply(this,arguments)},teardown:function(){return f.event.remove(this,"._change"),!M.test(this.nodeName)}}),u.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){f.event.simulate(t,e.target,f.event.fix(e),!0)};f.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=f._data(n,t);i||n.addEventListener(e,r,!0),f._data(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=f._data(n,t)-1;i?f._data(n,t,i):(n.removeEventListener(e,r,!0),f._removeData(n,t))}}}),f.fn.extend({on:function(e,t,r,i,o){var a,s;if("object"===(void 0===e?"undefined":n(e))){for(a in"string"!=typeof t&&(r=r||t,t=void 0),e)this.on(a,t,r,e[a],o);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),!1===i)i=L;else if(!i)return this;return 1===o&&(s=i,(i=function(e){return f().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=f.guid++)),this.each(function(){f.event.add(this,e,i,r,t)})},one:function(e,t,r,n){return this.on(e,t,r,n,1)},off:function(e,t,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,f(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"===(void 0===e?"undefined":n(e))){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=L),this.each(function(){f.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){f.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return f.event.trigger(e,t,r,!0)}}),f.fn.delay=function(e,t){return e=f.fx&&f.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var n=setTimeout(t,e);r.stop=function(){clearTimeout(n)}})};var F=f.now(),U=/\?/,H=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;f.parseJSON=function(e){if(window.JSON&&window.JSON.parse)return window.JSON.parse(e+"");var t,r=null,n=f.trim(e+"");return n&&!f.trim(n.replace(H,function(e,n,i,o){return t&&n&&(r=0),0===r?e:(t=i||n,r+=!o-!i,"")}))?Function("return "+n)():f.error("Invalid JSON: "+e)},f.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+e),t};var q,V,z=/#.*$/,G=/([?&])_=[^&]*/,X=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,K=/^(?:GET|HEAD)$/,W=/^\/\//,Y=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$={},J={},Q="*/".concat("*");try{V=location.href}catch(e){(V=g.createElement("a")).href="",V=V.href}function Z(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(w)||[];if(f.isFunction(r))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function ee(e,t,r,n){var i={},o=e===J;function a(s){var c;return i[s]=!0,f.each(e[s]||[],function(e,s){var u=s(t,r,n);return"string"!=typeof u||o||i[u]?o?!(c=u):void 0:(t.dataTypes.unshift(u),a(u),!1)}),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function te(e,t){var r,n,i=f.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&f.extend(!0,e,r),e}q=Y.exec(V.toLowerCase())||[],f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:V,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(q[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Q,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?te(te(e,f.ajaxSettings),t):te(f.ajaxSettings,e)},ajaxPrefilter:Z($),ajaxTransport:Z(J),ajax:function(e,t){"object"===(void 0===e?"undefined":n(e))&&(t=e,e=void 0),t=t||{};var r,i,o,a,s,c,u,l,p=f.ajaxSetup({},t),d=p.context||p,h=p.context&&(d.nodeType||d.jquery)?f(d):f.event,m=f.Deferred(),v=f.Callbacks("once memory"),_=p.statusCode||{},g={},y={},b=0,S="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l)for(l={};t=X.exec(a);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return b||(e=y[r]=y[r]||e,g[e]=t),this},overrideMimeType:function(e){return b||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)_[t]=[_[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||S;return u&&u.abort(t),E(0,t),this}};if(m.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,p.url=((e||p.url||V)+"").replace(z,"").replace(W,q[1]+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=f.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=Y.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===q[1]&&r[2]===q[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(q[3]||("http:"===q[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=f.param(p.data,p.traditional)),ee($,p,t,x),2===b)return x;for(i in(c=p.global)&&0==f.active++&&f.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!K.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(U.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=G.test(o)?o.replace(G,"$1_="+F++):o+(U.test(o)?"&":"?")+"_="+F++)),p.ifModified&&(f.lastModified[o]&&x.setRequestHeader("If-Modified-Since",f.lastModified[o]),f.etag[o]&&x.setRequestHeader("If-None-Match",f.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&x.setRequestHeader("Content-Type",p.contentType),p.headers)x.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(!1===p.beforeSend.call(d,x,p)||2===b))return x.abort();for(i in S="abort",{success:1,error:1,complete:1})x[i](p[i]);if(u=ee(J,p,t,x)){x.readyState=1,c&&h.trigger("ajaxSend",[x,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},p.timeout));try{b=1,u.send(g,E)}catch(e){if(!(b<2))throw e;E(-1,e)}}else E(-1,"No Transport");function E(e,t,r,n){var i,l,g,y,w,S=t;2!==b&&(b=2,s&&clearTimeout(s),u=void 0,a=n||"",x.readyState=e>0?4:0,i=e>=200&&e<300||304===e,r&&(y=function(e,t,r){for(var n,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){c.unshift(a);break}if(c[0]in r)o=c[0];else{for(a in r){if(!c[0]||e.converters[a+" "+c[0]]){o=a;break}n||(n=a)}o=o||n}if(o)return o!==c[0]&&c.unshift(o),r[o]}(p,x,r)),y=function(e,t,r,n){var i,o,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!c&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=u[c+" "+o]||u["* "+o]))for(i in u)if((s=i.split(" "))[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(p,y,x,i),i?(p.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(f.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(f.etag[o]=w)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=y.state,l=y.data,i=!(g=y.error))):(g=S,!e&&S||(S="error",e<0&&(e=0))),x.status=e,x.statusText=(t||S)+"",i?m.resolveWith(d,[l,S,x]):m.rejectWith(d,[x,S,g]),x.statusCode(_),_=void 0,c&&h.trigger(i?"ajaxSuccess":"ajaxError",[x,p,i?l:g]),v.fireWith(d,[x,S]),c&&(h.trigger("ajaxComplete",[x,p]),--f.active||f.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,r){return f.get(e,t,r,"json")},getScript:function(e,t){return f.get(e,void 0,t,"script")}}),f.each(["get","post"],function(e,t){f[t]=function(e,r,n,i){return f.isFunction(r)&&(i=i||n,n=r,r=void 0),f.ajax({url:e,type:t,dataType:i,data:r,success:n})}}),f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){f.fn[t]=function(e){return this.on(t,e)}}),f._evalUrl=function(e){return f.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})};var re=/%20/g,ne=/\[\]$/,ie=/\r?\n/g,oe=/^(?:submit|button|image|reset|file)$/i,ae=/^(?:input|select|textarea|keygen)/i;function se(e,t,r,i){var o;if(f.isArray(t))f.each(t,function(t,o){r||ne.test(e)?i(e,o):se(e+"["+("object"===(void 0===o?"undefined":n(o))?t:"")+"]",o,r,i)});else if(r||"object"!==f.type(t))i(e,t);else for(o in t)se(e+"["+o+"]",t[o],r,i)}f.param=function(e,t){var r,n=[],i=function(e,t){t=f.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(e)||e.jquery&&!f.isPlainObject(e))f.each(e,function(){i(this.name,this.value)});else for(r in e)se(r,e[r],t,i);return n.join("&").replace(re,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=f.prop(this,"elements");return e?f.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!f(this).is(":disabled")&&ae.test(this.nodeName)&&!oe.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var r=f(this).val();return null==r?null:f.isArray(r)?f.map(r,function(e){return{name:t.name,value:e.replace(ie,"\r\n")}}):{name:t.name,value:r.replace(ie,"\r\n")}}).get()}}),f.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&fe()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:fe;var ce=0,ue={},le=f.ajaxSettings.xhr();function fe(){try{return new window.XMLHttpRequest}catch(e){}}window.ActiveXObject&&f(window).on("unload",function(){for(var e in ue)ue[e](void 0,!0)}),u.cors=!!le&&"withCredentials"in le,(le=u.ajax=!!le)&&f.ajaxTransport(function(e){var t;if(!e.crossDomain||u.cors)return{send:function(r,n){var i,o=e.xhr(),a=++ce;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)void 0!==r[i]&&o.setRequestHeader(i,r[i]+"");o.upload&&e.progress&&(o.upload.onprogress=e.progress),o.send(e.hasContent&&(e.body||e.data)||null),t=function(r,i){var s,c,u;if(t&&(i||4===o.readyState))if(delete ue[a],t=void 0,o.onreadystatechange=f.noop,i)4!==o.readyState&&o.abort();else{u={},s=o.status,"string"==typeof o.responseText&&(u.text=o.responseText);try{c=o.statusText}catch(e){c=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=u.text?200:404}u&&n(s,c,u,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=ue[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return f.globalEval(e),e}}}),f.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),f.ajaxTransport("script",function(e){if(e.crossDomain){var t,r=g.head||f("head")[0]||g.documentElement;return{send:function(n,i){(t=g.createElement("script")).async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,r||i(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var pe=[],de=/(=)\?(?=&|$)|\?\?/;return f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=pe.pop()||f.expando+"_"+F++;return this[e]=!0,e}}),f.ajaxPrefilter("json jsonp",function(e,t,r){var n,i,o,a=!1!==e.jsonp&&(de.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&de.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=f.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(de,"$1"+n):!1!==e.jsonp&&(e.url+=(U.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||f.error(n+" was not called"),o[0]},e.dataTypes[0]="json",i=window[n],window[n]=function(){o=arguments},r.always(function(){window[n]=i,e[n]&&(e.jsonpCallback=t.jsonpCallback,pe.push(n)),o&&f.isFunction(i)&&i(o[0]),o=i=void 0}),"script"}),f.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||g;var n=rsingleTag.exec(e),i=!r&&[];return n?[t.createElement(n[1])]:(n=f.buildFragment([e],t,i),i&&i.length&&f(i).remove(),f.merge([],n.childNodes))},f}();e.exports=function(e,t){if((e=o.extend(!0,{headers:{},qs:{}},e)).type=e.method,delete e.method,e.onProgress&&(e.progress=e.onProgress,delete e.onProgress),e.qs){var r=i.stringify(e.qs);r&&(e.url+=(-1===e.url.indexOf("?")?"?":"&")+r),delete e.qs}if(e.json&&(e.data=e.body,delete e.json,delete e.body,!e.headers&&(e.headers={}),e.headers["Content-Type"]="application/json"),e.body&&(e.body instanceof Blob||"[object File]"===e.body.toString()||"[object Blob]"===e.body.toString()||(e.data=e.body,delete e.body)),e.headers){var n=e.headers;delete e.headers,e.beforeSend=function(e){for(var t in n)n.hasOwnProperty(t)&&"content-length"!==t.toLowerCase()&&"user-agent"!==t.toLowerCase()&&"origin"!==t.toLowerCase()&&"host"!==t.toLowerCase()&&e.setRequestHeader(t,n[t])}}var a=function(e){var t={};return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){if(e){var r=e.indexOf(":"),n=e.substr(0,r).trim().toLowerCase(),i=e.substr(r+1).trim();t[n]=i}}),{statusCode:e.status,statusMessage:e.statusText,headers:t}};return e.success=function(e,r,n){t(null,a(n),e)},e.error=function(e){e.responseText?t(null,a(e),e.responseText):t(e.statusText,a(e),e.responseText)},e.dataType="text",o.ajax(e)}},function(e,t,r){"use strict";t.decode=t.parse=r(239),t.encode=t.stringify=r(240)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var c=1e3;o&&"number"==typeof o.maxKeys&&(c=o.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var f,p,d,h,m=e[l].replace(s,"%20"),v=m.indexOf(r);v>=0?(f=m.substr(0,v),p=m.substr(v+1)):(f=m,p=""),d=decodeURIComponent(f),h=decodeURIComponent(p),n(a,d)?i(a[d])?a[d].push(h):a[d]=[a[d],h]:a[d]=h}return a};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){switch(void 0===e?"undefined":n(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,c){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":n(e))?a(s(e),function(n){var s=encodeURIComponent(i(n))+r;return o(e[n])?a(e[n],function(e){return s+encodeURIComponent(i(e))}).join(t):s+encodeURIComponent(i(e[n]))}).join(t):c?encodeURIComponent(i(c))+r+encodeURIComponent(i(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";var n,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(242),a=r(129).EventProxy,s=r(63);var c={},u="cos_sdk_upload_cache";function l(){var e=this.options.UploadIdCacheLimit;if(!n){if(e)try{n=JSON.parse(localStorage.getItem(u))||[]}catch(e){}n||(n=[])}}function f(e){l.call(this),delete c[e];for(var t=n.length-1;t>=0;t--)n[t][1]===e&&n.splice(t,1);var r=this.options.UploadIdCacheLimit;n.length>r&&n.splice(r),r&&setTimeout(function(){try{n.length?localStorage.setItem(u,JSON.stringify(n)):localStorage.removeItem(u)}catch(e){}})}function p(e){l.call(this);for(var t=[],r=0;r<n.length;r++)n[r][0]===e&&t.push(n[r][1]);return t.length?t:null}function d(e,t){var r=this,n=[],i={Bucket:e.Bucket,Region:e.Region,Prefix:e.Key};!function e(){r.multipartList(i,function(r,o){if(r)return t(r);n.push.apply(n,o.Upload||[]),"true"===o.IsTruncated?(i.KeyMarker=o.NextKeyMarker,i.UploadIdMarker=o.NextUploadIdMarker,e()):t(null,{UploadList:n})})}()}function h(e,t){var r=this,n=[],i={Bucket:e.Bucket,Region:e.Region,Key:e.Key,UploadId:e.UploadId};!function e(){r.multipartListPart(i,function(r,o){if(r)return t(r);n.push.apply(n,o.Part||[]),"true"===o.IsTruncated?(i.PartNumberMarker=o.NextPartNumberMarker,e()):t(null,{PartList:n})})}()}var m={sliceUploadFile:function(e,t){var r,i,m=this,v=new a,_=e.TaskId,g=e.Bucket,y=e.Region,b=e.Key,w=e.Body,S=e.ChunkSize||e.SliceSize||m.options.ChunkSize,x=e.AsyncLimit,E=e.StorageClass||"Standard",k=e.ServerSideEncryption,T=e.onHashProgress;v.on("error",function(e){if(m._isRunningTask(_))return t(e)}),v.on("upload_complete",function(e){t(null,e)}),v.on("upload_slice_complete",function(e){(function(e,t){var r=e.Bucket,n=e.Region,i=e.Key,a=e.UploadId,s=e.SliceList,c=this,u=this.options.ChunkRetryTimes+1,l=s.map(function(e){return{PartNumber:e.PartNumber,ETag:e.ETag}});o.retry(u,function(e){c.multipartComplete({Bucket:r,Region:n,Key:i,UploadId:a,Parts:l},e)},function(e,r){t(e,r)})}).call(m,{Bucket:g,Region:y,Key:b,UploadId:e.UploadId,SliceList:e.SliceList},function(t,n){if(m._isRunningTask(_)){if(delete c[e.UploadId],t)return i(null,!0),v.emit("error",t);i({loaded:r,total:r},!0),f.call(m,e.UploadId),v.emit("upload_complete",n)}})}),v.on("get_upload_data_finish",function(t){var a=s.getFileUUID(w,e.ChunkSize);a&&function(e,t,r){l.call(this);for(var i=n.length-1;i>=0;i--)n[i][0]===e&&n[i][1]===t&&n.splice(i,1);n.unshift([e,t]);var o=this.options.UploadIdCacheLimit;n.length>o&&n.splice(o),o&&setTimeout(function(){try{localStorage.setItem(u,JSON.stringify(n))}catch(e){}})}.call(m,a,t.UploadId),c[t.UploadId]=!0,_&&m.on("inner-kill-task",function(e){e.TaskId===_&&"canceled"===e.toState&&delete c[t.UploadId]}),function(e,t){var r=this,n=e.TaskId,i=e.Bucket,a=e.Region,c=e.Key,u=e.UploadData,l=e.FileSize,f=e.SliceSize,p=Math.min(e.AsyncLimit||r.options.ChunkParallelLimit||1,256),d=e.Body,h=Math.ceil(l/f),m=0,v=e.ServerSideEncryption,_=s.filter(u.PartList,function(e){return e.Uploaded&&(m+=e.PartNumber>=h&&l%f||f),!e.Uploaded}),g=e.onProgress;o.eachLimit(_,p,function(e,t){if(r._isRunningTask(n)){var p=e.PartNumber,h=Math.min(l,e.PartNumber*f)-(e.PartNumber-1)*f,_=0;(function(e,t){var r=this,n=e.TaskId,i=e.Bucket,a=e.Region,c=e.Key,u=e.FileSize,l=e.Body,f=1*e.PartNumber,p=e.SliceSize,d=e.ServerSideEncryption,h=e.UploadData,m=r.options.ChunkRetryTimes+1,v=p*(f-1),_=p,g=v+p;g>u&&(_=(g=u)-v);var y=h.PartList[f-1];o.retry(m,function(t){r._isRunningTask(n)&&s.fileSlice(l,v,g,!0,function(o){r.multipartUpload({TaskId:n,Bucket:i,Region:a,Key:c,ContentLength:_,PartNumber:f,UploadId:h.UploadId,ServerSideEncryption:d,Body:o,onProgress:e.onProgress},function(e,i){if(r._isRunningTask(n))return e?t(e):(y.Uploaded=!0,t(null,i))})})},function(e,i){if(r._isRunningTask(n))return t(e,i)})}).call(r,{TaskId:n,Bucket:i,Region:a,Key:c,SliceSize:f,FileSize:l,PartNumber:p,ServerSideEncryption:v,Body:d,UploadData:u,onProgress:function(e){m+=e.loaded-_,_=e.loaded,g({loaded:m,total:l})}},function(i,o){r._isRunningTask(n)&&(!s.isBrowser||i||o.ETag||(i='get ETag error, please add "ETag" to CORS ExposeHeader setting.'),i?m-=_:(m+=h-_,e.ETag=o.ETag),t(i||null,o))})}},function(e){if(r._isRunningTask(n))return e?t(e):void t(null,{UploadId:u.UploadId,SliceList:u.PartList})})}.call(m,{TaskId:_,Bucket:g,Region:y,Key:b,Body:w,FileSize:r,SliceSize:S,AsyncLimit:x,ServerSideEncryption:k,UploadData:t,onProgress:i},function(e,t){if(m._isRunningTask(_))return e?(i(null,!0),v.emit("error",e)):void v.emit("upload_slice_complete",t)})}),v.on("get_file_size_finish",function(){if(i=s.throttleOnProgress.call(m,r,e.onProgress),e.UploadData.UploadId)v.emit("get_upload_data_finish",e.UploadData);else{var t=s.extend({TaskId:_,Bucket:g,Region:y,Key:b,Headers:e.Headers,StorageClass:E,Body:w,FileSize:r,SliceSize:S,onHashProgress:T},e);(function(e,t){var r=e.TaskId,n=e.Bucket,i=e.Region,u=e.Key,l=e.StorageClass,m=this,v={},_=e.FileSize,g=e.SliceSize,y=Math.ceil(_/g),b=0,w=s.throttleOnProgress.call(m,_,e.onHashProgress),S=function(t,r){var n=t.length;if(0===n)return r(null,!0);if(n>y)return r(null,!1);if(n>1){var i=Math.max(t[0].Size,t[1].Size);if(i!==g)return r(null,!1)}!function i(o){if(o<n){var a=t[o];!function(t,r){var n=g*(t-1),i=Math.min(n+g,_),o=i-n;v[t]?r(null,{PartNumber:t,ETag:v[t],Size:o}):s.fileSlice(e.Body,n,i,!1,function(e){s.getFileMd5(e,function(e,n){if(e)return r(e);var i='"'+n+'"';v[t]=i,b+=o,r(e,{PartNumber:t,ETag:i,Size:o}),w({loaded:b,total:_})})})}(a.PartNumber,function(e,t){t&&t.ETag===a.ETag&&t.Size===a.Size?i(o+1):r(null,!1)})}else r(null,!0)}(0)},x=new a;x.on("error",function(e){if(m._isRunningTask(r))return t(e)}),x.on("upload_id_ready",function(e){var r={},n=[];s.each(e.PartList,function(e){r[e.PartNumber]=e});for(var i=1;i<=y;i++){var o=r[i];o?(o.PartNumber=i,o.Uploaded=!0):o={PartNumber:i,ETag:null,Uploaded:!1},n.push(o)}e.PartList=n,t(null,e)}),x.on("no_available_upload_id",function(){if(m._isRunningTask(r)){var o=s.extend({Bucket:n,Region:i,Key:u,Headers:s.clone(e.Headers),StorageClass:l,Body:e.Body},e),a=e.Headers["Content-Type"]||e.Body&&e.Body.type;a&&(o.Headers["Content-Type"]=a),m.multipartInit(o,function(e,n){if(m._isRunningTask(r)){if(e)return x.emit("error",e);var i=n.UploadId;if(!i)return t({Message:"no upload id"});x.emit("upload_id_ready",{UploadId:i,PartList:[]})}})}}),x.on("has_upload_id",function(e){e=e.reverse(),o.eachLimit(e,1,function(e,t){m._isRunningTask(r)&&(c[e]?t():h.call(m,{Bucket:n,Region:i,Key:u,UploadId:e},function(n,i){if(m._isRunningTask(r)){if(n)return f.call(m,e),x.emit("error",n);var o=i.PartList;o.forEach(function(e){e.PartNumber*=1,e.Size*=1,e.ETag=e.ETag||""}),S(o,function(n,i){if(m._isRunningTask(r))return n?x.emit("error",n):void(i?t({UploadId:e,PartList:o}):t())})}}))},function(e){m._isRunningTask(r)&&(w(null,!0),e&&e.UploadId?x.emit("upload_id_ready",e):x.emit("no_available_upload_id"))})}),x.on("seek_local_avail_upload_id",function(t){var o,a=s.getFileUUID(e.Body,e.ChunkSize);a&&(o=p.call(m,a))?function e(a){if(a>=o.length)x.emit("has_upload_id",t);else{var l=o[a];if(!s.isInArray(t,l))return f.call(m,l),void e(a+1);c[l]?e(a+1):h.call(m,{Bucket:n,Region:i,Key:u,UploadId:l},function(t,n){m._isRunningTask(r)&&(t?(f.call(m,l),e(a+1)):x.emit("upload_id_ready",{UploadId:l,PartList:n.PartList}))})}}(0):x.emit("has_upload_id",t)}),x.on("get_remote_upload_id_list",function(t){d.call(m,{Bucket:n,Region:i,Key:u},function(t,n){if(m._isRunningTask(r)){if(t)return x.emit("error",t);var i=s.filter(n.UploadList,function(e){return e.Key===u&&(!l||e.StorageClass.toUpperCase()===l.toUpperCase())}).reverse().map(function(e){return e.UploadId||e.UploadID});if(i.length)x.emit("seek_local_avail_upload_id",i);else{var o,a=s.getFileUUID(e.Body,e.ChunkSize);a&&(o=p.call(m,a))&&s.each(o,function(e){f.call(m,e)}),x.emit("no_available_upload_id")}}})}),x.emit("get_remote_upload_id_list")}).call(m,t,function(t,r){if(m._isRunningTask(_)){if(t)return v.emit("error",t);e.UploadData.UploadId=r.UploadId,e.UploadData.PartList=r.PartList,v.emit("get_upload_data_finish",e.UploadData)}})}}),r=e.ContentLength,delete e.ContentLength,!e.Headers&&(e.Headers={}),s.each(e.Headers,function(t,r){"content-length"===r.toLowerCase()&&delete e.Headers[r]}),function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],n=1048576,i=0;i<t.length&&!(r/(n=1024*t[i]*1024)<=m.options.MaxPartNumber);i++);e.ChunkSize=e.SliceSize=S=Math.max(S,n)}(),0===r?(e.Body="",e.ContentLength=0,e.SkipTask=!0,m.putObject(e,function(e,r){if(e)return t(e);t(null,r)})):v.emit("get_file_size_finish")},abortUploadTask:function(e,t){var r=e.Bucket,n=e.Region,i=e.Key,s=e.UploadId,c=e.Level||"task",u=e.AsyncLimit,l=this,f=new a;if(f.on("error",function(e){return t(e)}),f.on("get_abort_array",function(a){(function(e,t){var r=e.Bucket,n=e.Region,i=e.Key,a=e.AbortArray,s=e.AsyncLimit||1,c=this,u=0,l=new Array(a.length);o.eachLimit(a,s,function(t,o){var a=u;if(i&&i!==t.Key)return l[a]={error:{KeyNotMatch:!0}},void o(null);var s=t.UploadId||t.UploadID;c.multipartAbort({Bucket:r,Region:n,Key:t.Key,Headers:e.Headers,UploadId:s},function(e,i){var c={Bucket:r,Region:n,Key:t.Key,UploadId:s};l[a]={error:e,task:c},o(null)}),u++},function(e){if(e)return t(e);for(var r=[],n=[],i=0,o=l.length;i<o;i++){var a=l[i];a.task&&(a.error?n.push(a.task):r.push(a.task))}return t(null,{successList:r,errorList:n})})}).call(l,{Bucket:r,Region:n,Key:i,Headers:e.Headers,AsyncLimit:u,AbortArray:a},function(e,r){if(e)return t(e);t(null,r)})}),"bucket"===c)d.call(l,{Bucket:r,Region:n},function(e,r){if(e)return t(e);f.emit("get_abort_array",r.UploadList||[])});else if("file"===c){if(!i)return t({error:"abort_upload_task_no_key"});d.call(l,{Bucket:r,Region:n,Key:i},function(e,r){if(e)return t(e);f.emit("get_abort_array",r.UploadList||[])})}else{if("task"!==c)return t({error:"abort_unknown_level"});if(!s)return t({error:"abort_upload_task_no_id"});if(!i)return t({error:"abort_upload_task_no_key"});f.emit("get_abort_array",[{Key:i,UploadId:s}])}},uploadFiles:function(e,t){var r=void 0===e.SliceSize?this.options.SliceSize:e.SliceSize,n=0,o=0,a=s.throttleOnProgress.call(this,o,e.onProgress),c=e.files.length,u=e.onFileFinish,l=Array(c),f=function(e,r,n){a(null,!0),u&&u(e,r,n),l[n.Index]={options:n,error:e,data:r},--c<=0&&t&&t(null,{files:l})},p=[];s.each(e.files,function(e,t){!function(){var c=e.Body,u=c.size||c.length||0,l={Index:t,TaskId:""};n+=u,s.each(e,function(e,t){"object"!==(void 0===e?"undefined":i(e))&&"function"!=typeof e&&(l[t]=e)});var d=e.onTaskReady;e.onTaskReady=function(e){l.TaskId=e,d&&d(e)};var h=0,m=e.onProgress;e.onProgress=function(e){o=o-h+e.loaded,h=e.loaded,m&&m(e),a({loaded:o,total:n})};var v=e.onFileFinish,_=u>=r?"sliceUploadFile":"putObject";p.push({api:_,params:e,callback:function(e,t){v&&v(e,t),f&&f(e,t,l)}})}()}),this._addTasks(p)},sliceCopyFile:function(e,t){var r=new a,n=this,i=e.Bucket,c=e.Region,u=e.Key,l=e.CopySource,f=l.match(/^([^.]+-\d+)\.cos(v6)?\.([^.]+)\.[^/]+\/(.+)$/);if(f){var p=f[1],d=f[3],h=decodeURIComponent(f[4]),m=void 0===e.SliceSize?n.options.CopySliceSize:e.SliceSize;m=Math.max(0,Math.min(m,5368709120));var v,_,g=e.ChunkSize||this.options.CopyChunkSize,y=this.options.CopyChunkParallelLimit,b=0;r.on("copy_slice_complete",function(e){n.multipartComplete({Bucket:i,Region:c,Key:u,UploadId:e.UploadId,Parts:e.PartList},function(e,r){if(e)return _(null,!0),t(e);_({loaded:v,total:v},!0),t(null,r)})}),r.on("get_copy_data_finish",function(e){o.eachLimit(e.PartList,y,function(t,r){var a=t.PartNumber,s=t.CopySourceRange,f=t.end-t.start,p=0;(function(e,t){var r=e.TaskId,n=e.Bucket,i=e.Region,a=e.Key,s=e.CopySource,c=e.UploadId,u=1*e.PartNumber,l=e.CopySourceRange,f=this.options.ChunkRetryTimes+1,p=this;o.retry(f,function(t){p.uploadPartCopy({TaskId:r,Bucket:n,Region:i,Key:a,CopySource:s,UploadId:c,PartNumber:u,CopySourceRange:l,onProgress:e.onProgress},function(e,r){t(e||null,r)})},function(e,r){return t(e,r)})}).call(n,{Bucket:i,Region:c,Key:u,CopySource:l,UploadId:e.UploadId,PartNumber:a,CopySourceRange:s,onProgress:function(e){b+=e.loaded-p,p=e.loaded,_({loaded:b,total:v})}},function(e,n){if(e)return r(e);_({loaded:b,total:v}),b+=f-p,t.ETag=n.ETag,r(e||null,n)})},function(n){if(n)return _(null,!0),t(n);r.emit("copy_slice_complete",e)})}),r.on("get_file_size_finish",function(o){var a;!function(){for(var t=[1,2,4,8,16,32,64,128,256,512,1024,2048,4096,5120],r=1048576,i=0;i<t.length&&!(v/(r=1024*t[i]*1024)<=n.options.MaxPartNumber);i++);e.ChunkSize=g=Math.max(g,r);for(var o=Math.ceil(v/g),a=[],s=1;s<=o;s++){var c=(s-1)*g,u=s*g<v?s*g-1:v-1,l={PartNumber:s,start:c,end:u,CopySourceRange:"bytes="+c+"-"+u};a.push(l)}e.PartList=a}(),(a="Replaced"===e.Headers["x-cos-metadata-directive"]?e.Headers:o)["x-cos-storage-class"]=e.Headers["x-cos-storage-class"]||o["x-cos-storage-class"],a=s.clearKey(a),n.multipartInit({Bucket:i,Region:c,Key:u,Headers:a},function(n,i){if(n)return t(n);e.UploadId=i.UploadId,r.emit("get_copy_data_finish",e)})}),n.headObject({Bucket:p,Region:d,Key:h},function(i,o){if(i)i.statusCode&&404===i.statusCode?t({ErrorStatus:h+" Not Exist"}):t(i);else if(void 0!==(v=e.FileSize=o.headers["content-length"])&&v)if(_=s.throttleOnProgress.call(n,v,e.onProgress),v<=m)e.Headers["x-cos-metadata-directive"]||(e.Headers["x-cos-metadata-directive"]="Copy"),n.putObjectCopy(e,function(e,r){if(e)return _(null,!0),t(e);_({loaded:v,total:v},!0),t(e,r)});else{var a=o.headers,c={"Cache-Control":a["cache-control"],"Content-Disposition":a["content-disposition"],"Content-Encoding":a["content-encoding"],"Content-Type":a["content-type"],Expires:a.expires,"x-cos-storage-class":a["x-cos-storage-class"]};s.each(a,function(e,t){0===t.indexOf("x-cos-meta-")&&t.length>"x-cos-meta-".length&&(c[t]=e)}),r.emit("get_file_size_finish",c)}else t({error:'get Content-Length error, please add "Content-Length" to CORS ExposeHeader setting.'})})}else t({error:"CopySource format error"})}};e.exports.init=function(e,t){t.transferToTaskMethod(m,"sliceUploadFile"),s.each(m,function(t,r){e.prototype[r]=s.apiWrapper(r,t)})}},function(e,t,r){"use strict";var n={eachLimit:function(e,t,r,n){if(n=n||function(){},!e.length||t<=0)return n();var i=0,o=0,a=0;!function s(){if(i>=e.length)return n();for(;a<t&&o<e.length;)a+=1,r(e[(o+=1)-1],function(t){t?(n(t),n=function(){}):(a-=1,(i+=1)>=e.length?n():s())})}()},retry:function(e,t,r){e<1?r():function n(i){t(function(t,o){t&&i<e?n(i+1):r(t,o)})}(1)}};e.exports=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=p(r(130)),a=p(r(262)),s=p(r(137)),c=p(r(81)),u=p(r(84)),l=p(r(90)),f=p(r(48));function p(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){var r=t.bucket,n=(t.key,t.token);return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={bucket:r,token:n,domain:"up.qiniup.com"},this.blockSize=4194304,this.httpQueue=[],this}return i(e,[{key:"directUpFile",value:function(e,t){var r=o.default.CancelToken.source(),i=o.default.create({headers:{Authorization:this.options.token},withCredentials:!1,cancelToken:r.token}),a=new FormData;a.append("key",e.key),a.append("token",this.options.token),a.append("file",e),i.post(e.host,a).then(function(e){t(null,n({},e.data,{name:e.data.key}))}).catch(function(e){t(e)}),this.httpQueue.push(r)}},{key:"sliceUpFile",value:function(e,t,r){for(var i=this,s=Math.ceil(e.size/this.blockSize),c=[],u=0;u<s;++u){var p=u*this.blockSize,d=Math.min(e.size,p+this.blockSize),h=d-p;c.push({index:u,file:e.slice(p,d),size:h,key:e.key,token:this.options.token})}var m=[];(0,a.default)(c,5,function(t,n){var a=o.default.CancelToken.source(),s=o.default.create({headers:{Accept:"*/*",Authorization:"UpToken "+t.token,"Content-Type":"application/octet-stream"},withCredentials:!1,cancelToken:a.token}),u=[e.host,"mkblk",t.size].join("/");u=u+"?"+["name="+t.key,"chunk="+t.index,"chunks="+c.length].join("&"),s.post(u,t.file).then(function(t){t.data&&t.data.ctx&&m.push(t.data.ctx),"function"==typeof r&&r(null,{file:e,percent:m.length/c.length}),n(null,t.data&&t.data.ctx)}).catch(function(e){n(e)}),i.httpQueue.push(a)},function(r,a){var s=o.default.CancelToken.source(),c=o.default.create({headers:{Authorization:"UpToken "+i.options.token,"Content-Type":"text/plain"},withCredentials:!1,cancelToken:s.token}),u=f.default.stringify(l.default.parse(e.key)).replace(/\+/g,"-").replace(/\//,"_"),p=[e.host,"mkfile",e.size,"key",u,"fname",u].join("/");c.post(p,a.join(",")).then(function(e){t(null,n({},e.data,{name:e.data.key}))}).catch(function(e){t(e)}),i.httpQueue.push(s)})}},{key:"put",value:function(e,t,r){var n=this;(0,s.default)([function(e){var t=o.default.CancelToken.source(),r=n.options.bucket,i=n.options.token.split(":")[0];o.default.create({headers:{},withCredentials:!1,cancelToken:t.token}).get("https://uc.qbox.me/v1/query",{params:{ak:i,bucket:r}}).then(function(t){var r=window.location.protocol.replace(/:$/,"")||"http",n=t.data[r]&&t.data[r].up&&t.data[r].up[1]||"http://up.qiniu.com";e(null,{host:n,protocol:r})}).catch(function(t){e(t)}),n.httpQueue.push(t)},function(t,i){(0,u.default)(e,function(e,i){e.host=t.host,(0,c.default)({times:3,interval:1e3},function(t){e.size<n.blockSize?n.directUpFile(e,function(n,i){"function"==typeof r&&r(null,{file:e,percent:1}),t(n,i)}):n.sliceUpFile(e,t,r)},i)},i)}],t)}},{key:"abort",value:function(){this.httpQueue.map(function(e){e.cancel()})}}]),e}();t.default=d},function(e,t,r){"use strict";var n=r(17),i=r(131),o=r(246),a=r(89);function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=s(a);c.Axios=o,c.create=function(e){return s(n.merge(a,e))},c.Cancel=r(135),c.CancelToken=r(260),c.isCancel=r(134),c.all=function(e){return Promise.all(e)},c.spread=r(261),e.exports=c,e.exports.default=c},function(e,t,r){"use strict";
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,r){"use strict";var n=r(89),i=r(17),o=r(255),a=r(256),s=r(258),c=r(259);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(n,this.defaults,{method:"get"},e)).method=e.method.toLowerCase(),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url));var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],function(e){u.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){u.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=u},function(e,t,r){"use strict";var n=r(17);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";var n=r(133);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},function(e,t,r){"use strict";var n=r(17);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,function(e,t){null!==e&&void 0!==e&&(n.isArray(e)&&(t+="[]"),n.isArray(e)||(e=[e]),n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,r){"use strict";var n=r(17);e.exports=function(e){var t,r,i,o={};return e?(n.forEach(e.split("\n"),function(e){i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t&&(o[t]=o[t]?o[t]+", "+r:r)}),o):o}},function(e,t,r){"use strict";var n=r(17);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,r,o=String(e),a="",s=0,c=n;o.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&t>>8-s%1*8)){if((r=o.charCodeAt(s+=.75))>255)throw new i;t=t<<8|r}return a}},function(e,t,r){"use strict";var n=r(17);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(17);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,r){"use strict";var n=r(17),i=r(257),o=r(134),a=r(89);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,r){"use strict";var n=r(17);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(135);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(136)),i=o(r(127));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(i.default),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(32).substr(1);t.default=function(){var e=function(){for(var e=[],t=0;t<32;++t)e[t]=parseInt(255*Math.random());return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=u(r(48)),a=u(r(90)),s=u(r(138)),c=u(r(265));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"parseToken",value:function(e){var t=e.split("."),r=n(t,3),i=r[0],o=r[1],a=r[2];try{return[i=JSON.parse(this.Base64Decode(this.UrlSafeDecode(i))),JSON.parse(this.Base64Decode(this.UrlSafeDecode(o))),[a,c.default.encrypt(o,a).toString()].join("./MKINFO>_")]}catch(e){return[i,o,a]}}},{key:"restringifyToken",value:function(e){var t=n(e,2),r=t[0],i=t[1].split("./MKINFO>_"),o=n(i,2),s=o[0],u=o[1];return[this.stringifyToken(r),c.default.decrypt(u,s).toString(a.default),s].join(".")}},{key:"stringifyToken",value:function(e){return this.UrlSafeEncode(this.Base64(JSON.stringify(e)))}},{key:"requestToken",value:function(e){var t=e.header,r=e.payload,n=e.secretKey;return[this.stringifyToken(t),this.stringifyToken(r),this.UrlSafeEncode(this.HmacSHA256(t+"."+r,n))].join(".")}},{key:"Base64Decode",value:function(e){return o.default.parse(e).toString(a.default)}},{key:"Base64",value:function(e){var t=a.default.parse(e);return o.default.stringify(t)}},{key:"UrlSafeDecode",value:function(e){var t={"-":"+",_:"/",".":"="};return(e+"===".slice((e.length+3)%4)).replace(/[-_.]/g,function(e){return t[e]})}},{key:"UrlSafeEncode",value:function(e){var t={"+":"-","/":"_","=":"."};return e.replace(/[+/=]/g,function(e){return t[e]}).replace(/[.=]{1,2}$/,"")}},{key:"HmacSHA256",value:function(e,t){return(0,s.default)(e,t).toString(o.default)}}]),e}();t.default=l},function(e,t,r){"use strict";var n,i,o,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,c,u){"object"===a(t)?e.exports=t=c(r(10),r(48),r(140),r(65),r(142)):(i=[r(10),r(48),r(140),r(65),r(142)],void 0===(o="function"==typeof(n=c)?n.apply(t,i):n)||(e.exports=o))}(0,function(e){return function(){var t=e,r=t.lib.BlockCipher,n=t.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],p=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var h=n^n<<1^n<<2^n<<3^n<<4;h=h>>>8^255&h^99,i[r]=h,o[h]=r;var m=e[r],v=e[m],_=e[v],g=257*e[h]^16843008*h;a[r]=g<<24|g>>>8,s[r]=g<<16|g>>>16,c[r]=g<<8|g>>>24,u[r]=g;g=16843009*_^65537*v^257*m^16843008*r;l[h]=g<<24|g>>>8,f[h]=g<<16|g>>>16,p[h]=g<<8|g>>>24,d[h]=g,r?(r=m^e[e[e[_^m]]],n^=e[e[n]]):r=n=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=r.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)if(a<r)o[a]=t[a];else{var s=o[a-1];a%r?r>6&&a%r==4&&(s=i[s>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s]):(s=i[(s=s<<8|s>>>24)>>>24]<<24|i[s>>>16&255]<<16|i[s>>>8&255]<<8|i[255&s],s^=h[a/r|0]<<24),o[a]=o[a-r]^s}for(var c=this._invKeySchedule=[],u=0;u<n;u++){a=n-u;if(u%4)s=o[a];else s=o[a-4];c[u]=u<4||a<=4?s:l[i[s>>>24]]^f[i[s>>>16&255]]^p[i[s>>>8&255]]^d[i[255&s]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,f,p,d,o);r=e[t+1];e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],p=e[t+3]^r[3],d=4,h=1;h<c;h++){var m=n[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&p]^r[d++],v=n[l>>>24]^i[f>>>16&255]^o[p>>>8&255]^a[255&u]^r[d++],_=n[f>>>24]^i[p>>>16&255]^o[u>>>8&255]^a[255&l]^r[d++],g=n[p>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^r[d++];u=m,l=v,f=_,p=g}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&p])^r[d++],v=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^r[d++],_=(s[f>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[d++],g=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[d++];e[t]=m,e[t+1]=v,e[t+2]=_,e[t+3]=g},keySize:8});t.AES=r._createHelper(m)}(),e.AES})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(267)),i=o(r(136));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(n.default),e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){((0,i.default)(t)?u:l)(e,t,(0,s.default)(r),n||a.default)};var n=c(r(268)),i=c(r(62)),o=c(r(269)),a=c(r(47)),s=c(r(32));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n){var i=new Array(t.length);e(t,function(e,t,n){r(e,function(e,r){i[t]=!!r,n(e)})},function(e){if(e)return n(e);for(var r=[],o=0;o<t.length;o++)i[o]&&r.push(t[o]);n(null,r)})}function l(e,t,r,i){var a=[];e(t,function(e,t,n){r(e,function(r,i){r?n(r):(i&&a.push({index:t,value:e}),n())})},function(e){e?i(e):i(null,(0,n.default)(a.sort(function(e,t){return e.index-t.index}),(0,o.default)("value")))})}e.exports=t.default},function(e,t,r){"use strict";e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},function(e,t,r){"use strict";e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,r){"use strict";r(271);var n=function(e){return e&&e.__esModule?e:{default:e}}(r(443));n.default._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),n.default._babelPolyfill=!0},function(e,t,r){"use strict";r(272),r(415),r(417),r(420),r(422),r(424),r(426),r(428),r(430),r(432),r(434),r(436),r(438),r(442)},function(e,t,r){r(273),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(296),r(297),r(298),r(299),r(300),r(301),r(302),r(303),r(304),r(305),r(306),r(307),r(308),r(309),r(310),r(311),r(312),r(313),r(314),r(315),r(316),r(317),r(319),r(320),r(321),r(322),r(323),r(324),r(325),r(326),r(327),r(328),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(336),r(337),r(338),r(339),r(340),r(341),r(342),r(343),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(354),r(355),r(357),r(358),r(359),r(360),r(361),r(362),r(363),r(365),r(366),r(367),r(368),r(369),r(370),r(371),r(372),r(373),r(374),r(375),r(376),r(377),r(111),r(378),r(163),r(379),r(164),r(380),r(381),r(382),r(383),r(165),r(386),r(387),r(388),r(389),r(390),r(391),r(392),r(393),r(394),r(395),r(396),r(397),r(398),r(399),r(400),r(401),r(402),r(403),r(404),r(405),r(406),r(407),r(408),r(409),r(410),r(411),r(412),r(413),r(414),e.exports=r(11)},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(4),o=r(18),a=r(12),s=r(2),c=r(15),u=r(34).KEY,l=r(5),f=r(66),p=r(49),d=r(38),h=r(8),m=r(92),v=r(144),_=r(275),g=r(69),y=r(6),b=r(7),w=r(14),S=r(20),x=r(33),E=r(37),k=r(42),T=r(147),R=r(26),C=r(68),A=r(13),P=r(40),O=R.f,M=A.f,I=T.f,N=i.Symbol,j=i.JSON,D=j&&j.stringify,B=h("_hidden"),L=h("toPrimitive"),F={}.propertyIsEnumerable,U=f("symbol-registry"),H=f("symbols"),q=f("op-symbols"),V=Object.prototype,z="function"==typeof N&&!!C.f,G=i.QObject,X=!G||!G.prototype||!G.prototype.findChild,K=a&&l(function(){return 7!=k(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=O(V,t);n&&delete V[t],M(e,t,r),n&&e!==V&&M(V,t,n)}:M,W=function(e){var t=H[e]=k(N.prototype);return t._k=e,t},Y=z&&"symbol"==n(N.iterator)?function(e){return"symbol"==(void 0===e?"undefined":n(e))}:function(e){return e instanceof N},$=function(e,t,r){return e===V&&$(q,t,r),y(e),t=x(t,!0),y(r),o(H,t)?(r.enumerable?(o(e,B)&&e[B][t]&&(e[B][t]=!1),r=k(r,{enumerable:E(0,!1)})):(o(e,B)||M(e,B,E(1,{})),e[B][t]=!0),K(e,t,r)):M(e,t,r)},J=function(e,t){y(e);for(var r,n=_(t=S(t)),i=0,o=n.length;o>i;)$(e,r=n[i++],t[r]);return e},Q=function(e){var t=F.call(this,e=x(e,!0));return!(this===V&&o(H,e)&&!o(q,e))&&(!(t||!o(this,e)||!o(H,e)||o(this,B)&&this[B][e])||t)},Z=function(e,t){if(e=S(e),t=x(t,!0),e!==V||!o(H,t)||o(q,t)){var r=O(e,t);return!r||!o(H,t)||o(e,B)&&e[B][t]||(r.enumerable=!0),r}},ee=function(e){for(var t,r=I(S(e)),n=[],i=0;r.length>i;)o(H,t=r[i++])||t==B||t==u||n.push(t);return n},te=function(e){for(var t,r=e===V,n=I(r?q:S(e)),i=[],a=0;n.length>a;)!o(H,t=n[a++])||r&&!o(V,t)||i.push(H[t]);return i};z||(c((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0);return a&&X&&K(V,e,{configurable:!0,set:function t(r){this===V&&t.call(q,r),o(this,B)&&o(this[B],e)&&(this[B][e]=!1),K(this,e,E(1,r))}}),W(e)}).prototype,"toString",function(){return this._k}),R.f=Z,A.f=$,r(43).f=T.f=ee,r(59).f=Q,C.f=te,a&&!r(39)&&c(V,"propertyIsEnumerable",Q,!0),m.f=function(e){return W(h(e))}),s(s.G+s.W+s.F*!z,{Symbol:N});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;re.length>ne;)h(re[ne++]);for(var ie=P(h.store),oe=0;ie.length>oe;)v(ie[oe++]);s(s.S+s.F*!z,"Symbol",{for:function(e){return o(U,e+="")?U[e]:U[e]=N(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){X=!0},useSimple:function(){X=!1}}),s(s.S+s.F*!z,"Object",{create:function(e,t){return void 0===t?k(e):J(k(e),t)},defineProperty:$,defineProperties:J,getOwnPropertyDescriptor:Z,getOwnPropertyNames:ee,getOwnPropertySymbols:te});var ae=l(function(){C.f(1)});s(s.S+s.F*ae,"Object",{getOwnPropertySymbols:function(e){return C.f(w(e))}}),j&&s(s.S+s.F*(!z||l(function(){var e=N();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!Y(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Y(t))return t}),n[1]=t,D.apply(j,n)}}),N.prototype[L]||r(19)(N.prototype,L,N.prototype.valueOf),p(N,"Symbol"),p(Math,"Math",!0),p(i.JSON,"JSON",!0)},function(e,t,r){e.exports=r(66)("native-function-to-string",Function.toString)},function(e,t,r){var n=r(40),i=r(68),o=r(59);e.exports=function(e){var t=n(e),r=i.f;if(r)for(var a,s=r(e),c=o.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,r){var n=r(2);n(n.S,"Object",{create:r(42)})},function(e,t,r){var n=r(2);n(n.S+n.F*!r(12),"Object",{defineProperty:r(13).f})},function(e,t,r){var n=r(2);n(n.S+n.F*!r(12),"Object",{defineProperties:r(146)})},function(e,t,r){var n=r(20),i=r(26).f;r(27)("getOwnPropertyDescriptor",function(){return function(e,t){return i(n(e),t)}})},function(e,t,r){var n=r(14),i=r(44);r(27)("getPrototypeOf",function(){return function(e){return i(n(e))}})},function(e,t,r){var n=r(14),i=r(40);r(27)("keys",function(){return function(e){return i(n(e))}})},function(e,t,r){r(27)("getOwnPropertyNames",function(){return r(147).f})},function(e,t,r){var n=r(7),i=r(34).onFreeze;r(27)("freeze",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(7),i=r(34).onFreeze;r(27)("seal",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(7),i=r(34).onFreeze;r(27)("preventExtensions",function(e){return function(t){return e&&n(t)?e(i(t)):t}})},function(e,t,r){var n=r(7);r(27)("isFrozen",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(7);r(27)("isSealed",function(e){return function(t){return!n(t)||!!e&&e(t)}})},function(e,t,r){var n=r(7);r(27)("isExtensible",function(e){return function(t){return!!n(t)&&(!e||e(t))}})},function(e,t,r){var n=r(2);n(n.S+n.F,"Object",{assign:r(148)})},function(e,t,r){var n=r(2);n(n.S,"Object",{is:r(149)})},function(e,t,r){var n=r(2);n(n.S,"Object",{setPrototypeOf:r(96).set})},function(e,t,r){"use strict";var n=r(60),i={};i[r(8)("toStringTag")]="z",i+""!="[object z]"&&r(15)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,r){var n=r(2);n(n.P,"Function",{bind:r(150)})},function(e,t,r){var n=r(13).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||r(12)&&n(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(7),i=r(44),o=r(8)("hasInstance"),a=Function.prototype;o in a||r(13).f(a,o,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,r){var n=r(2),i=r(152);n(n.G+n.F*(parseInt!=i),{parseInt:i})},function(e,t,r){var n=r(2),i=r(153);n(n.G+n.F*(parseFloat!=i),{parseFloat:i})},function(e,t,r){"use strict";var n=r(4),i=r(18),o=r(29),a=r(98),s=r(33),c=r(5),u=r(43).f,l=r(26).f,f=r(13).f,p=r(50).trim,d=n.Number,h=d,m=d.prototype,v="Number"==o(r(42)(m)),_="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var r,n,i,o=(t=_?t.trim():p(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=t.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+t}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||a>i)return NaN;return parseInt(c,n)}}return+t};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof d&&(v?c(function(){m.valueOf.call(r)}):"Number"!=o(r))?a(new h(g(t)),r,d):g(t)};for(var y,b=r(12)?u(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)i(h,y=b[w])&&!i(d,y)&&f(d,y,l(h,y));d.prototype=m,m.constructor=d,r(15)(n,"Number",d)}},function(e,t,r){"use strict";var n=r(2),i=r(25),o=r(154),a=r(99),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*u[r],u[r]=n%1e7,n=c(n/1e7)},p=function(e){for(var t=6,r=0;--t>=0;)r+=u[t],u[t]=c(r/e),r=r%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==u[e]){var r=String(u[e]);t=""===t?r:t+a.call("0",7-r.length)+r}return t},h=function e(t,r,n){return 0===r?n:r%2==1?e(t,r-1,n*t):e(t*t,r/2,n)};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r(5)(function(){s.call({})})),"Number",{toFixed:function(e){var t,r,n,s,c=o(this,l),u=i(e),m="",v="0";if(u<0||u>20)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(m="-",c=-c),c>1e-21)if(r=(t=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t}(c*h(2,69,1))-69)<0?c*h(2,-t,1):c/h(2,t,1),r*=4503599627370496,(t=52-t)>0){for(f(0,r),n=u;n>=7;)f(1e7,0),n-=7;for(f(h(10,n,1),0),n=t-1;n>=23;)p(1<<23),n-=23;p(1<<n),f(1,1),p(2),v=d()}else f(0,r),f(1<<-t,0),v=d()+a.call("0",u);return v=u>0?m+((s=v.length)<=u?"0."+a.call("0",u-s)+v:v.slice(0,s-u)+"."+v.slice(s-u)):m+v}})},function(e,t,r){"use strict";var n=r(2),i=r(5),o=r(154),a=1..toPrecision;n(n.P+n.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,r){var n=r(2);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,r){var n=r(2),i=r(4).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,r){var n=r(2);n(n.S,"Number",{isInteger:r(155)})},function(e,t,r){var n=r(2);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(2),i=r(155),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,r){var n=r(2);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,r){var n=r(2);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,r){var n=r(2),i=r(153);n(n.S+n.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,r){var n=r(2),i=r(152);n(n.S+n.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,r){var n=r(2),i=r(156),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,r){var n=r(2),i=Math.asinh;n(n.S+n.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,r){var n=r(2),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,r){var n=r(2),i=r(100);n(n.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,r){var n=r(2);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,r){var n=r(2),i=Math.exp;n(n.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,r){var n=r(2),i=r(101);n(n.S+n.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,r){var n=r(2);n(n.S,"Math",{fround:r(318)})},function(e,t,r){var n=r(100),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),c=i(2,-126);e.exports=Math.fround||function(e){var t,r,i=Math.abs(e),u=n(e);return i<c?u*function(e){return e+1/o-1/o}(i/c/a)*c*a:(r=(t=(1+a/o)*i)-(t-i))>s||r!=r?u*(1/0):u*r}},function(e,t,r){var n=r(2),i=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var r,n,o=0,a=0,s=arguments.length,c=0;a<s;)c<(r=i(arguments[a++]))?(o=o*(n=c/r)*n+1,c=r):o+=r>0?(n=r/c)*n:r;return c===1/0?1/0:c*Math.sqrt(o)}})},function(e,t,r){var n=r(2),i=Math.imul;n(n.S+n.F*r(5)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var r=+e,n=+t,i=65535&r,o=65535&n;return 0|i*o+((65535&r>>>16)*o+i*(65535&n>>>16)<<16>>>0)}})},function(e,t,r){var n=r(2);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,r){var n=r(2);n(n.S,"Math",{log1p:r(156)})},function(e,t,r){var n=r(2);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,r){var n=r(2);n(n.S,"Math",{sign:r(100)})},function(e,t,r){var n=r(2),i=r(101),o=Math.exp;n(n.S+n.F*r(5)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,r){var n=r(2),i=r(101),o=Math.exp;n(n.S,"Math",{tanh:function(e){var t=i(e=+e),r=i(-e);return t==1/0?1:r==1/0?-1:(t-r)/(o(e)+o(-e))}})},function(e,t,r){var n=r(2);n(n.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,r){var n=r(2),i=r(41),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}})},function(e,t,r){var n=r(2),i=r(20),o=r(9);n(n.S,"String",{raw:function(e){for(var t=i(e.raw),r=o(t.length),n=arguments.length,a=[],s=0;r>s;)a.push(String(t[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,r){"use strict";r(50)("trim",function(e){return function(){return e(this,3)}})},function(e,t,r){"use strict";var n=r(102)(!0);r(103)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){"use strict";var n=r(2),i=r(102)(!1);n(n.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,r){"use strict";var n=r(2),i=r(9),o=r(104),a="".endsWith;n(n.P+n.F*r(106)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),r=arguments.length>1?arguments[1]:void 0,n=i(t.length),s=void 0===r?n:Math.min(i(r),n),c=String(e);return a?a.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,r){"use strict";var n=r(2),i=r(104);n(n.P+n.F*r(106)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(2);n(n.P,"String",{repeat:r(99)})},function(e,t,r){"use strict";var n=r(2),i=r(9),o=r(104),a="".startsWith;n(n.P+n.F*r(106)("startsWith"),"String",{startsWith:function(e){var t=o(this,e,"startsWith"),r=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return a?a.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){"use strict";r(16)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,r){"use strict";r(16)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,r){"use strict";r(16)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,r){"use strict";r(16)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,r){"use strict";r(16)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,r){"use strict";r(16)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,r){"use strict";r(16)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,r){"use strict";r(16)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,r){"use strict";r(16)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,r){"use strict";r(16)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,r){"use strict";r(16)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,r){"use strict";r(16)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,r){"use strict";r(16)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,r){var n=r(2);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,r){"use strict";var n=r(2),i=r(14),o=r(33);n(n.P+n.F*r(5)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),r=o(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})},function(e,t,r){var n=r(2),i=r(353);n(n.P+n.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,r){"use strict";var n=r(5),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(r>99?r:"0"+a(r))+"Z"}:o},function(e,t,r){var n=Date.prototype,i=n.toString,o=n.getTime;new Date(NaN)+""!="Invalid Date"&&r(15)(n,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,r){var n=r(8)("toPrimitive"),i=Date.prototype;n in i||r(19)(i,n,r(356))},function(e,t,r){"use strict";var n=r(6),i=r(33);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!=e)}},function(e,t,r){var n=r(2);n(n.S,"Array",{isArray:r(69)})},function(e,t,r){"use strict";var n=r(23),i=r(2),o=r(14),a=r(158),s=r(107),c=r(9),u=r(108),l=r(109);i(i.S+i.F*!r(70)(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,f,p=o(e),d="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,_=0,g=l(p);if(v&&(m=n(m,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(r=new d(t=c(p.length));t>_;_++)u(r,_,v?m(p[_],_):p[_]);else for(f=g.call(p),r=new d;!(i=f.next()).done;_++)u(r,_,v?a(f,m,[i.value,_],!0):i.value);return r.length=_,r}})},function(e,t,r){"use strict";var n=r(2),i=r(108);n(n.S+n.F*r(5)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)i(r,e,arguments[e++]);return r.length=t,r}})},function(e,t,r){"use strict";var n=r(2),i=r(20),o=[].join;n(n.P+n.F*(r(58)!=Object||!r(22)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";var n=r(2),i=r(95),o=r(29),a=r(41),s=r(9),c=[].slice;n(n.P+n.F*r(5)(function(){i&&c.call(i)}),"Array",{slice:function(e,t){var r=s(this.length),n=o(this);if(t=void 0===t?r:t,"Array"==n)return c.call(this,e,t);for(var i=a(e,r),u=a(t,r),l=s(u-i),f=new Array(l),p=0;p<l;p++)f[p]="String"==n?this.charAt(i+p):this[i+p];return f}})},function(e,t,r){"use strict";var n=r(2),i=r(24),o=r(14),a=r(5),s=[].sort,c=[1,2,3];n(n.P+n.F*(a(function(){c.sort(void 0)})||!a(function(){c.sort(null)})||!r(22)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,r){"use strict";var n=r(2),i=r(28)(0),o=r(22)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,r){var n=r(7),i=r(69),o=r(8)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,r){"use strict";var n=r(2),i=r(28)(1);n(n.P+n.F*!r(22)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(28)(2);n(n.P+n.F*!r(22)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(28)(3);n(n.P+n.F*!r(22)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(28)(4);n(n.P+n.F*!r(22)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(160);n(n.P+n.F*!r(22)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,r){"use strict";var n=r(2),i=r(160);n(n.P+n.F*!r(22)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,r){"use strict";var n=r(2),i=r(67)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!r(22)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,r){"use strict";var n=r(2),i=r(20),o=r(25),a=r(9),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(c||!r(22)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=i(this),r=a(t.length),n=r-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}})},function(e,t,r){var n=r(2);n(n.P,"Array",{copyWithin:r(161)}),r(45)("copyWithin")},function(e,t,r){var n=r(2);n(n.P,"Array",{fill:r(110)}),r(45)("fill")},function(e,t,r){"use strict";var n=r(2),i=r(28)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),n(n.P+n.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(45)("find")},function(e,t,r){"use strict";var n=r(2),i=r(28)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(45)(o)},function(e,t,r){r(52)("Array")},function(e,t,r){var n=r(4),i=r(98),o=r(13).f,a=r(43).f,s=r(105),c=r(71),u=n.RegExp,l=u,f=u.prototype,p=/a/g,d=/a/g,h=new u(p)!==p;if(r(12)&&(!h||r(5)(function(){return d[r(8)("match")]=!1,u(p)!=p||u(d)==d||"/a/i"!=u(p,"i")}))){u=function(e,t){var r=this instanceof u,n=s(e),o=void 0===t;return!r&&n&&e.constructor===u&&o?e:i(h?new l(n&&!o?e.source:e,t):l((n=e instanceof u)?e.source:e,n&&o?c.call(e):t),r?this:f,u)};for(var m=function(e){e in u||o(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),_=0;v.length>_;)m(v[_++]);f.constructor=u,u.prototype=f,r(15)(n,"RegExp",u)}r(52)("RegExp")},function(e,t,r){"use strict";r(164);var n=r(6),i=r(71),o=r(12),a=/./.toString,s=function(e){r(15)(RegExp.prototype,"toString",e,!0)};r(5)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,r){"use strict";var n=r(6),i=r(9),o=r(113),a=r(72);r(73)("match",1,function(e,t,r,s){return[function(r){var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=s(r,e,this);if(t.done)return t.value;var c=n(e),u=String(this);if(!c.global)return a(c,u);var l=c.unicode;c.lastIndex=0;for(var f,p=[],d=0;null!==(f=a(c,u));){var h=String(f[0]);p[d]=h,""===h&&(c.lastIndex=o(u,i(c.lastIndex),l)),d++}return 0===d?null:p}]})},function(e,t,r){"use strict";var n=r(6),i=r(14),o=r(9),a=r(25),s=r(113),c=r(72),u=Math.max,l=Math.min,f=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};r(73)("replace",2,function(e,t,r,m){return[function(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},function(e,t){var i=m(r,e,this,t);if(i.done)return i.value;var f=n(e),p=String(this),d="function"==typeof t;d||(t=String(t));var _=f.global;if(_){var g=f.unicode;f.lastIndex=0}for(var y=[];;){var b=c(f,p);if(null===b)break;if(y.push(b),!_)break;""===String(b[0])&&(f.lastIndex=s(p,o(f.lastIndex),g))}for(var w="",S=0,x=0;x<y.length;x++){b=y[x];for(var E=String(b[0]),k=u(l(a(b.index),p.length),0),T=[],R=1;R<b.length;R++)T.push(h(b[R]));var C=b.groups;if(d){var A=[E].concat(T,k,p);void 0!==C&&A.push(C);var P=String(t.apply(void 0,A))}else P=v(E,p,k,T,C,t);k>=S&&(w+=p.slice(S,k)+P,S=k+E.length)}return w+p.slice(S)}];function v(e,t,n,o,a,s){var c=n+e.length,u=o.length,l=d;return void 0!==a&&(a=i(a),l=p),r.call(s,l,function(r,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":s=a[i.slice(1,-1)];break;default:var l=+i;if(0===l)return r;if(l>u){var p=f(l/10);return 0===p?r:p<=u?void 0===o[p-1]?i.charAt(1):o[p-1]+i.charAt(1):r}s=o[l-1]}return void 0===s?"":s})}})},function(e,t,r){"use strict";var n=r(6),i=r(149),o=r(72);r(73)("search",1,function(e,t,r,a){return[function(r){var n=e(this),i=void 0==r?void 0:r[t];return void 0!==i?i.call(r,n):new RegExp(r)[t](String(n))},function(e){var t=a(r,e,this);if(t.done)return t.value;var s=n(e),c=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var l=o(s,c);return i(s.lastIndex,u)||(s.lastIndex=u),null===l?-1:l.index}]})},function(e,t,r){"use strict";var n=r(105),i=r(6),o=r(61),a=r(113),s=r(9),c=r(72),u=r(112),l=r(5),f=Math.min,p=[].push,d=!l(function(){RegExp(4294967295,"y")});r(73)("split",2,function(e,t,r,l){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(i,e,t);for(var o,a,s,c=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,d=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,l+"g");(o=u.call(h,i))&&!((a=h.lastIndex)>f&&(c.push(i.slice(f,o.index)),o.length>1&&o.index<i.length&&p.apply(c,o.slice(1)),s=o[0].length,f=a,c.length>=d));)h.lastIndex===o.index&&h.lastIndex++;return f===i.length?!s&&h.test("")||c.push(""):c.push(i.slice(f)),c.length>d?c.slice(0,d):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)}:r,[function(r,n){var i=e(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,n):h.call(String(i),r,n)},function(e,t){var n=l(h,e,this,t,h!==r);if(n.done)return n.value;var u=i(e),p=String(this),m=o(u,RegExp),v=u.unicode,_=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(d?"y":"g"),g=new m(d?u:"^(?:"+u.source+")",_),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===p.length)return null===c(g,p)?[p]:[];for(var b=0,w=0,S=[];w<p.length;){g.lastIndex=d?w:0;var x,E=c(g,d?p:p.slice(w));if(null===E||(x=f(s(g.lastIndex+(d?0:w)),p.length))===b)w=a(p,w,v);else{if(S.push(p.slice(b,w)),S.length===y)return S;for(var k=1;k<=E.length-1;k++)if(S.push(E[k]),S.length===y)return S;w=b=x}}return S.push(p.slice(b)),S}]})},function(e,t,r){var n=r(4),i=r(114).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==r(29)(a);e.exports=function(){var e,t,r,u=function(){var n,i;for(c&&(n=a.domain)&&n.exit();e;){i=e.fn,e=e.next;try{i()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);r=function(){l.then(u)}}else r=function(){i.call(n,u)};else{var f=!0,p=document.createTextNode("");new o(u).observe(p,{characterData:!0}),r=function(){p.data=f=!f}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,r){"use strict";var n=r(168),i=r(46);e.exports=r(76)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(i(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,r){"use strict";var n=r(168),i=r(46);e.exports=r(76)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,r){"use strict";var n,i=r(4),o=r(28)(0),a=r(15),s=r(34),c=r(148),u=r(169),l=r(7),f=r(46),p=r(46),d=!i.ActiveXObject&&"ActiveXObject"in i,h=s.getWeak,m=Object.isExtensible,v=u.ufstore,_=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(l(e)){var t=h(e);return!0===t?v(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},y=e.exports=r(76)("WeakMap",_,g,u,!0,!0);p&&d&&(c((n=u.getConstructor(_,"WeakMap")).prototype,g),s.NEED=!0,o(["delete","has","get","set"],function(e){var t=y.prototype,r=t[e];a(t,e,function(t,i){if(l(t)&&!m(t)){this._f||(this._f=new n);var o=this._f[e](t,i);return"set"==e?this:o}return r.call(this,t,i)})}))},function(e,t,r){"use strict";var n=r(169),i=r(46);r(76)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(i(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,r){"use strict";var n=r(2),i=r(77),o=r(115),a=r(6),s=r(41),c=r(9),u=r(7),l=r(4).ArrayBuffer,f=r(61),p=o.ArrayBuffer,d=o.DataView,h=i.ABV&&l.isView,m=p.prototype.slice,v=i.VIEW;n(n.G+n.W+n.F*(l!==p),{ArrayBuffer:p}),n(n.S+n.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||u(e)&&v in e}}),n(n.P+n.U+n.F*r(5)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(a(this),e);for(var r=a(this).byteLength,n=s(e,r),i=s(void 0===t?r:t,r),o=new(f(this,p))(c(i-n)),u=new d(this),l=new d(o),h=0;n<i;)l.setUint8(h++,u.getUint8(n++));return o}}),r(52)("ArrayBuffer")},function(e,t,r){var n=r(2);n(n.G+n.W+n.F*!r(77).ABV,{DataView:r(115).DataView})},function(e,t,r){r(31)("Int8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Uint8",1,function(e){return function(t,r,n){return e(this,t,r,n)}},!0)},function(e,t,r){r(31)("Int16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Uint16",2,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Int32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Uint32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Float32",4,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){r(31)("Float64",8,function(e){return function(t,r,n){return e(this,t,r,n)}})},function(e,t,r){var n=r(2),i=r(24),o=r(6),a=(r(4).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!r(5)(function(){a(function(){})}),"Reflect",{apply:function(e,t,r){var n=i(e),c=o(r);return a?a(n,t,c):s.call(n,t,c)}})},function(e,t,r){var n=r(2),i=r(42),o=r(24),a=r(6),s=r(7),c=r(5),u=r(150),l=(r(4).Reflect||{}).construct,f=c(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),p=!c(function(){l(function(){})});n(n.S+n.F*(f||p),"Reflect",{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(p&&!f)return l(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}var c=r.prototype,d=i(s(c)?c:Object.prototype),h=Function.apply.call(e,d,t);return s(h)?h:d}})},function(e,t,r){var n=r(13),i=r(2),o=r(6),a=r(33);i(i.S+i.F*r(5)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,r){o(e),t=a(t,!0),o(r);try{return n.f(e,t,r),!0}catch(e){return!1}}})},function(e,t,r){var n=r(2),i=r(26).f,o=r(6);n(n.S,"Reflect",{deleteProperty:function(e,t){var r=i(o(e),t);return!(r&&!r.configurable)&&delete e[t]}})},function(e,t,r){"use strict";var n=r(2),i=r(6),o=function(e){this._t=i(e),this._i=0;var t,r=this._k=[];for(t in e)r.push(t)};r(157)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,r){var n=r(26),i=r(44),o=r(18),a=r(2),s=r(7),c=r(6);a(a.S,"Reflect",{get:function e(t,r){var a,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[r]:(a=n.f(t,r))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(u=i(t))?e(u,r,l):void 0}})},function(e,t,r){var n=r(26),i=r(2),o=r(6);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(o(e),t)}})},function(e,t,r){var n=r(2),i=r(44),o=r(6);n(n.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,r){var n=r(2);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,r){var n=r(2),i=r(6),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,r){var n=r(2);n(n.S,"Reflect",{ownKeys:r(171)})},function(e,t,r){var n=r(2),i=r(6),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,r){var n=r(13),i=r(26),o=r(44),a=r(18),s=r(2),c=r(37),u=r(6),l=r(7);s(s.S,"Reflect",{set:function e(t,r,s){var f,p,d=arguments.length<4?t:arguments[3],h=i.f(u(t),r);if(!h){if(l(p=o(t)))return e(p,r,s,d);h=c(0)}if(a(h,"value")){if(!1===h.writable||!l(d))return!1;if(f=i.f(d,r)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,n.f(d,r,f)}else n.f(d,r,c(0,s));return!0}return void 0!==h.set&&(h.set.call(d,s),!0)}})},function(e,t,r){var n=r(2),i=r(96);i&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){r(416),e.exports=r(11).Array.includes},function(e,t,r){"use strict";var n=r(2),i=r(67)(!0);n(n.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(45)("includes")},function(e,t,r){r(418),e.exports=r(11).Array.flatMap},function(e,t,r){"use strict";var n=r(2),i=r(419),o=r(14),a=r(9),s=r(24),c=r(159);n(n.P,"Array",{flatMap:function(e){var t,r,n=o(this);return s(e),t=a(n.length),r=c(n,0),i(r,n,n,t,0,1,e,arguments[1]),r}}),r(45)("flatMap")},function(e,t,r){"use strict";var n=r(69),i=r(7),o=r(9),a=r(23),s=r(8)("isConcatSpreadable");e.exports=function e(t,r,c,u,l,f,p,d){for(var h,m,v=l,_=0,g=!!p&&a(p,d,3);_<u;){if(_ in c){if(h=g?g(c[_],_,r):c[_],m=!1,i(h)&&(m=void 0!==(m=h[s])?!!m:n(h)),m&&f>0)v=e(t,r,h,o(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}_++}return v}},function(e,t,r){r(421),e.exports=r(11).String.padStart},function(e,t,r){"use strict";var n=r(2),i=r(172),o=r(75),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,r){r(423),e.exports=r(11).String.padEnd},function(e,t,r){"use strict";var n=r(2),i=r(172),o=r(75),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(o);n(n.P+n.F*a,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,r){r(425),e.exports=r(11).String.trimLeft},function(e,t,r){"use strict";r(50)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,r){r(427),e.exports=r(11).String.trimRight},function(e,t,r){"use strict";r(50)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,r){r(429),e.exports=r(92).f("asyncIterator")},function(e,t,r){r(144)("asyncIterator")},function(e,t,r){r(431),e.exports=r(11).Object.getOwnPropertyDescriptors},function(e,t,r){var n=r(2),i=r(171),o=r(20),a=r(26),s=r(108);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,r,n=o(e),c=a.f,u=i(n),l={},f=0;u.length>f;)void 0!==(r=c(n,t=u[f++]))&&s(l,t,r);return l}})},function(e,t,r){r(433),e.exports=r(11).Object.values},function(e,t,r){var n=r(2),i=r(173)(!1);n(n.S,"Object",{values:function(e){return i(e)}})},function(e,t,r){r(435),e.exports=r(11).Object.entries},function(e,t,r){var n=r(2),i=r(173)(!0);n(n.S,"Object",{entries:function(e){return i(e)}})},function(e,t,r){"use strict";r(165),r(437),e.exports=r(11).Promise.finally},function(e,t,r){"use strict";var n=r(2),i=r(11),o=r(4),a=r(61),s=r(167);n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},function(e,t,r){r(439),r(440),r(441),e.exports=r(11)},function(e,t,r){var n=r(4),i=r(2),o=r(75),a=[].slice,s=/MSIE .\./.test(o),c=function(e){return function(t,r){var n=arguments.length>2,i=!!n&&a.call(arguments,2);return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};i(i.G+i.B+i.F*s,{setTimeout:c(n.setTimeout),setInterval:c(n.setInterval)})},function(e,t,r){var n=r(2),i=r(114);n(n.G+n.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,r){for(var n=r(111),i=r(40),o=r(15),a=r(4),s=r(19),c=r(51),u=r(8),l=u("iterator"),f=u("toStringTag"),p=c.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(d),m=0;m<h.length;m++){var v,_=h[m],g=d[_],y=a[_],b=y&&y.prototype;if(b&&(b[l]||s(b,l,p),b[f]||s(b,f,_),c[_]=p,g))for(v in n)b[v]||o(b,v,n[v],!0)}},function(e,t,r){(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(n||[]);return o._invoke=function(e,t,r){var n=f;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw o;return P()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:p,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",m={};function v(){}function _(){}function g(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&i.call(w,a)&&(y=w);var S=g.prototype=v.prototype=Object.create(y);function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e,r){var n;this._invoke=function(o,a){function s(){return new r(function(n,s){!function n(o,a,s,c){var u=l(e[o],e,a);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"===(void 0===p?"undefined":t(p))&&i.call(p,"__await")?r.resolve(p.__await).then(function(e){n("next",e,s,c)},function(e){n("throw",e,s,c)}):r.resolve(p).then(function(e){f.value=e,s(f)},function(e){return n("throw",e,s,c)})}c(u.arg)}(o,a,n,s)})}return n=n?n.then(s,s):s()}}function k(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,k(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:r,done:!0}}return _.prototype=S.constructor=g,g.constructor=_,g[c]=_.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},x(E.prototype),E.prototype[s]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new E(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then(function(e){return e.done?e.value:a.next()})},x(S),S[c]="Generator",S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(R),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),R(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;R(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}).call(this,r(36)(e))},function(e,t,r){r(444),e.exports=r(174).global},function(e,t,r){var n=r(445);n(n.G,{global:r(116)})},function(e,t,r){var n=r(116),i=r(174),o=r(446),a=r(448),s=r(455),c=function e(t,r,c){var u,l,f,p=t&e.F,d=t&e.G,h=t&e.S,m=t&e.P,v=t&e.B,_=t&e.W,g=d?i:i[r]||(i[r]={}),y=g.prototype,b=d?n:h?n[r]:(n[r]||{}).prototype;for(u in d&&(c=r),c)(l=!p&&b&&void 0!==b[u])&&s(g,u)||(f=l?b[u]:c[u],g[u]=d&&"function"!=typeof b[u]?c[u]:v&&l?o(f,n):_&&b[u]==f?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((g.virtual||(g.virtual={}))[u]=f,t&e.R&&y&&!y[u]&&a(y,u,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,r){var n=r(447);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,r){var n=r(449),i=r(454);e.exports=r(118)?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(450),i=r(451),o=r(453),a=Object.defineProperty;t.f=r(118)?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(117);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(118)&&!r(175)(function(){return 7!=Object.defineProperty(r(452)("div"),"a",{get:function(){return 7}}).a})},function(e,t,r){var n=r(117),i=r(116).document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,r){var n=r(117);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}}]).default});